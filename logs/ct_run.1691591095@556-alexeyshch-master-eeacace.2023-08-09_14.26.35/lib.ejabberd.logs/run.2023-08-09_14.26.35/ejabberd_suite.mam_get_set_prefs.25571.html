<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:mam_get_set_prefs result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#mam_get_set_prefs-1">ejabberd_SUITE:mam_get_set_prefs/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.6612.1&gt;},
     {watchdog,&lt;0.6611.1&gt;},
     {server,&lt;&lt;"mysql.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1691591095@556-alexeyshch-master-eeacace.2023-08-09_14.26.35/lib.ejabberd.logs/run.2023-08-09_14.26.35/ejabberd_suite.mam_get_set_prefs.25571.html"},
     {tc_group_properties,[{name,mam_single},sequence]},
     {tc_group_path,[[{name,single_user},sequence],[{name,mysql},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1691591095@556-alexeyshch-master-eeacace.2023-08-09_14.26.35/lib.ejabberd.logs/run.2023-08-09_14.26.35/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1691591095@556-alexeyshch-master-eeacace.2023-08-09_14.26.35"

=== Started at 2023-08-09 14:30:57

<br />

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.870 ***</b><a id=e-33913 class="link-to-entry" href="#e-33913">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='mysql.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"mysql.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"mysql.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-08-09 14:30:57.871 ***</b><a id=e-33914 class="link-to-entry" href="#e-33914">&#x1f517;</a>
=INFO REPORT==== 9-Aug-2023::14:30:57.870916 ===
(&lt;0.6626.1&gt;) Accepted connection 127.0.0.1:44382 -&gt; 127.0.0.1:5222

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.871 ***</b><a id=e-33915 class="link-to-entry" href="#e-33915">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='13374680740521924789'
               version='1.0'
               xml:lang='en'
               from='mysql.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"mysql.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"mysql.localhost">>,lresource = <<>>},
              to = undefined,id = <<"13374680740521924789">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.871 ***</b><a id=e-33916 class="link-to-entry" href="#e-33916">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.872 ***</b><a id=e-33917 class="link-to-entry" href="#e-33917">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zaW5nbGUhIyQlXiooKWB+Ky07Xz1bXXt9fFxAbXlzcWwubG9jYWxob3N0AHRlc3Rfc2luZ2xlISMkJV4qKClgfistO189W117fXxcAHBhc3N3b3JkIUAjJCVeJiooKSciYH48PistLzs6Xz1bXXt9fFw=&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,105,110,103,108,101,33,35,36,37,94,
                    42,40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,
                    109,121,115,113,108,46,108,111,99,97,108,104,111,115,116,
                    0,116,101,115,116,95,115,105,110,103,108,101,33,35,36,37,
                    94,42,40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,
                    112,97,115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,
                    41,39,34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,
                    124,92>>}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-08-09 14:30:57.872 ***</b><a id=e-33918 class="link-to-entry" href="#e-33918">&#x1f517;</a>
=INFO REPORT==== 9-Aug-2023::14:30:57.872574 ===
(tcp|&lt;0.6626.1&gt;) Accepted c2s PLAIN authentication for test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost by sql backend from 127.0.0.1

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.873 ***</b><a id=e-33919 class="link-to-entry" href="#e-33919">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.873 ***</b><a id=e-33920 class="link-to-entry" href="#e-33920">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='mysql.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"mysql.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"mysql.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.873 ***</b><a id=e-33921 class="link-to-entry" href="#e-33921">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='823651984914843114'
               version='1.0'
               xml:lang='en'
               from='mysql.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"mysql.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"mysql.localhost">>,lresource = <<>>},
              to = undefined,id = <<"823651984914843114">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.874 ***</b><a id=e-33922 class="link-to-entry" href="#e-33922">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='RsZUO/k2xwmyvdC8vIjQDsA1fow='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"RsZUO/k2xwmyvdC8vIjQDsA1fow=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.874 ***</b><a id=e-33923 class="link-to-entry" href="#e-33923">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4605255643020022323'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"4605255643020022323">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-08-09 14:30:57.878 ***</b><a id=e-33924 class="link-to-entry" href="#e-33924">&#x1f517;</a>
=INFO REPORT==== 9-Aug-2023::14:30:57.878080 ===
(tcp|&lt;0.6626.1&gt;) Opened c2s session for test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()'"`~&lt;&gt;+-/;:_=[]{}|\

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.878 ***</b><a id=e-33925 class="link-to-entry" href="#e-33925">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='4605255643020022323'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"4605255643020022323">>,type = result,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.879 ***</b><a id=e-33926 class="link-to-entry" href="#e-33926">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17557395179124965216'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17557395179124965216">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.882 ***</b><a id=e-33927 class="link-to-entry" href="#e-33927">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17557395179124965216'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17557395179124965216">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.882 ***</b><a id=e-33928 class="link-to-entry" href="#e-33928">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11962880965254255259'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"11962880965254255259">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.883 ***</b><a id=e-33929 class="link-to-entry" href="#e-33929">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='11962880965254255259'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11962880965254255259">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.883 ***</b><a id=e-33930 class="link-to-entry" href="#e-33930">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14542434431100514157'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14542434431100514157">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.886 ***</b><a id=e-33931 class="link-to-entry" href="#e-33931">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14542434431100514157'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14542434431100514157">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.886 ***</b><a id=e-33932 class="link-to-entry" href="#e-33932">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13632081256190064407'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"13632081256190064407">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.887 ***</b><a id=e-33933 class="link-to-entry" href="#e-33933">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='13632081256190064407'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13632081256190064407">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.887 ***</b><a id=e-33934 class="link-to-entry" href="#e-33934">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1058397152665373845'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1058397152665373845">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.890 ***</b><a id=e-33935 class="link-to-entry" href="#e-33935">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1058397152665373845'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1058397152665373845">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.890 ***</b><a id=e-33936 class="link-to-entry" href="#e-33936">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3553151461533429760'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"3553151461533429760">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.892 ***</b><a id=e-33937 class="link-to-entry" href="#e-33937">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='3553151461533429760'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3553151461533429760">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.892 ***</b><a id=e-33938 class="link-to-entry" href="#e-33938">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1822018775733048624'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1822018775733048624">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.895 ***</b><a id=e-33939 class="link-to-entry" href="#e-33939">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1822018775733048624'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1822018775733048624">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.895 ***</b><a id=e-33940 class="link-to-entry" href="#e-33940">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='9697597796627637501'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"9697597796627637501">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.896 ***</b><a id=e-33941 class="link-to-entry" href="#e-33941">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='9697597796627637501'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9697597796627637501">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.896 ***</b><a id=e-33942 class="link-to-entry" href="#e-33942">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11729615068714673241'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11729615068714673241">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.898 ***</b><a id=e-33943 class="link-to-entry" href="#e-33943">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='11729615068714673241'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11729615068714673241">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.898 ***</b><a id=e-33944 class="link-to-entry" href="#e-33944">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5782926145598351353'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"5782926145598351353">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.898 ***</b><a id=e-33945 class="link-to-entry" href="#e-33945">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5782926145598351353'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5782926145598351353">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.898 ***</b><a id=e-33946 class="link-to-entry" href="#e-33946">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6865504201942997094'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6865504201942997094">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.901 ***</b><a id=e-33947 class="link-to-entry" href="#e-33947">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='6865504201942997094'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6865504201942997094">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.901 ***</b><a id=e-33948 class="link-to-entry" href="#e-33948">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5545125762241082121'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"5545125762241082121">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.902 ***</b><a id=e-33949 class="link-to-entry" href="#e-33949">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5545125762241082121'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5545125762241082121">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.902 ***</b><a id=e-33950 class="link-to-entry" href="#e-33950">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8298036214202068328'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8298036214202068328">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.904 ***</b><a id=e-33951 class="link-to-entry" href="#e-33951">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='8298036214202068328'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8298036214202068328">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.904 ***</b><a id=e-33952 class="link-to-entry" href="#e-33952">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='7988122827129492946'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"7988122827129492946">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.905 ***</b><a id=e-33953 class="link-to-entry" href="#e-33953">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7988122827129492946'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7988122827129492946">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.905 ***</b><a id=e-33954 class="link-to-entry" href="#e-33954">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17518059848860319572'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17518059848860319572">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.907 ***</b><a id=e-33955 class="link-to-entry" href="#e-33955">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17518059848860319572'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17518059848860319572">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.907 ***</b><a id=e-33956 class="link-to-entry" href="#e-33956">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8106796373561236338'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"8106796373561236338">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.908 ***</b><a id=e-33957 class="link-to-entry" href="#e-33957">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='8106796373561236338'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8106796373561236338">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.908 ***</b><a id=e-33958 class="link-to-entry" href="#e-33958">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15490388397419471121'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15490388397419471121">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.910 ***</b><a id=e-33959 class="link-to-entry" href="#e-33959">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='15490388397419471121'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15490388397419471121">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.910 ***</b><a id=e-33960 class="link-to-entry" href="#e-33960">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='70863542274814783'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"70863542274814783">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.911 ***</b><a id=e-33961 class="link-to-entry" href="#e-33961">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='70863542274814783'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"70863542274814783">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.911 ***</b><a id=e-33962 class="link-to-entry" href="#e-33962">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9531756750351767478'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9531756750351767478">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.914 ***</b><a id=e-33963 class="link-to-entry" href="#e-33963">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='9531756750351767478'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9531756750351767478">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.914 ***</b><a id=e-33964 class="link-to-entry" href="#e-33964">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12513163704863824476'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"12513163704863824476">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.915 ***</b><a id=e-33965 class="link-to-entry" href="#e-33965">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='12513163704863824476'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12513163704863824476">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.915 ***</b><a id=e-33966 class="link-to-entry" href="#e-33966">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13806014287500918209'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13806014287500918209">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.917 ***</b><a id=e-33967 class="link-to-entry" href="#e-33967">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='13806014287500918209'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13806014287500918209">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.917 ***</b><a id=e-33968 class="link-to-entry" href="#e-33968">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='7263599035237113707'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"7263599035237113707">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.918 ***</b><a id=e-33969 class="link-to-entry" href="#e-33969">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7263599035237113707'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7263599035237113707">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.918 ***</b><a id=e-33970 class="link-to-entry" href="#e-33970">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17734068888530604220'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17734068888530604220">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.921 ***</b><a id=e-33971 class="link-to-entry" href="#e-33971">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17734068888530604220'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17734068888530604220">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.921 ***</b><a id=e-33972 class="link-to-entry" href="#e-33972">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16809187198175046337'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"16809187198175046337">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.922 ***</b><a id=e-33973 class="link-to-entry" href="#e-33973">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='16809187198175046337'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16809187198175046337">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.922 ***</b><a id=e-33974 class="link-to-entry" href="#e-33974">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7373998335632630329'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7373998335632630329">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.924 ***</b><a id=e-33975 class="link-to-entry" href="#e-33975">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7373998335632630329'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7373998335632630329">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.924 ***</b><a id=e-33976 class="link-to-entry" href="#e-33976">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2602399167606903773'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"2602399167606903773">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.925 ***</b><a id=e-33977 class="link-to-entry" href="#e-33977">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='2602399167606903773'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2602399167606903773">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.925 ***</b><a id=e-33978 class="link-to-entry" href="#e-33978">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14458637522663211037'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14458637522663211037">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.927 ***</b><a id=e-33979 class="link-to-entry" href="#e-33979">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14458637522663211037'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14458637522663211037">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.927 ***</b><a id=e-33980 class="link-to-entry" href="#e-33980">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12413997264251968969'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"12413997264251968969">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.928 ***</b><a id=e-33981 class="link-to-entry" href="#e-33981">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='12413997264251968969'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12413997264251968969">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.928 ***</b><a id=e-33982 class="link-to-entry" href="#e-33982">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14009992189694306272'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14009992189694306272">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.930 ***</b><a id=e-33983 class="link-to-entry" href="#e-33983">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14009992189694306272'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14009992189694306272">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.931 ***</b><a id=e-33984 class="link-to-entry" href="#e-33984">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14619483443852882940'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"14619483443852882940">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.931 ***</b><a id=e-33985 class="link-to-entry" href="#e-33985">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14619483443852882940'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14619483443852882940">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.932 ***</b><a id=e-33986 class="link-to-entry" href="#e-33986">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16181462967224140555'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16181462967224140555">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.934 ***</b><a id=e-33987 class="link-to-entry" href="#e-33987">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='16181462967224140555'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16181462967224140555">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.934 ***</b><a id=e-33988 class="link-to-entry" href="#e-33988">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2119134015672860306'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"2119134015672860306">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.935 ***</b><a id=e-33989 class="link-to-entry" href="#e-33989">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='2119134015672860306'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2119134015672860306">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.935 ***</b><a id=e-33990 class="link-to-entry" href="#e-33990">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10078826498034770748'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10078826498034770748">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.937 ***</b><a id=e-33991 class="link-to-entry" href="#e-33991">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='10078826498034770748'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10078826498034770748">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.937 ***</b><a id=e-33992 class="link-to-entry" href="#e-33992">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11961809836927569697'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"11961809836927569697">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.938 ***</b><a id=e-33993 class="link-to-entry" href="#e-33993">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='11961809836927569697'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11961809836927569697">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.938 ***</b><a id=e-33994 class="link-to-entry" href="#e-33994">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17129556750027949751'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17129556750027949751">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.941 ***</b><a id=e-33995 class="link-to-entry" href="#e-33995">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17129556750027949751'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17129556750027949751">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.941 ***</b><a id=e-33996 class="link-to-entry" href="#e-33996">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='6828588043586653774'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"6828588043586653774">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.942 ***</b><a id=e-33997 class="link-to-entry" href="#e-33997">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='6828588043586653774'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6828588043586653774">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.942 ***</b><a id=e-33998 class="link-to-entry" href="#e-33998">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14213729499366092791'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14213729499366092791">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.945 ***</b><a id=e-33999 class="link-to-entry" href="#e-33999">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14213729499366092791'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14213729499366092791">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.945 ***</b><a id=e-34000 class="link-to-entry" href="#e-34000">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3090078386697517109'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"3090078386697517109">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.946 ***</b><a id=e-34001 class="link-to-entry" href="#e-34001">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='3090078386697517109'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3090078386697517109">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.946 ***</b><a id=e-34002 class="link-to-entry" href="#e-34002">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10335773854145321347'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10335773854145321347">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.948 ***</b><a id=e-34003 class="link-to-entry" href="#e-34003">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='10335773854145321347'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10335773854145321347">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.948 ***</b><a id=e-34004 class="link-to-entry" href="#e-34004">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8268849567474905708'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"8268849567474905708">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.949 ***</b><a id=e-34005 class="link-to-entry" href="#e-34005">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='8268849567474905708'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8268849567474905708">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.949 ***</b><a id=e-34006 class="link-to-entry" href="#e-34006">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7180809042850846691'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7180809042850846691">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.951 ***</b><a id=e-34007 class="link-to-entry" href="#e-34007">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7180809042850846691'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7180809042850846691">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.952 ***</b><a id=e-34008 class="link-to-entry" href="#e-34008">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2036029875682011058'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"2036029875682011058">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.952 ***</b><a id=e-34009 class="link-to-entry" href="#e-34009">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='2036029875682011058'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2036029875682011058">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.953 ***</b><a id=e-34010 class="link-to-entry" href="#e-34010">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1104825914821775943'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1104825914821775943">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.955 ***</b><a id=e-34011 class="link-to-entry" href="#e-34011">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1104825914821775943'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1104825914821775943">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.955 ***</b><a id=e-34012 class="link-to-entry" href="#e-34012">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='10504342095838384112'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"10504342095838384112">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.956 ***</b><a id=e-34013 class="link-to-entry" href="#e-34013">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='10504342095838384112'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10504342095838384112">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.956 ***</b><a id=e-34014 class="link-to-entry" href="#e-34014">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14083226453913081705'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14083226453913081705">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.958 ***</b><a id=e-34015 class="link-to-entry" href="#e-34015">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14083226453913081705'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14083226453913081705">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.958 ***</b><a id=e-34016 class="link-to-entry" href="#e-34016">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='10796308907543427399'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"10796308907543427399">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.958 ***</b><a id=e-34017 class="link-to-entry" href="#e-34017">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='10796308907543427399'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10796308907543427399">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.958 ***</b><a id=e-34018 class="link-to-entry" href="#e-34018">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8418189752393696107'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8418189752393696107">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.961 ***</b><a id=e-34019 class="link-to-entry" href="#e-34019">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='8418189752393696107'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8418189752393696107">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.961 ***</b><a id=e-34020 class="link-to-entry" href="#e-34020">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2524129858140599333'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"2524129858140599333">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.962 ***</b><a id=e-34021 class="link-to-entry" href="#e-34021">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='2524129858140599333'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2524129858140599333">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.962 ***</b><a id=e-34022 class="link-to-entry" href="#e-34022">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14077025043609856049'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14077025043609856049">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.964 ***</b><a id=e-34023 class="link-to-entry" href="#e-34023">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14077025043609856049'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14077025043609856049">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.964 ***</b><a id=e-34024 class="link-to-entry" href="#e-34024">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='9880056636522645645'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"9880056636522645645">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.965 ***</b><a id=e-34025 class="link-to-entry" href="#e-34025">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='9880056636522645645'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9880056636522645645">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.965 ***</b><a id=e-34026 class="link-to-entry" href="#e-34026">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11782751450428888949'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11782751450428888949">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.967 ***</b><a id=e-34027 class="link-to-entry" href="#e-34027">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='11782751450428888949'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11782751450428888949">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.967 ***</b><a id=e-34028 class="link-to-entry" href="#e-34028">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1039181351595192697'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"1039181351595192697">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.968 ***</b><a id=e-34029 class="link-to-entry" href="#e-34029">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1039181351595192697'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1039181351595192697">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.968 ***</b><a id=e-34030 class="link-to-entry" href="#e-34030">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2448821304912789497'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2448821304912789497">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.970 ***</b><a id=e-34031 class="link-to-entry" href="#e-34031">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='2448821304912789497'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2448821304912789497">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.971 ***</b><a id=e-34032 class="link-to-entry" href="#e-34032">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3088616437845566942'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"3088616437845566942">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.971 ***</b><a id=e-34033 class="link-to-entry" href="#e-34033">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='3088616437845566942'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3088616437845566942">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.972 ***</b><a id=e-34034 class="link-to-entry" href="#e-34034">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16731172907528859857'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16731172907528859857">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.974 ***</b><a id=e-34035 class="link-to-entry" href="#e-34035">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='16731172907528859857'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16731172907528859857">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.974 ***</b><a id=e-34036 class="link-to-entry" href="#e-34036">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='7210201960183230263'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"7210201960183230263">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.975 ***</b><a id=e-34037 class="link-to-entry" href="#e-34037">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7210201960183230263'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7210201960183230263">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.975 ***</b><a id=e-34038 class="link-to-entry" href="#e-34038">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12638883911989752329'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12638883911989752329">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.977 ***</b><a id=e-34039 class="link-to-entry" href="#e-34039">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='12638883911989752329'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12638883911989752329">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.977 ***</b><a id=e-34040 class="link-to-entry" href="#e-34040">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5519586645081687610'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"5519586645081687610">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.978 ***</b><a id=e-34041 class="link-to-entry" href="#e-34041">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5519586645081687610'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5519586645081687610">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.978 ***</b><a id=e-34042 class="link-to-entry" href="#e-34042">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17574558595545300138'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17574558595545300138">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.980 ***</b><a id=e-34043 class="link-to-entry" href="#e-34043">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17574558595545300138'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17574558595545300138">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.980 ***</b><a id=e-34044 class="link-to-entry" href="#e-34044">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='6861188783165823616'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"6861188783165823616">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.981 ***</b><a id=e-34045 class="link-to-entry" href="#e-34045">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='6861188783165823616'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6861188783165823616">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.981 ***</b><a id=e-34046 class="link-to-entry" href="#e-34046">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6303797601719554706'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6303797601719554706">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.983 ***</b><a id=e-34047 class="link-to-entry" href="#e-34047">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='6303797601719554706'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6303797601719554706">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.983 ***</b><a id=e-34048 class="link-to-entry" href="#e-34048">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1154007419201874232'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"1154007419201874232">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.984 ***</b><a id=e-34049 class="link-to-entry" href="#e-34049">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1154007419201874232'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1154007419201874232">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.984 ***</b><a id=e-34050 class="link-to-entry" href="#e-34050">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15011275622290966604'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15011275622290966604">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.986 ***</b><a id=e-34051 class="link-to-entry" href="#e-34051">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='15011275622290966604'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15011275622290966604">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.986 ***</b><a id=e-34052 class="link-to-entry" href="#e-34052">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13545962419642286376'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13545962419642286376">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.987 ***</b><a id=e-34053 class="link-to-entry" href="#e-34053">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='13545962419642286376'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13545962419642286376">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.987 ***</b><a id=e-34054 class="link-to-entry" href="#e-34054">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='18439084939732049446'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18439084939732049446">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.989 ***</b><a id=e-34055 class="link-to-entry" href="#e-34055">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='18439084939732049446'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18439084939732049446">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.990 ***</b><a id=e-34056 class="link-to-entry" href="#e-34056">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14441345284278984732'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"14441345284278984732">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.990 ***</b><a id=e-34057 class="link-to-entry" href="#e-34057">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14441345284278984732'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14441345284278984732">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.991 ***</b><a id=e-34058 class="link-to-entry" href="#e-34058">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17386964019531949922'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17386964019531949922">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.993 ***</b><a id=e-34059 class="link-to-entry" href="#e-34059">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17386964019531949922'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17386964019531949922">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.993 ***</b><a id=e-34060 class="link-to-entry" href="#e-34060">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8792268909032577665'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"8792268909032577665">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.994 ***</b><a id=e-34061 class="link-to-entry" href="#e-34061">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='8792268909032577665'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8792268909032577665">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.994 ***</b><a id=e-34062 class="link-to-entry" href="#e-34062">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17688771537130754695'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17688771537130754695">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.996 ***</b><a id=e-34063 class="link-to-entry" href="#e-34063">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17688771537130754695'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17688771537130754695">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.997 ***</b><a id=e-34064 class="link-to-entry" href="#e-34064">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='17212491081569642018'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"17212491081569642018">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.998 ***</b><a id=e-34065 class="link-to-entry" href="#e-34065">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17212491081569642018'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17212491081569642018">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:57.998 ***</b><a id=e-34066 class="link-to-entry" href="#e-34066">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17078586959219980519'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17078586959219980519">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.000 ***</b><a id=e-34067 class="link-to-entry" href="#e-34067">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17078586959219980519'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17078586959219980519">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.000 ***</b><a id=e-34068 class="link-to-entry" href="#e-34068">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3925474478878804706'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"3925474478878804706">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.001 ***</b><a id=e-34069 class="link-to-entry" href="#e-34069">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='3925474478878804706'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3925474478878804706">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.001 ***</b><a id=e-34070 class="link-to-entry" href="#e-34070">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14514628186275107868'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14514628186275107868">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.003 ***</b><a id=e-34071 class="link-to-entry" href="#e-34071">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14514628186275107868'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14514628186275107868">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.003 ***</b><a id=e-34072 class="link-to-entry" href="#e-34072">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1069945179993394931'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"1069945179993394931">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.004 ***</b><a id=e-34073 class="link-to-entry" href="#e-34073">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1069945179993394931'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1069945179993394931">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.004 ***</b><a id=e-34074 class="link-to-entry" href="#e-34074">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14709197148355318061'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14709197148355318061">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.006 ***</b><a id=e-34075 class="link-to-entry" href="#e-34075">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14709197148355318061'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14709197148355318061">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.006 ***</b><a id=e-34076 class="link-to-entry" href="#e-34076">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15208817359542634548'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15208817359542634548">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.007 ***</b><a id=e-34077 class="link-to-entry" href="#e-34077">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='15208817359542634548'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15208817359542634548">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.007 ***</b><a id=e-34078 class="link-to-entry" href="#e-34078">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='3301062807838282535'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3301062807838282535">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.009 ***</b><a id=e-34079 class="link-to-entry" href="#e-34079">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='3301062807838282535'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3301062807838282535">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.010 ***</b><a id=e-34080 class="link-to-entry" href="#e-34080">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3489645668305030071'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"3489645668305030071">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.010 ***</b><a id=e-34081 class="link-to-entry" href="#e-34081">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='3489645668305030071'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3489645668305030071">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.011 ***</b><a id=e-34082 class="link-to-entry" href="#e-34082">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1976789099810737145'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1976789099810737145">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.013 ***</b><a id=e-34083 class="link-to-entry" href="#e-34083">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1976789099810737145'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1976789099810737145">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.013 ***</b><a id=e-34084 class="link-to-entry" href="#e-34084">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='17316348041233129863'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"17316348041233129863">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.014 ***</b><a id=e-34085 class="link-to-entry" href="#e-34085">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17316348041233129863'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17316348041233129863">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.015 ***</b><a id=e-34086 class="link-to-entry" href="#e-34086">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13449419727176813064'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13449419727176813064">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.017 ***</b><a id=e-34087 class="link-to-entry" href="#e-34087">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='13449419727176813064'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13449419727176813064">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.017 ***</b><a id=e-34088 class="link-to-entry" href="#e-34088">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16134329499479971780'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16134329499479971780">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.018 ***</b><a id=e-34089 class="link-to-entry" href="#e-34089">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='16134329499479971780'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16134329499479971780">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.018 ***</b><a id=e-34090 class="link-to-entry" href="#e-34090">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14963302936999097457'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14963302936999097457">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.020 ***</b><a id=e-34091 class="link-to-entry" href="#e-34091">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14963302936999097457'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14963302936999097457">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.021 ***</b><a id=e-34092 class="link-to-entry" href="#e-34092">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='194675770470192695'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"194675770470192695">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.022 ***</b><a id=e-34093 class="link-to-entry" href="#e-34093">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='194675770470192695'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"194675770470192695">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.022 ***</b><a id=e-34094 class="link-to-entry" href="#e-34094">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13437409948633145393'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13437409948633145393">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.024 ***</b><a id=e-34095 class="link-to-entry" href="#e-34095">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='13437409948633145393'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13437409948633145393">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.024 ***</b><a id=e-34096 class="link-to-entry" href="#e-34096">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15730259687403674047'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15730259687403674047">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.025 ***</b><a id=e-34097 class="link-to-entry" href="#e-34097">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='15730259687403674047'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15730259687403674047">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.025 ***</b><a id=e-34098 class="link-to-entry" href="#e-34098">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12748123208739972396'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12748123208739972396">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.032 ***</b><a id=e-34099 class="link-to-entry" href="#e-34099">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='12748123208739972396'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12748123208739972396">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.032 ***</b><a id=e-34100 class="link-to-entry" href="#e-34100">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='18401575129237391943'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"18401575129237391943">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.051 ***</b><a id=e-34101 class="link-to-entry" href="#e-34101">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='18401575129237391943'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18401575129237391943">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.051 ***</b><a id=e-34102 class="link-to-entry" href="#e-34102">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5707981363983558536'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5707981363983558536">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.063 ***</b><a id=e-34103 class="link-to-entry" href="#e-34103">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5707981363983558536'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5707981363983558536">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.064 ***</b><a id=e-34104 class="link-to-entry" href="#e-34104">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13385098181345005287'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"13385098181345005287">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.075 ***</b><a id=e-34105 class="link-to-entry" href="#e-34105">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='13385098181345005287'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13385098181345005287">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.075 ***</b><a id=e-34106 class="link-to-entry" href="#e-34106">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4486178361519982108'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4486178361519982108">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.086 ***</b><a id=e-34107 class="link-to-entry" href="#e-34107">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='4486178361519982108'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4486178361519982108">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.086 ***</b><a id=e-34108 class="link-to-entry" href="#e-34108">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15671218453730554995'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15671218453730554995">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.102 ***</b><a id=e-34109 class="link-to-entry" href="#e-34109">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='15671218453730554995'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15671218453730554995">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.102 ***</b><a id=e-34110 class="link-to-entry" href="#e-34110">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17292395624105750036'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17292395624105750036">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.113 ***</b><a id=e-34111 class="link-to-entry" href="#e-34111">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17292395624105750036'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17292395624105750036">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.113 ***</b><a id=e-34112 class="link-to-entry" href="#e-34112">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16127619728663752512'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16127619728663752512">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.129 ***</b><a id=e-34113 class="link-to-entry" href="#e-34113">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='16127619728663752512'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16127619728663752512">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.129 ***</b><a id=e-34114 class="link-to-entry" href="#e-34114">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5212767685867628012'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5212767685867628012">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.140 ***</b><a id=e-34115 class="link-to-entry" href="#e-34115">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5212767685867628012'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5212767685867628012">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.141 ***</b><a id=e-34116 class="link-to-entry" href="#e-34116">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16623838058720902784'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16623838058720902784">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.158 ***</b><a id=e-34117 class="link-to-entry" href="#e-34117">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='16623838058720902784'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16623838058720902784">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.158 ***</b><a id=e-34118 class="link-to-entry" href="#e-34118">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='7959815317440738143'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7959815317440738143">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.169 ***</b><a id=e-34119 class="link-to-entry" href="#e-34119">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='7959815317440738143'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7959815317440738143">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.170 ***</b><a id=e-34120 class="link-to-entry" href="#e-34120">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='18304759240954217643'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"18304759240954217643">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.184 ***</b><a id=e-34121 class="link-to-entry" href="#e-34121">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='18304759240954217643'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18304759240954217643">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.184 ***</b><a id=e-34122 class="link-to-entry" href="#e-34122">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='6583358853915267998'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6583358853915267998">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.199 ***</b><a id=e-34123 class="link-to-entry" href="#e-34123">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='6583358853915267998'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6583358853915267998">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.199 ***</b><a id=e-34124 class="link-to-entry" href="#e-34124">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='11631996640107259532'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"11631996640107259532">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.216 ***</b><a id=e-34125 class="link-to-entry" href="#e-34125">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='11631996640107259532'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11631996640107259532">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.216 ***</b><a id=e-34126 class="link-to-entry" href="#e-34126">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='16116371225472027487'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16116371225472027487">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.229 ***</b><a id=e-34127 class="link-to-entry" href="#e-34127">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16116371225472027487'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16116371225472027487">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.230 ***</b><a id=e-34128 class="link-to-entry" href="#e-34128">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='2413363554187249163'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"2413363554187249163">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.248 ***</b><a id=e-34129 class="link-to-entry" href="#e-34129">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='2413363554187249163'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2413363554187249163">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.248 ***</b><a id=e-34130 class="link-to-entry" href="#e-34130">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='2965202690345646966'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2965202690345646966">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.262 ***</b><a id=e-34131 class="link-to-entry" href="#e-34131">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='2965202690345646966'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2965202690345646966">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.262 ***</b><a id=e-34132 class="link-to-entry" href="#e-34132">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='18352173113204851596'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"18352173113204851596">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.282 ***</b><a id=e-34133 class="link-to-entry" href="#e-34133">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='18352173113204851596'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18352173113204851596">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.282 ***</b><a id=e-34134 class="link-to-entry" href="#e-34134">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='2328543837238524406'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2328543837238524406">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.295 ***</b><a id=e-34135 class="link-to-entry" href="#e-34135">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='2328543837238524406'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2328543837238524406">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.295 ***</b><a id=e-34136 class="link-to-entry" href="#e-34136">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='16871023338380037911'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"16871023338380037911">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.310 ***</b><a id=e-34137 class="link-to-entry" href="#e-34137">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16871023338380037911'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16871023338380037911">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.310 ***</b><a id=e-34138 class="link-to-entry" href="#e-34138">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='1989213671418447235'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1989213671418447235">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.325 ***</b><a id=e-34139 class="link-to-entry" href="#e-34139">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='1989213671418447235'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1989213671418447235">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.325 ***</b><a id=e-34140 class="link-to-entry" href="#e-34140">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='7814561722900755001'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"7814561722900755001">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.342 ***</b><a id=e-34141 class="link-to-entry" href="#e-34141">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='7814561722900755001'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7814561722900755001">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.342 ***</b><a id=e-34142 class="link-to-entry" href="#e-34142">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='16813780603512925562'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16813780603512925562">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.356 ***</b><a id=e-34143 class="link-to-entry" href="#e-34143">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16813780603512925562'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16813780603512925562">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.356 ***</b><a id=e-34144 class="link-to-entry" href="#e-34144">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='17458946970579533155'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"17458946970579533155">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.373 ***</b><a id=e-34145 class="link-to-entry" href="#e-34145">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='17458946970579533155'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17458946970579533155">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.373 ***</b><a id=e-34146 class="link-to-entry" href="#e-34146">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='1903239687516372515'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1903239687516372515">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.386 ***</b><a id=e-34147 class="link-to-entry" href="#e-34147">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='1903239687516372515'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1903239687516372515">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.386 ***</b><a id=e-34148 class="link-to-entry" href="#e-34148">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='8844236100414088096'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"8844236100414088096">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.407 ***</b><a id=e-34149 class="link-to-entry" href="#e-34149">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='8844236100414088096'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8844236100414088096">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.407 ***</b><a id=e-34150 class="link-to-entry" href="#e-34150">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='4106405742219623729'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4106405742219623729">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.421 ***</b><a id=e-34151 class="link-to-entry" href="#e-34151">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='4106405742219623729'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4106405742219623729">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.421 ***</b><a id=e-34152 class="link-to-entry" href="#e-34152">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='4328692715197926018'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"4328692715197926018">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.436 ***</b><a id=e-34153 class="link-to-entry" href="#e-34153">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='4328692715197926018'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4328692715197926018">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.436 ***</b><a id=e-34154 class="link-to-entry" href="#e-34154">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='16170603686999377910'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16170603686999377910">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.449 ***</b><a id=e-34155 class="link-to-entry" href="#e-34155">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16170603686999377910'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16170603686999377910">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.449 ***</b><a id=e-34156 class="link-to-entry" href="#e-34156">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='1489698562665205734'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"1489698562665205734">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.467 ***</b><a id=e-34157 class="link-to-entry" href="#e-34157">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='1489698562665205734'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1489698562665205734">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.467 ***</b><a id=e-34158 class="link-to-entry" href="#e-34158">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='9759425057483329162'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9759425057483329162">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.481 ***</b><a id=e-34159 class="link-to-entry" href="#e-34159">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='9759425057483329162'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9759425057483329162">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.481 ***</b><a id=e-34160 class="link-to-entry" href="#e-34160">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='12179461252381736146'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"12179461252381736146">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.499 ***</b><a id=e-34161 class="link-to-entry" href="#e-34161">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='12179461252381736146'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12179461252381736146">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.499 ***</b><a id=e-34162 class="link-to-entry" href="#e-34162">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='4844361895512981549'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4844361895512981549">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.512 ***</b><a id=e-34163 class="link-to-entry" href="#e-34163">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='4844361895512981549'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4844361895512981549">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.512 ***</b><a id=e-34164 class="link-to-entry" href="#e-34164">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='16024700357406396302'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"16024700357406396302">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.533 ***</b><a id=e-34165 class="link-to-entry" href="#e-34165">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16024700357406396302'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16024700357406396302">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.533 ***</b><a id=e-34166 class="link-to-entry" href="#e-34166">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='9933338402773768101'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9933338402773768101">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.546 ***</b><a id=e-34167 class="link-to-entry" href="#e-34167">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='9933338402773768101'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9933338402773768101">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.546 ***</b><a id=e-34168 class="link-to-entry" href="#e-34168">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='12600333194430998846'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"12600333194430998846">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.561 ***</b><a id=e-34169 class="link-to-entry" href="#e-34169">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='12600333194430998846'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12600333194430998846">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.561 ***</b><a id=e-34170 class="link-to-entry" href="#e-34170">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='6268182351237095340'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6268182351237095340">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.575 ***</b><a id=e-34171 class="link-to-entry" href="#e-34171">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='6268182351237095340'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6268182351237095340">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.575 ***</b><a id=e-34172 class="link-to-entry" href="#e-34172">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='7896142901573547973'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"7896142901573547973">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.592 ***</b><a id=e-34173 class="link-to-entry" href="#e-34173">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='7896142901573547973'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7896142901573547973">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.592 ***</b><a id=e-34174 class="link-to-entry" href="#e-34174">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='5081267930023364671'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5081267930023364671">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.606 ***</b><a id=e-34175 class="link-to-entry" href="#e-34175">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='5081267930023364671'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5081267930023364671">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.606 ***</b><a id=e-34176 class="link-to-entry" href="#e-34176">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='9823172953659380247'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"9823172953659380247">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.623 ***</b><a id=e-34177 class="link-to-entry" href="#e-34177">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='9823172953659380247'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9823172953659380247">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.623 ***</b><a id=e-34178 class="link-to-entry" href="#e-34178">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='13043746407895161428'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13043746407895161428">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.637 ***</b><a id=e-34179 class="link-to-entry" href="#e-34179">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='13043746407895161428'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13043746407895161428">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.637 ***</b><a id=e-34180 class="link-to-entry" href="#e-34180">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='7922615842613767022'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"7922615842613767022">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.657 ***</b><a id=e-34181 class="link-to-entry" href="#e-34181">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='7922615842613767022'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7922615842613767022">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.657 ***</b><a id=e-34182 class="link-to-entry" href="#e-34182">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='18278431387291530111'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18278431387291530111">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.671 ***</b><a id=e-34183 class="link-to-entry" href="#e-34183">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='18278431387291530111'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18278431387291530111">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.671 ***</b><a id=e-34184 class="link-to-entry" href="#e-34184">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='12281424908108820386'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"12281424908108820386">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.685 ***</b><a id=e-34185 class="link-to-entry" href="#e-34185">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='12281424908108820386'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12281424908108820386">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.685 ***</b><a id=e-34186 class="link-to-entry" href="#e-34186">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='1239656855413788695'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1239656855413788695">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.698 ***</b><a id=e-34187 class="link-to-entry" href="#e-34187">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='1239656855413788695'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1239656855413788695">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.699 ***</b><a id=e-34188 class="link-to-entry" href="#e-34188">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='7319206708534343118'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"7319206708534343118">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.716 ***</b><a id=e-34189 class="link-to-entry" href="#e-34189">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='7319206708534343118'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7319206708534343118">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.716 ***</b><a id=e-34190 class="link-to-entry" href="#e-34190">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='10035366954268184792'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10035366954268184792">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.729 ***</b><a id=e-34191 class="link-to-entry" href="#e-34191">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='10035366954268184792'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10035366954268184792">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.729 ***</b><a id=e-34192 class="link-to-entry" href="#e-34192">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='11337535655919952693'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"11337535655919952693">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.747 ***</b><a id=e-34193 class="link-to-entry" href="#e-34193">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='11337535655919952693'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11337535655919952693">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.747 ***</b><a id=e-34194 class="link-to-entry" href="#e-34194">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='13533736631085837807'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13533736631085837807">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.763 ***</b><a id=e-34195 class="link-to-entry" href="#e-34195">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='13533736631085837807'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13533736631085837807">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.763 ***</b><a id=e-34196 class="link-to-entry" href="#e-34196">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='17788259604265099455'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"17788259604265099455">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.781 ***</b><a id=e-34197 class="link-to-entry" href="#e-34197">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='17788259604265099455'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17788259604265099455">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.781 ***</b><a id=e-34198 class="link-to-entry" href="#e-34198">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='13735023223987716877'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13735023223987716877">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.795 ***</b><a id=e-34199 class="link-to-entry" href="#e-34199">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='13735023223987716877'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13735023223987716877">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.795 ***</b><a id=e-34200 class="link-to-entry" href="#e-34200">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='162505361881938611'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"162505361881938611">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.809 ***</b><a id=e-34201 class="link-to-entry" href="#e-34201">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='162505361881938611'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"162505361881938611">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.809 ***</b><a id=e-34202 class="link-to-entry" href="#e-34202">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='12061472673558185843'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12061472673558185843">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.822 ***</b><a id=e-34203 class="link-to-entry" href="#e-34203">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='12061472673558185843'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12061472673558185843">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.822 ***</b><a id=e-34204 class="link-to-entry" href="#e-34204">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='6608754089742973606'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"6608754089742973606">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.840 ***</b><a id=e-34205 class="link-to-entry" href="#e-34205">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='6608754089742973606'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6608754089742973606">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.840 ***</b><a id=e-34206 class="link-to-entry" href="#e-34206">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='8410030853978045906'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8410030853978045906">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.853 ***</b><a id=e-34207 class="link-to-entry" href="#e-34207">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='8410030853978045906'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8410030853978045906">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.853 ***</b><a id=e-34208 class="link-to-entry" href="#e-34208">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='1342401289144962906'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"1342401289144962906">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.871 ***</b><a id=e-34209 class="link-to-entry" href="#e-34209">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='1342401289144962906'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1342401289144962906">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.871 ***</b><a id=e-34210 class="link-to-entry" href="#e-34210">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='15998866535949582815'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15998866535949582815">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.884 ***</b><a id=e-34211 class="link-to-entry" href="#e-34211">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='15998866535949582815'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15998866535949582815">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.885 ***</b><a id=e-34212 class="link-to-entry" href="#e-34212">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='10800360994096371012'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"10800360994096371012">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.905 ***</b><a id=e-34213 class="link-to-entry" href="#e-34213">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='10800360994096371012'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10800360994096371012">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.905 ***</b><a id=e-34214 class="link-to-entry" href="#e-34214">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='4025780981032104170'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4025780981032104170">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.918 ***</b><a id=e-34215 class="link-to-entry" href="#e-34215">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='4025780981032104170'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4025780981032104170">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.918 ***</b><a id=e-34216 class="link-to-entry" href="#e-34216">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='2066013860741668540'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"2066013860741668540">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.933 ***</b><a id=e-34217 class="link-to-entry" href="#e-34217">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='2066013860741668540'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2066013860741668540">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.933 ***</b><a id=e-34218 class="link-to-entry" href="#e-34218">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='13213396361896473725'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13213396361896473725">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.946 ***</b><a id=e-34219 class="link-to-entry" href="#e-34219">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='13213396361896473725'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13213396361896473725">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.946 ***</b><a id=e-34220 class="link-to-entry" href="#e-34220">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='8262127256626539359'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"8262127256626539359">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.964 ***</b><a id=e-34221 class="link-to-entry" href="#e-34221">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='8262127256626539359'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8262127256626539359">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.964 ***</b><a id=e-34222 class="link-to-entry" href="#e-34222">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='18347455808231112320'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18347455808231112320">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.977 ***</b><a id=e-34223 class="link-to-entry" href="#e-34223">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='18347455808231112320'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18347455808231112320">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.977 ***</b><a id=e-34224 class="link-to-entry" href="#e-34224">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='5485002238955740077'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"5485002238955740077">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.995 ***</b><a id=e-34225 class="link-to-entry" href="#e-34225">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='5485002238955740077'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5485002238955740077">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:58.995 ***</b><a id=e-34226 class="link-to-entry" href="#e-34226">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='16905466494691096406'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16905466494691096406">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.008 ***</b><a id=e-34227 class="link-to-entry" href="#e-34227">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16905466494691096406'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16905466494691096406">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.008 ***</b><a id=e-34228 class="link-to-entry" href="#e-34228">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='18205719365186227288'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"18205719365186227288">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.029 ***</b><a id=e-34229 class="link-to-entry" href="#e-34229">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='18205719365186227288'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18205719365186227288">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.029 ***</b><a id=e-34230 class="link-to-entry" href="#e-34230">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='16150918263851376282'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16150918263851376282">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.042 ***</b><a id=e-34231 class="link-to-entry" href="#e-34231">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16150918263851376282'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16150918263851376282">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.042 ***</b><a id=e-34232 class="link-to-entry" href="#e-34232">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='3443955763735648798'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"3443955763735648798">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.057 ***</b><a id=e-34233 class="link-to-entry" href="#e-34233">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='3443955763735648798'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3443955763735648798">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.057 ***</b><a id=e-34234 class="link-to-entry" href="#e-34234">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='7203678616301576489'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7203678616301576489">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.071 ***</b><a id=e-34235 class="link-to-entry" href="#e-34235">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='7203678616301576489'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7203678616301576489">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.071 ***</b><a id=e-34236 class="link-to-entry" href="#e-34236">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='13401522055609178259'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13401522055609178259">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.088 ***</b><a id=e-34237 class="link-to-entry" href="#e-34237">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='13401522055609178259'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13401522055609178259">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.088 ***</b><a id=e-34238 class="link-to-entry" href="#e-34238">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='2150087815870017434'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2150087815870017434">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.102 ***</b><a id=e-34239 class="link-to-entry" href="#e-34239">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='2150087815870017434'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2150087815870017434">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.102 ***</b><a id=e-34240 class="link-to-entry" href="#e-34240">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='130854830213758874'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"130854830213758874">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.120 ***</b><a id=e-34241 class="link-to-entry" href="#e-34241">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='130854830213758874'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"130854830213758874">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.120 ***</b><a id=e-34242 class="link-to-entry" href="#e-34242">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='197813510424129240'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"197813510424129240">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.133 ***</b><a id=e-34243 class="link-to-entry" href="#e-34243">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='197813510424129240'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"197813510424129240">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.133 ***</b><a id=e-34244 class="link-to-entry" href="#e-34244">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='6564509644300265698'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"6564509644300265698">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.153 ***</b><a id=e-34245 class="link-to-entry" href="#e-34245">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='6564509644300265698'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6564509644300265698">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.153 ***</b><a id=e-34246 class="link-to-entry" href="#e-34246">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='11993448550023633701'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11993448550023633701">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.167 ***</b><a id=e-34247 class="link-to-entry" href="#e-34247">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='11993448550023633701'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11993448550023633701">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.168 ***</b><a id=e-34248 class="link-to-entry" href="#e-34248">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='12902728643210779613'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"12902728643210779613">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.181 ***</b><a id=e-34249 class="link-to-entry" href="#e-34249">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='12902728643210779613'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12902728643210779613">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.181 ***</b><a id=e-34250 class="link-to-entry" href="#e-34250">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='10993217374624277763'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10993217374624277763">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.194 ***</b><a id=e-34251 class="link-to-entry" href="#e-34251">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='10993217374624277763'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10993217374624277763">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.195 ***</b><a id=e-34252 class="link-to-entry" href="#e-34252">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='10200941198387605045'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"10200941198387605045">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.212 ***</b><a id=e-34253 class="link-to-entry" href="#e-34253">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='10200941198387605045'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10200941198387605045">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.212 ***</b><a id=e-34254 class="link-to-entry" href="#e-34254">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='4269421579837810112'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4269421579837810112">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.225 ***</b><a id=e-34255 class="link-to-entry" href="#e-34255">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='4269421579837810112'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4269421579837810112">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.225 ***</b><a id=e-34256 class="link-to-entry" href="#e-34256">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='17078686582932817552'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"17078686582932817552">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.243 ***</b><a id=e-34257 class="link-to-entry" href="#e-34257">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='17078686582932817552'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17078686582932817552">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.244 ***</b><a id=e-34258 class="link-to-entry" href="#e-34258">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='14941943886331699373'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14941943886331699373">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.256 ***</b><a id=e-34259 class="link-to-entry" href="#e-34259">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='14941943886331699373'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14941943886331699373">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.256 ***</b><a id=e-34260 class="link-to-entry" href="#e-34260">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='16235696353657585887'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"16235696353657585887">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.277 ***</b><a id=e-34261 class="link-to-entry" href="#e-34261">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16235696353657585887'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16235696353657585887">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.277 ***</b><a id=e-34262 class="link-to-entry" href="#e-34262">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='11035713377822813621'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11035713377822813621">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.290 ***</b><a id=e-34263 class="link-to-entry" href="#e-34263">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='11035713377822813621'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11035713377822813621">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.290 ***</b><a id=e-34264 class="link-to-entry" href="#e-34264">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='3929008943603147089'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"3929008943603147089">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.305 ***</b><a id=e-34265 class="link-to-entry" href="#e-34265">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='3929008943603147089'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3929008943603147089">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.305 ***</b><a id=e-34266 class="link-to-entry" href="#e-34266">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='15296003421310186040'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15296003421310186040">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.319 ***</b><a id=e-34267 class="link-to-entry" href="#e-34267">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='15296003421310186040'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15296003421310186040">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.319 ***</b><a id=e-34268 class="link-to-entry" href="#e-34268">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='18170992262435002700'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"18170992262435002700">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.336 ***</b><a id=e-34269 class="link-to-entry" href="#e-34269">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='18170992262435002700'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18170992262435002700">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.336 ***</b><a id=e-34270 class="link-to-entry" href="#e-34270">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='11020361557371459524'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11020361557371459524">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.349 ***</b><a id=e-34271 class="link-to-entry" href="#e-34271">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='11020361557371459524'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11020361557371459524">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.349 ***</b><a id=e-34272 class="link-to-entry" href="#e-34272">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='9249931887682681982'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"9249931887682681982">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.367 ***</b><a id=e-34273 class="link-to-entry" href="#e-34273">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='9249931887682681982'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9249931887682681982">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.367 ***</b><a id=e-34274 class="link-to-entry" href="#e-34274">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='9615985829600867058'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9615985829600867058">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.381 ***</b><a id=e-34275 class="link-to-entry" href="#e-34275">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='9615985829600867058'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9615985829600867058">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.381 ***</b><a id=e-34276 class="link-to-entry" href="#e-34276">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='15616800336787096499'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15616800336787096499">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.401 ***</b><a id=e-34277 class="link-to-entry" href="#e-34277">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='15616800336787096499'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15616800336787096499">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.401 ***</b><a id=e-34278 class="link-to-entry" href="#e-34278">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='14328256471410104449'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14328256471410104449">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.414 ***</b><a id=e-34279 class="link-to-entry" href="#e-34279">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='14328256471410104449'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14328256471410104449">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.414 ***</b><a id=e-34280 class="link-to-entry" href="#e-34280">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='14419511341529285136'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"14419511341529285136">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.429 ***</b><a id=e-34281 class="link-to-entry" href="#e-34281">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='14419511341529285136'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14419511341529285136">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.429 ***</b><a id=e-34282 class="link-to-entry" href="#e-34282">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='18037250652462240807'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18037250652462240807">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.443 ***</b><a id=e-34283 class="link-to-entry" href="#e-34283">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='18037250652462240807'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18037250652462240807">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.443 ***</b><a id=e-34284 class="link-to-entry" href="#e-34284">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='705926375686630404'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"705926375686630404">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.460 ***</b><a id=e-34285 class="link-to-entry" href="#e-34285">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='705926375686630404'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"705926375686630404">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.460 ***</b><a id=e-34286 class="link-to-entry" href="#e-34286">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='3551574252984391179'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3551574252984391179">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.473 ***</b><a id=e-34287 class="link-to-entry" href="#e-34287">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='3551574252984391179'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3551574252984391179">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.474 ***</b><a id=e-34288 class="link-to-entry" href="#e-34288">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='6553154492948619362'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"6553154492948619362">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.491 ***</b><a id=e-34289 class="link-to-entry" href="#e-34289">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='6553154492948619362'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6553154492948619362">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.491 ***</b><a id=e-34290 class="link-to-entry" href="#e-34290">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='17940552864267564865'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17940552864267564865">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.504 ***</b><a id=e-34291 class="link-to-entry" href="#e-34291">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='17940552864267564865'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17940552864267564865">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.504 ***</b><a id=e-34292 class="link-to-entry" href="#e-34292">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='11358968318274781806'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"11358968318274781806">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.525 ***</b><a id=e-34293 class="link-to-entry" href="#e-34293">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='11358968318274781806'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11358968318274781806">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.525 ***</b><a id=e-34294 class="link-to-entry" href="#e-34294">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='17086037659012532255'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17086037659012532255">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.538 ***</b><a id=e-34295 class="link-to-entry" href="#e-34295">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='17086037659012532255'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17086037659012532255">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.538 ***</b><a id=e-34296 class="link-to-entry" href="#e-34296">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='16459039223898819720'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16459039223898819720">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.553 ***</b><a id=e-34297 class="link-to-entry" href="#e-34297">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16459039223898819720'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16459039223898819720">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.553 ***</b><a id=e-34298 class="link-to-entry" href="#e-34298">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='15969873629943548012'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15969873629943548012">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.566 ***</b><a id=e-34299 class="link-to-entry" href="#e-34299">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='15969873629943548012'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15969873629943548012">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.566 ***</b><a id=e-34300 class="link-to-entry" href="#e-34300">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='12408594516272624099'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"12408594516272624099">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.584 ***</b><a id=e-34301 class="link-to-entry" href="#e-34301">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='12408594516272624099'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12408594516272624099">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.584 ***</b><a id=e-34302 class="link-to-entry" href="#e-34302">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='16422772186702045875'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16422772186702045875">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.597 ***</b><a id=e-34303 class="link-to-entry" href="#e-34303">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16422772186702045875'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16422772186702045875">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.597 ***</b><a id=e-34304 class="link-to-entry" href="#e-34304">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='17723563118062729189'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"17723563118062729189">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.615 ***</b><a id=e-34305 class="link-to-entry" href="#e-34305">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='17723563118062729189'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17723563118062729189">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.615 ***</b><a id=e-34306 class="link-to-entry" href="#e-34306">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='set'
    id='3601230536806428085'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3601230536806428085">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.629 ***</b><a id=e-34307 class="link-to-entry" href="#e-34307">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='3601230536806428085'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3601230536806428085">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.629 ***</b><a id=e-34308 class="link-to-entry" href="#e-34308">&#x1f517;</a>
SENT:
&lt;iq to='mysql.localhost'
    type='get'
    id='16920940928458892259'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16920940928458892259">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-09 14:30:59.650 ***</b><a id=e-34309 class="link-to-entry" href="#e-34309">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='mysql.localhost'
    type='result'
    id='16920940928458892259'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16920940928458892259">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-08-09 14:30:59.662 ***</b><a id=e-34310 class="link-to-entry" href="#e-34310">&#x1f517;</a>
=INFO REPORT==== 9-Aug-2023::14:30:59.662674 ===
(tcp|&lt;0.6626.1&gt;) Closing c2s session for test_single!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()'"`~&lt;&gt;+-/;:_=[]{}|\: Stream reset by peer

</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2023-08-09 14:30:59
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"823651984914843114"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.29181985&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,single},
                     {watchdog,&lt;0.6624.1&gt;},
                     {event_relay,&lt;0.6612.1&gt;},
                     {server,&lt;&lt;"mysql.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1691591095@556-alexeyshch-master-eeacace.2023-08-09_14.26.35/lib.ejabberd.logs/run.2023-08-09_14.26.35/ejabberd_suite.mam_get_set_prefs.25571.html"},
                     {tc_group_properties,[{name,mam_single},sequence]},
                     {tc_group_path,
                         [[{name,single_user},sequence],
                          [{name,mysql},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1691591095@556-alexeyshch-master-eeacace.2023-08-09_14.26.35/lib.ejabberd.logs/run.2023-08-09_14.26.35/log_private/"}]
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2023 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Wed Aug 09 2023 14:30:57<!--/date--><br />
</div>
</center>
</body>
</html>
