<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:mam_get_set_prefs result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#mam_get_set_prefs-1">ejabberd_SUITE:mam_get_set_prefs/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.44552.0&gt;},
     {watchdog,&lt;0.44551.0&gt;},
     {server,&lt;&lt;"sqlite.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/ejabberd_suite.mam_get_set_prefs.43251.html"},
     {tc_group_properties,[{name,mam_single},sequence]},
     {tc_group_path,[[{name,single_user},sequence],[{name,sqlite},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06"

=== Started at 2023-09-08 16:56:58

<br />

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.568 ***</b><a id=e-62324 class="link-to-entry" href="#e-62324">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='sqlite.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"sqlite.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.569 ***</b><a id=e-62326 class="link-to-entry" href="#e-62326">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='13666474856573376519'
               version='1.0'
               xml:lang='en'
               from='sqlite.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"sqlite.localhost">>,lresource = <<>>},
              to = undefined,id = <<"13666474856573376519">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-09-08 16:56:58.569 ***</b><a id=e-62325 class="link-to-entry" href="#e-62325">&#x1f517;</a>
=INFO REPORT==== 8-Sep-2023::16:56:58.568922 ===
(&lt;0.44566.0&gt;) Accepted connection 127.0.0.1:44356 -&gt; 127.0.0.1:5222

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.569 ***</b><a id=e-62327 class="link-to-entry" href="#e-62327">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.569 ***</b><a id=e-62328 class="link-to-entry" href="#e-62328">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zaW5nbGUhIyQlXiooKWB+Ky07Xz1bXXt9fFxAc3FsaXRlLmxvY2FsaG9zdAB0ZXN0X3NpbmdsZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,105,110,103,108,101,33,35,36,37,94,
                    42,40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,
                    115,113,108,105,116,101,46,108,111,99,97,108,104,111,115,
                    116,0,116,101,115,116,95,115,105,110,103,108,101,33,35,36,
                    37,94,42,40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,
                    0,112,97,115,115,119,111,114,100,33,64,35,36,37,94,38,42,
                    40,41,39,34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,
                    125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.570 ***</b><a id=e-62330 class="link-to-entry" href="#e-62330">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-09-08 16:56:58.569 ***</b><a id=e-62329 class="link-to-entry" href="#e-62329">&#x1f517;</a>
=INFO REPORT==== 8-Sep-2023::16:56:58.569804 ===
(tcp|&lt;0.44566.0&gt;) Accepted c2s PLAIN authentication for test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost by sql backend from 127.0.0.1

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.570 ***</b><a id=e-62331 class="link-to-entry" href="#e-62331">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='sqlite.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"sqlite.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.571 ***</b><a id=e-62332 class="link-to-entry" href="#e-62332">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='11091301753207572522'
               version='1.0'
               xml:lang='en'
               from='sqlite.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"sqlite.localhost">>,lresource = <<>>},
              to = undefined,id = <<"11091301753207572522">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.571 ***</b><a id=e-62333 class="link-to-entry" href="#e-62333">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='RsZUO/k2xwmyvdC8vIjQDsA1fow='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"RsZUO/k2xwmyvdC8vIjQDsA1fow=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.571 ***</b><a id=e-62334 class="link-to-entry" href="#e-62334">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5235273045048272741'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"5235273045048272741">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-09-08 16:56:58.574 ***</b><a id=e-62335 class="link-to-entry" href="#e-62335">&#x1f517;</a>
=INFO REPORT==== 8-Sep-2023::16:56:58.574241 ===
(tcp|&lt;0.44566.0&gt;) Opened c2s session for test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()'"`~&lt;&gt;+-/;:_=[]{}|\

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.574 ***</b><a id=e-62336 class="link-to-entry" href="#e-62336">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='5235273045048272741'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"5235273045048272741">>,type = result,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"sqlite.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"sqlite.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.575 ***</b><a id=e-62337 class="link-to-entry" href="#e-62337">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7229150050616562700'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7229150050616562700">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.577 ***</b><a id=e-62338 class="link-to-entry" href="#e-62338">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7229150050616562700'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7229150050616562700">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.578 ***</b><a id=e-62339 class="link-to-entry" href="#e-62339">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16677797352542316623'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"16677797352542316623">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.578 ***</b><a id=e-62340 class="link-to-entry" href="#e-62340">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16677797352542316623'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16677797352542316623">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.578 ***</b><a id=e-62341 class="link-to-entry" href="#e-62341">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11523509786063485709'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11523509786063485709">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.581 ***</b><a id=e-62342 class="link-to-entry" href="#e-62342">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='11523509786063485709'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11523509786063485709">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.581 ***</b><a id=e-62343 class="link-to-entry" href="#e-62343">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12706597389958747336'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"12706597389958747336">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.582 ***</b><a id=e-62344 class="link-to-entry" href="#e-62344">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12706597389958747336'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12706597389958747336">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.582 ***</b><a id=e-62345 class="link-to-entry" href="#e-62345">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17137466759869301983'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17137466759869301983">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.583 ***</b><a id=e-62346 class="link-to-entry" href="#e-62346">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17137466759869301983'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17137466759869301983">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.584 ***</b><a id=e-62347 class="link-to-entry" href="#e-62347">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13794004669528560212'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"13794004669528560212">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.584 ***</b><a id=e-62348 class="link-to-entry" href="#e-62348">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13794004669528560212'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13794004669528560212">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.585 ***</b><a id=e-62349 class="link-to-entry" href="#e-62349">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2892272188474479850'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2892272188474479850">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.586 ***</b><a id=e-62350 class="link-to-entry" href="#e-62350">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2892272188474479850'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2892272188474479850">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.586 ***</b><a id=e-62351 class="link-to-entry" href="#e-62351">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5969096884947327671'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"5969096884947327671">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.587 ***</b><a id=e-62352 class="link-to-entry" href="#e-62352">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5969096884947327671'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5969096884947327671">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.587 ***</b><a id=e-62353 class="link-to-entry" href="#e-62353">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17737075465277502304'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17737075465277502304">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.589 ***</b><a id=e-62354 class="link-to-entry" href="#e-62354">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17737075465277502304'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17737075465277502304">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.589 ***</b><a id=e-62355 class="link-to-entry" href="#e-62355">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14694610865353786579'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"14694610865353786579">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.590 ***</b><a id=e-62356 class="link-to-entry" href="#e-62356">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14694610865353786579'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14694610865353786579">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.590 ***</b><a id=e-62357 class="link-to-entry" href="#e-62357">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8925176058600494025'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8925176058600494025">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.592 ***</b><a id=e-62358 class="link-to-entry" href="#e-62358">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8925176058600494025'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8925176058600494025">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.593 ***</b><a id=e-62359 class="link-to-entry" href="#e-62359">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='830365694779236799'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"830365694779236799">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.593 ***</b><a id=e-62360 class="link-to-entry" href="#e-62360">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='830365694779236799'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"830365694779236799">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.593 ***</b><a id=e-62361 class="link-to-entry" href="#e-62361">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15235772818301337389'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15235772818301337389">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.595 ***</b><a id=e-62362 class="link-to-entry" href="#e-62362">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15235772818301337389'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15235772818301337389">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.596 ***</b><a id=e-62363 class="link-to-entry" href="#e-62363">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8474024426822190198'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"8474024426822190198">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.596 ***</b><a id=e-62364 class="link-to-entry" href="#e-62364">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8474024426822190198'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8474024426822190198">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.596 ***</b><a id=e-62365 class="link-to-entry" href="#e-62365">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14306200781689517869'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14306200781689517869">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.599 ***</b><a id=e-62366 class="link-to-entry" href="#e-62366">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14306200781689517869'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14306200781689517869">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.599 ***</b><a id=e-62367 class="link-to-entry" href="#e-62367">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4984309102915494034'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"4984309102915494034">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.600 ***</b><a id=e-62368 class="link-to-entry" href="#e-62368">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4984309102915494034'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4984309102915494034">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.600 ***</b><a id=e-62369 class="link-to-entry" href="#e-62369">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14800580866289796741'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14800580866289796741">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.602 ***</b><a id=e-62370 class="link-to-entry" href="#e-62370">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14800580866289796741'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14800580866289796741">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.603 ***</b><a id=e-62371 class="link-to-entry" href="#e-62371">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12265288271625305313'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"12265288271625305313">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.603 ***</b><a id=e-62372 class="link-to-entry" href="#e-62372">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12265288271625305313'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12265288271625305313">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.603 ***</b><a id=e-62373 class="link-to-entry" href="#e-62373">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16031843484382253393'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16031843484382253393">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.605 ***</b><a id=e-62374 class="link-to-entry" href="#e-62374">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16031843484382253393'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16031843484382253393">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.605 ***</b><a id=e-62375 class="link-to-entry" href="#e-62375">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='10764793944465303736'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"10764793944465303736">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.606 ***</b><a id=e-62376 class="link-to-entry" href="#e-62376">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='10764793944465303736'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10764793944465303736">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.606 ***</b><a id=e-62377 class="link-to-entry" href="#e-62377">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8687692802499125538'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8687692802499125538">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.611 ***</b><a id=e-62378 class="link-to-entry" href="#e-62378">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8687692802499125538'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8687692802499125538">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.611 ***</b><a id=e-62379 class="link-to-entry" href="#e-62379">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15244816983404137719'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"15244816983404137719">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.612 ***</b><a id=e-62380 class="link-to-entry" href="#e-62380">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15244816983404137719'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15244816983404137719">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.612 ***</b><a id=e-62381 class="link-to-entry" href="#e-62381">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2612550556945899612'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2612550556945899612">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.616 ***</b><a id=e-62382 class="link-to-entry" href="#e-62382">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2612550556945899612'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2612550556945899612">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.616 ***</b><a id=e-62383 class="link-to-entry" href="#e-62383">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5747700889196028440'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"5747700889196028440">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.617 ***</b><a id=e-62384 class="link-to-entry" href="#e-62384">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5747700889196028440'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5747700889196028440">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.617 ***</b><a id=e-62385 class="link-to-entry" href="#e-62385">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8945223274864629583'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8945223274864629583">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.620 ***</b><a id=e-62386 class="link-to-entry" href="#e-62386">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8945223274864629583'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8945223274864629583">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.621 ***</b><a id=e-62387 class="link-to-entry" href="#e-62387">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8287253065675413176'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"8287253065675413176">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.621 ***</b><a id=e-62388 class="link-to-entry" href="#e-62388">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8287253065675413176'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8287253065675413176">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.621 ***</b><a id=e-62389 class="link-to-entry" href="#e-62389">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5477924414080348989'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5477924414080348989">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.623 ***</b><a id=e-62390 class="link-to-entry" href="#e-62390">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5477924414080348989'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5477924414080348989">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.623 ***</b><a id=e-62391 class="link-to-entry" href="#e-62391">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14234052248631279638'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"14234052248631279638">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.624 ***</b><a id=e-62392 class="link-to-entry" href="#e-62392">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14234052248631279638'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14234052248631279638">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.624 ***</b><a id=e-62393 class="link-to-entry" href="#e-62393">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13006320001531210852'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13006320001531210852">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.626 ***</b><a id=e-62394 class="link-to-entry" href="#e-62394">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13006320001531210852'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13006320001531210852">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.626 ***</b><a id=e-62395 class="link-to-entry" href="#e-62395">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2721132968411337727'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"2721132968411337727">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.626 ***</b><a id=e-62396 class="link-to-entry" href="#e-62396">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2721132968411337727'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2721132968411337727">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.627 ***</b><a id=e-62397 class="link-to-entry" href="#e-62397">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16869577987672104008'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16869577987672104008">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.628 ***</b><a id=e-62398 class="link-to-entry" href="#e-62398">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16869577987672104008'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16869577987672104008">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.628 ***</b><a id=e-62399 class="link-to-entry" href="#e-62399">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12801912373406583888'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"12801912373406583888">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.629 ***</b><a id=e-62400 class="link-to-entry" href="#e-62400">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12801912373406583888'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12801912373406583888">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.629 ***</b><a id=e-62401 class="link-to-entry" href="#e-62401">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9120750372718775906'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9120750372718775906">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.631 ***</b><a id=e-62402 class="link-to-entry" href="#e-62402">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9120750372718775906'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9120750372718775906">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.631 ***</b><a id=e-62403 class="link-to-entry" href="#e-62403">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='601901481638962779'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"601901481638962779">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.632 ***</b><a id=e-62404 class="link-to-entry" href="#e-62404">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='601901481638962779'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"601901481638962779">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.632 ***</b><a id=e-62405 class="link-to-entry" href="#e-62405">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7142133151394488589'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7142133151394488589">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.633 ***</b><a id=e-62406 class="link-to-entry" href="#e-62406">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7142133151394488589'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7142133151394488589">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.633 ***</b><a id=e-62407 class="link-to-entry" href="#e-62407">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='9605823258440222386'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"9605823258440222386">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.634 ***</b><a id=e-62408 class="link-to-entry" href="#e-62408">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9605823258440222386'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9605823258440222386">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.634 ***</b><a id=e-62409 class="link-to-entry" href="#e-62409">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7919945762246164546'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7919945762246164546">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.637 ***</b><a id=e-62410 class="link-to-entry" href="#e-62410">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7919945762246164546'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7919945762246164546">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.637 ***</b><a id=e-62411 class="link-to-entry" href="#e-62411">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3330136750137590506'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"3330136750137590506">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.638 ***</b><a id=e-62412 class="link-to-entry" href="#e-62412">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='3330136750137590506'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3330136750137590506">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.638 ***</b><a id=e-62413 class="link-to-entry" href="#e-62413">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6300870150530391129'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6300870150530391129">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.640 ***</b><a id=e-62414 class="link-to-entry" href="#e-62414">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6300870150530391129'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6300870150530391129">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.640 ***</b><a id=e-62415 class="link-to-entry" href="#e-62415">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12866244034036086555'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"12866244034036086555">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.641 ***</b><a id=e-62416 class="link-to-entry" href="#e-62416">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12866244034036086555'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12866244034036086555">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.641 ***</b><a id=e-62417 class="link-to-entry" href="#e-62417">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16068854807031473048'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16068854807031473048">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.643 ***</b><a id=e-62418 class="link-to-entry" href="#e-62418">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16068854807031473048'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16068854807031473048">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.643 ***</b><a id=e-62419 class="link-to-entry" href="#e-62419">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12178589582021834149'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"12178589582021834149">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.644 ***</b><a id=e-62420 class="link-to-entry" href="#e-62420">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12178589582021834149'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12178589582021834149">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.644 ***</b><a id=e-62421 class="link-to-entry" href="#e-62421">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16514103838730950997'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16514103838730950997">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.646 ***</b><a id=e-62422 class="link-to-entry" href="#e-62422">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16514103838730950997'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16514103838730950997">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.646 ***</b><a id=e-62423 class="link-to-entry" href="#e-62423">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12499447487535162144'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"12499447487535162144">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.647 ***</b><a id=e-62424 class="link-to-entry" href="#e-62424">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12499447487535162144'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12499447487535162144">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.647 ***</b><a id=e-62425 class="link-to-entry" href="#e-62425">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12519962643332442905'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12519962643332442905">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.649 ***</b><a id=e-62426 class="link-to-entry" href="#e-62426">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12519962643332442905'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12519962643332442905">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.649 ***</b><a id=e-62427 class="link-to-entry" href="#e-62427">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4123749212224428725'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"4123749212224428725">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.650 ***</b><a id=e-62428 class="link-to-entry" href="#e-62428">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4123749212224428725'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4123749212224428725">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.650 ***</b><a id=e-62429 class="link-to-entry" href="#e-62429">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8223243561998244339'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8223243561998244339">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.652 ***</b><a id=e-62430 class="link-to-entry" href="#e-62430">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8223243561998244339'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8223243561998244339">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.652 ***</b><a id=e-62431 class="link-to-entry" href="#e-62431">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13812601830366846972'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"13812601830366846972">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.653 ***</b><a id=e-62432 class="link-to-entry" href="#e-62432">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13812601830366846972'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13812601830366846972">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.653 ***</b><a id=e-62433 class="link-to-entry" href="#e-62433">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1014449372657143598'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1014449372657143598">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.655 ***</b><a id=e-62434 class="link-to-entry" href="#e-62434">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='1014449372657143598'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1014449372657143598">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.656 ***</b><a id=e-62435 class="link-to-entry" href="#e-62435">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12399069289117289019'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"12399069289117289019">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.656 ***</b><a id=e-62436 class="link-to-entry" href="#e-62436">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12399069289117289019'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12399069289117289019">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.656 ***</b><a id=e-62437 class="link-to-entry" href="#e-62437">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='324819171544965004'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"324819171544965004">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.659 ***</b><a id=e-62438 class="link-to-entry" href="#e-62438">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='324819171544965004'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"324819171544965004">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.659 ***</b><a id=e-62439 class="link-to-entry" href="#e-62439">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='9058096860287738955'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"9058096860287738955">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.660 ***</b><a id=e-62440 class="link-to-entry" href="#e-62440">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9058096860287738955'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9058096860287738955">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.660 ***</b><a id=e-62441 class="link-to-entry" href="#e-62441">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6373750641247546946'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6373750641247546946">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.662 ***</b><a id=e-62442 class="link-to-entry" href="#e-62442">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6373750641247546946'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6373750641247546946">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.662 ***</b><a id=e-62443 class="link-to-entry" href="#e-62443">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13487070306122381660'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13487070306122381660">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.663 ***</b><a id=e-62444 class="link-to-entry" href="#e-62444">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13487070306122381660'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13487070306122381660">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.663 ***</b><a id=e-62445 class="link-to-entry" href="#e-62445">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7760809419236555154'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7760809419236555154">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.665 ***</b><a id=e-62446 class="link-to-entry" href="#e-62446">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7760809419236555154'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7760809419236555154">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.665 ***</b><a id=e-62447 class="link-to-entry" href="#e-62447">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15417742333739384362'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"15417742333739384362">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.666 ***</b><a id=e-62448 class="link-to-entry" href="#e-62448">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15417742333739384362'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15417742333739384362">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.666 ***</b><a id=e-62449 class="link-to-entry" href="#e-62449">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14735025040436384397'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14735025040436384397">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.668 ***</b><a id=e-62450 class="link-to-entry" href="#e-62450">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14735025040436384397'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14735025040436384397">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.668 ***</b><a id=e-62451 class="link-to-entry" href="#e-62451">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4265630232607141471'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"4265630232607141471">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.669 ***</b><a id=e-62452 class="link-to-entry" href="#e-62452">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4265630232607141471'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4265630232607141471">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.669 ***</b><a id=e-62453 class="link-to-entry" href="#e-62453">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14108468877877895662'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14108468877877895662">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.671 ***</b><a id=e-62454 class="link-to-entry" href="#e-62454">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14108468877877895662'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14108468877877895662">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.671 ***</b><a id=e-62455 class="link-to-entry" href="#e-62455">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='10517697656142711859'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"10517697656142711859">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.671 ***</b><a id=e-62456 class="link-to-entry" href="#e-62456">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='10517697656142711859'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10517697656142711859">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.671 ***</b><a id=e-62457 class="link-to-entry" href="#e-62457">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9439004628059161952'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9439004628059161952">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.673 ***</b><a id=e-62458 class="link-to-entry" href="#e-62458">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9439004628059161952'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9439004628059161952">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.674 ***</b><a id=e-62459 class="link-to-entry" href="#e-62459">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1289565963428294749'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"1289565963428294749">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.674 ***</b><a id=e-62460 class="link-to-entry" href="#e-62460">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='1289565963428294749'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1289565963428294749">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.675 ***</b><a id=e-62461 class="link-to-entry" href="#e-62461">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12823985458841376460'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12823985458841376460">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.678 ***</b><a id=e-62462 class="link-to-entry" href="#e-62462">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12823985458841376460'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12823985458841376460">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.678 ***</b><a id=e-62463 class="link-to-entry" href="#e-62463">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1308079570134322686'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"1308079570134322686">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.679 ***</b><a id=e-62464 class="link-to-entry" href="#e-62464">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='1308079570134322686'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1308079570134322686">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.679 ***</b><a id=e-62465 class="link-to-entry" href="#e-62465">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6347033540707827596'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6347033540707827596">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.681 ***</b><a id=e-62466 class="link-to-entry" href="#e-62466">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6347033540707827596'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6347033540707827596">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.681 ***</b><a id=e-62467 class="link-to-entry" href="#e-62467">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='17930626939460098205'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"17930626939460098205">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.682 ***</b><a id=e-62468 class="link-to-entry" href="#e-62468">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17930626939460098205'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17930626939460098205">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.682 ***</b><a id=e-62469 class="link-to-entry" href="#e-62469">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15898937910351740105'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15898937910351740105">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.686 ***</b><a id=e-62470 class="link-to-entry" href="#e-62470">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15898937910351740105'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15898937910351740105">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.686 ***</b><a id=e-62471 class="link-to-entry" href="#e-62471">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5244998323345354101'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"5244998323345354101">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.687 ***</b><a id=e-62472 class="link-to-entry" href="#e-62472">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5244998323345354101'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5244998323345354101">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.687 ***</b><a id=e-62473 class="link-to-entry" href="#e-62473">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14498662889170220527'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14498662889170220527">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.690 ***</b><a id=e-62474 class="link-to-entry" href="#e-62474">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14498662889170220527'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14498662889170220527">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.690 ***</b><a id=e-62475 class="link-to-entry" href="#e-62475">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='7797284477551318412'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"7797284477551318412">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.691 ***</b><a id=e-62476 class="link-to-entry" href="#e-62476">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7797284477551318412'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7797284477551318412">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.691 ***</b><a id=e-62477 class="link-to-entry" href="#e-62477">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='290388480039483963'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"290388480039483963">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.694 ***</b><a id=e-62478 class="link-to-entry" href="#e-62478">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='290388480039483963'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"290388480039483963">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.694 ***</b><a id=e-62479 class="link-to-entry" href="#e-62479">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12650707935602361556'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"12650707935602361556">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.695 ***</b><a id=e-62480 class="link-to-entry" href="#e-62480">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12650707935602361556'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12650707935602361556">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.695 ***</b><a id=e-62481 class="link-to-entry" href="#e-62481">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8376874625329152348'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8376874625329152348">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.698 ***</b><a id=e-62482 class="link-to-entry" href="#e-62482">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8376874625329152348'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8376874625329152348">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.698 ***</b><a id=e-62483 class="link-to-entry" href="#e-62483">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5811783396129294707'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"5811783396129294707">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.699 ***</b><a id=e-62484 class="link-to-entry" href="#e-62484">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5811783396129294707'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5811783396129294707">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.699 ***</b><a id=e-62485 class="link-to-entry" href="#e-62485">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11945180803023606126'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11945180803023606126">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.702 ***</b><a id=e-62486 class="link-to-entry" href="#e-62486">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='11945180803023606126'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11945180803023606126">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.702 ***</b><a id=e-62487 class="link-to-entry" href="#e-62487">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4729908164499839332'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"4729908164499839332">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.703 ***</b><a id=e-62488 class="link-to-entry" href="#e-62488">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4729908164499839332'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4729908164499839332">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.703 ***</b><a id=e-62489 class="link-to-entry" href="#e-62489">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2835044157898525879'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2835044157898525879">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.706 ***</b><a id=e-62490 class="link-to-entry" href="#e-62490">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2835044157898525879'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2835044157898525879">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.707 ***</b><a id=e-62491 class="link-to-entry" href="#e-62491">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12074593732430944297'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"12074593732430944297">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.707 ***</b><a id=e-62492 class="link-to-entry" href="#e-62492">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12074593732430944297'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12074593732430944297">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.707 ***</b><a id=e-62493 class="link-to-entry" href="#e-62493">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5267635197737942173'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5267635197737942173">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.710 ***</b><a id=e-62494 class="link-to-entry" href="#e-62494">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5267635197737942173'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5267635197737942173">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.710 ***</b><a id=e-62495 class="link-to-entry" href="#e-62495">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1717610077792370133'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"1717610077792370133">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.711 ***</b><a id=e-62496 class="link-to-entry" href="#e-62496">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='1717610077792370133'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1717610077792370133">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.711 ***</b><a id=e-62497 class="link-to-entry" href="#e-62497">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='18420663873275993339'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18420663873275993339">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.713 ***</b><a id=e-62498 class="link-to-entry" href="#e-62498">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='18420663873275993339'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18420663873275993339">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.714 ***</b><a id=e-62499 class="link-to-entry" href="#e-62499">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15944657901628549631'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15944657901628549631">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.714 ***</b><a id=e-62500 class="link-to-entry" href="#e-62500">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15944657901628549631'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15944657901628549631">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.714 ***</b><a id=e-62501 class="link-to-entry" href="#e-62501">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8873110171578062438'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8873110171578062438">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.717 ***</b><a id=e-62502 class="link-to-entry" href="#e-62502">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8873110171578062438'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8873110171578062438">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.717 ***</b><a id=e-62503 class="link-to-entry" href="#e-62503">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11491741563562524029'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"11491741563562524029">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.718 ***</b><a id=e-62504 class="link-to-entry" href="#e-62504">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='11491741563562524029'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11491741563562524029">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.718 ***</b><a id=e-62505 class="link-to-entry" href="#e-62505">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15471780875191405573'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15471780875191405573">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.721 ***</b><a id=e-62506 class="link-to-entry" href="#e-62506">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15471780875191405573'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15471780875191405573">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.721 ***</b><a id=e-62507 class="link-to-entry" href="#e-62507">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14036270797454199332'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"14036270797454199332">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.722 ***</b><a id=e-62508 class="link-to-entry" href="#e-62508">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14036270797454199332'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14036270797454199332">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.722 ***</b><a id=e-62509 class="link-to-entry" href="#e-62509">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2824372241724121517'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2824372241724121517">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.729 ***</b><a id=e-62510 class="link-to-entry" href="#e-62510">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2824372241724121517'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2824372241724121517">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.729 ***</b><a id=e-62511 class="link-to-entry" href="#e-62511">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3988489384063746681'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"3988489384063746681">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.747 ***</b><a id=e-62512 class="link-to-entry" href="#e-62512">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='3988489384063746681'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3988489384063746681">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.748 ***</b><a id=e-62513 class="link-to-entry" href="#e-62513">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2092870609607477316'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2092870609607477316">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.759 ***</b><a id=e-62514 class="link-to-entry" href="#e-62514">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2092870609607477316'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2092870609607477316">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.759 ***</b><a id=e-62515 class="link-to-entry" href="#e-62515">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8170479047450385932'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"8170479047450385932">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.771 ***</b><a id=e-62516 class="link-to-entry" href="#e-62516">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8170479047450385932'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8170479047450385932">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.771 ***</b><a id=e-62517 class="link-to-entry" href="#e-62517">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13268441313406889794'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13268441313406889794">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.782 ***</b><a id=e-62518 class="link-to-entry" href="#e-62518">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13268441313406889794'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13268441313406889794">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.782 ***</b><a id=e-62519 class="link-to-entry" href="#e-62519">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4817467135107773637'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"4817467135107773637">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.797 ***</b><a id=e-62520 class="link-to-entry" href="#e-62520">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4817467135107773637'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4817467135107773637">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.797 ***</b><a id=e-62521 class="link-to-entry" href="#e-62521">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11498108162803236689'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11498108162803236689">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.809 ***</b><a id=e-62522 class="link-to-entry" href="#e-62522">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='11498108162803236689'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11498108162803236689">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.809 ***</b><a id=e-62523 class="link-to-entry" href="#e-62523">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12095694934624948658'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"12095694934624948658">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.824 ***</b><a id=e-62524 class="link-to-entry" href="#e-62524">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12095694934624948658'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12095694934624948658">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.824 ***</b><a id=e-62525 class="link-to-entry" href="#e-62525">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17487062042895246687'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17487062042895246687">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.838 ***</b><a id=e-62526 class="link-to-entry" href="#e-62526">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17487062042895246687'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17487062042895246687">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.838 ***</b><a id=e-62527 class="link-to-entry" href="#e-62527">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='9288355703004897226'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"9288355703004897226">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.854 ***</b><a id=e-62528 class="link-to-entry" href="#e-62528">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9288355703004897226'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9288355703004897226">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.854 ***</b><a id=e-62529 class="link-to-entry" href="#e-62529">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='14366505705818644971'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14366505705818644971">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.867 ***</b><a id=e-62530 class="link-to-entry" href="#e-62530">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14366505705818644971'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14366505705818644971">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.868 ***</b><a id=e-62531 class="link-to-entry" href="#e-62531">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='10709671966270863931'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"10709671966270863931">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.881 ***</b><a id=e-62532 class="link-to-entry" href="#e-62532">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10709671966270863931'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10709671966270863931">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.881 ***</b><a id=e-62533 class="link-to-entry" href="#e-62533">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='5461581643410918857'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5461581643410918857">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.896 ***</b><a id=e-62534 class="link-to-entry" href="#e-62534">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5461581643410918857'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5461581643410918857">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.896 ***</b><a id=e-62535 class="link-to-entry" href="#e-62535">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='16773672589228473890'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"16773672589228473890">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.912 ***</b><a id=e-62536 class="link-to-entry" href="#e-62536">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16773672589228473890'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16773672589228473890">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.912 ***</b><a id=e-62537 class="link-to-entry" href="#e-62537">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13755332717566476817'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13755332717566476817">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.927 ***</b><a id=e-62538 class="link-to-entry" href="#e-62538">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13755332717566476817'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13755332717566476817">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.927 ***</b><a id=e-62539 class="link-to-entry" href="#e-62539">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='9858744433265088685'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"9858744433265088685">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.944 ***</b><a id=e-62540 class="link-to-entry" href="#e-62540">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='9858744433265088685'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9858744433265088685">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.944 ***</b><a id=e-62541 class="link-to-entry" href="#e-62541">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='17526242021375694557'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17526242021375694557">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.958 ***</b><a id=e-62542 class="link-to-entry" href="#e-62542">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='17526242021375694557'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17526242021375694557">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.958 ***</b><a id=e-62543 class="link-to-entry" href="#e-62543">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='14467535082640038993'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"14467535082640038993">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.979 ***</b><a id=e-62544 class="link-to-entry" href="#e-62544">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14467535082640038993'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14467535082640038993">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.979 ***</b><a id=e-62545 class="link-to-entry" href="#e-62545">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='11498918226046569675'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11498918226046569675">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.995 ***</b><a id=e-62546 class="link-to-entry" href="#e-62546">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11498918226046569675'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11498918226046569675">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:58.995 ***</b><a id=e-62547 class="link-to-entry" href="#e-62547">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2807655363868120365'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"2807655363868120365">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.007 ***</b><a id=e-62548 class="link-to-entry" href="#e-62548">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2807655363868120365'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2807655363868120365">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.007 ***</b><a id=e-62549 class="link-to-entry" href="#e-62549">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='7055940870061392669'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7055940870061392669">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.022 ***</b><a id=e-62550 class="link-to-entry" href="#e-62550">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7055940870061392669'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7055940870061392669">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.022 ***</b><a id=e-62551 class="link-to-entry" href="#e-62551">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='14647851231256229075'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"14647851231256229075">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.039 ***</b><a id=e-62552 class="link-to-entry" href="#e-62552">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14647851231256229075'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14647851231256229075">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.039 ***</b><a id=e-62553 class="link-to-entry" href="#e-62553">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='2555100379844519326'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2555100379844519326">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.054 ***</b><a id=e-62554 class="link-to-entry" href="#e-62554">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2555100379844519326'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2555100379844519326">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.054 ***</b><a id=e-62555 class="link-to-entry" href="#e-62555">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='16482413425264041693'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"16482413425264041693">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.071 ***</b><a id=e-62556 class="link-to-entry" href="#e-62556">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16482413425264041693'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16482413425264041693">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.071 ***</b><a id=e-62557 class="link-to-entry" href="#e-62557">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='1201412577726930152'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1201412577726930152">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.086 ***</b><a id=e-62558 class="link-to-entry" href="#e-62558">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1201412577726930152'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1201412577726930152">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.086 ***</b><a id=e-62559 class="link-to-entry" href="#e-62559">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='6270817265663190252'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"6270817265663190252">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.105 ***</b><a id=e-62560 class="link-to-entry" href="#e-62560">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6270817265663190252'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6270817265663190252">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.105 ***</b><a id=e-62561 class="link-to-entry" href="#e-62561">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='15863897491012864925'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15863897491012864925">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.118 ***</b><a id=e-62562 class="link-to-entry" href="#e-62562">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15863897491012864925'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15863897491012864925">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.118 ***</b><a id=e-62563 class="link-to-entry" href="#e-62563">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4186403405418744453'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"4186403405418744453">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.133 ***</b><a id=e-62564 class="link-to-entry" href="#e-62564">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4186403405418744453'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4186403405418744453">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.133 ***</b><a id=e-62565 class="link-to-entry" href="#e-62565">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='5255346420926450233'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5255346420926450233">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.147 ***</b><a id=e-62566 class="link-to-entry" href="#e-62566">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5255346420926450233'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5255346420926450233">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.148 ***</b><a id=e-62567 class="link-to-entry" href="#e-62567">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2083672909437875324'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"2083672909437875324">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.165 ***</b><a id=e-62568 class="link-to-entry" href="#e-62568">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2083672909437875324'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2083672909437875324">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.165 ***</b><a id=e-62569 class="link-to-entry" href="#e-62569">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='254871962256531622'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"254871962256531622">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.178 ***</b><a id=e-62570 class="link-to-entry" href="#e-62570">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='254871962256531622'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"254871962256531622">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.179 ***</b><a id=e-62571 class="link-to-entry" href="#e-62571">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2481273613642375003'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"2481273613642375003">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.196 ***</b><a id=e-62572 class="link-to-entry" href="#e-62572">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2481273613642375003'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2481273613642375003">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.196 ***</b><a id=e-62573 class="link-to-entry" href="#e-62573">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6931112954939703194'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6931112954939703194">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.211 ***</b><a id=e-62574 class="link-to-entry" href="#e-62574">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6931112954939703194'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6931112954939703194">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.211 ***</b><a id=e-62575 class="link-to-entry" href="#e-62575">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='12705071633295276'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"12705071633295276">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.231 ***</b><a id=e-62576 class="link-to-entry" href="#e-62576">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='12705071633295276'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12705071633295276">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.231 ***</b><a id=e-62577 class="link-to-entry" href="#e-62577">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='17758753749060704083'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17758753749060704083">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.246 ***</b><a id=e-62578 class="link-to-entry" href="#e-62578">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='17758753749060704083'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17758753749060704083">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.246 ***</b><a id=e-62579 class="link-to-entry" href="#e-62579">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='6807827681365088465'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"6807827681365088465">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.260 ***</b><a id=e-62580 class="link-to-entry" href="#e-62580">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6807827681365088465'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6807827681365088465">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.260 ***</b><a id=e-62581 class="link-to-entry" href="#e-62581">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6320672614829415593'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6320672614829415593">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.274 ***</b><a id=e-62582 class="link-to-entry" href="#e-62582">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6320672614829415593'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6320672614829415593">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.274 ***</b><a id=e-62583 class="link-to-entry" href="#e-62583">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5350404267826820850'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"5350404267826820850">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.291 ***</b><a id=e-62584 class="link-to-entry" href="#e-62584">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5350404267826820850'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5350404267826820850">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.291 ***</b><a id=e-62585 class="link-to-entry" href="#e-62585">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13575320173600494830'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13575320173600494830">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.304 ***</b><a id=e-62586 class="link-to-entry" href="#e-62586">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13575320173600494830'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13575320173600494830">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.304 ***</b><a id=e-62587 class="link-to-entry" href="#e-62587">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13941396350682619712'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"13941396350682619712">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.322 ***</b><a id=e-62588 class="link-to-entry" href="#e-62588">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13941396350682619712'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13941396350682619712">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.322 ***</b><a id=e-62589 class="link-to-entry" href="#e-62589">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='10187586740706352555'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10187586740706352555">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.337 ***</b><a id=e-62590 class="link-to-entry" href="#e-62590">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10187586740706352555'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10187586740706352555">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.337 ***</b><a id=e-62591 class="link-to-entry" href="#e-62591">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='7460392464654128604'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"7460392464654128604">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.356 ***</b><a id=e-62592 class="link-to-entry" href="#e-62592">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7460392464654128604'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7460392464654128604">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.356 ***</b><a id=e-62593 class="link-to-entry" href="#e-62593">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13563358759732108737'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13563358759732108737">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.370 ***</b><a id=e-62594 class="link-to-entry" href="#e-62594">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13563358759732108737'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13563358759732108737">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.370 ***</b><a id=e-62595 class="link-to-entry" href="#e-62595">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5151626529968741274'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"5151626529968741274">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.384 ***</b><a id=e-62596 class="link-to-entry" href="#e-62596">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5151626529968741274'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5151626529968741274">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.384 ***</b><a id=e-62597 class="link-to-entry" href="#e-62597">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6509650133403455736'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6509650133403455736">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.398 ***</b><a id=e-62598 class="link-to-entry" href="#e-62598">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6509650133403455736'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6509650133403455736">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.398 ***</b><a id=e-62599 class="link-to-entry" href="#e-62599">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='9186594600846573751'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"9186594600846573751">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.415 ***</b><a id=e-62600 class="link-to-entry" href="#e-62600">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='9186594600846573751'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9186594600846573751">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.415 ***</b><a id=e-62601 class="link-to-entry" href="#e-62601">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13502652529512833532'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13502652529512833532">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.430 ***</b><a id=e-62602 class="link-to-entry" href="#e-62602">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13502652529512833532'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13502652529512833532">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.430 ***</b><a id=e-62603 class="link-to-entry" href="#e-62603">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='16395755216714289034'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"16395755216714289034">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.447 ***</b><a id=e-62604 class="link-to-entry" href="#e-62604">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16395755216714289034'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16395755216714289034">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.447 ***</b><a id=e-62605 class="link-to-entry" href="#e-62605">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='10991580514967281225'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10991580514967281225">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.461 ***</b><a id=e-62606 class="link-to-entry" href="#e-62606">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10991580514967281225'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10991580514967281225">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.461 ***</b><a id=e-62607 class="link-to-entry" href="#e-62607">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='7782085750081086854'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"7782085750081086854">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.481 ***</b><a id=e-62608 class="link-to-entry" href="#e-62608">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7782085750081086854'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7782085750081086854">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.481 ***</b><a id=e-62609 class="link-to-entry" href="#e-62609">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='3556761858348166140'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3556761858348166140">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.496 ***</b><a id=e-62610 class="link-to-entry" href="#e-62610">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='3556761858348166140'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3556761858348166140">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.496 ***</b><a id=e-62611 class="link-to-entry" href="#e-62611">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2587340711408460108'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"2587340711408460108">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.509 ***</b><a id=e-62612 class="link-to-entry" href="#e-62612">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2587340711408460108'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2587340711408460108">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.509 ***</b><a id=e-62613 class="link-to-entry" href="#e-62613">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='11414090653492854726'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11414090653492854726">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.524 ***</b><a id=e-62614 class="link-to-entry" href="#e-62614">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11414090653492854726'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11414090653492854726">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.524 ***</b><a id=e-62615 class="link-to-entry" href="#e-62615">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2606667104785742506'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"2606667104785742506">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.540 ***</b><a id=e-62616 class="link-to-entry" href="#e-62616">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2606667104785742506'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2606667104785742506">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.540 ***</b><a id=e-62617 class="link-to-entry" href="#e-62617">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='1648364670486056671'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1648364670486056671">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.554 ***</b><a id=e-62618 class="link-to-entry" href="#e-62618">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1648364670486056671'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1648364670486056671">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.554 ***</b><a id=e-62619 class="link-to-entry" href="#e-62619">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15614550421366857808'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"15614550421366857808">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.571 ***</b><a id=e-62620 class="link-to-entry" href="#e-62620">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15614550421366857808'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15614550421366857808">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.572 ***</b><a id=e-62621 class="link-to-entry" href="#e-62621">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='12110668468751131352'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12110668468751131352">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.585 ***</b><a id=e-62622 class="link-to-entry" href="#e-62622">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='12110668468751131352'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12110668468751131352">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.585 ***</b><a id=e-62623 class="link-to-entry" href="#e-62623">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='7688447362905881881'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"7688447362905881881">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.606 ***</b><a id=e-62624 class="link-to-entry" href="#e-62624">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7688447362905881881'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7688447362905881881">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.606 ***</b><a id=e-62625 class="link-to-entry" href="#e-62625">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='4398473700435928381'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4398473700435928381">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.620 ***</b><a id=e-62626 class="link-to-entry" href="#e-62626">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4398473700435928381'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4398473700435928381">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.620 ***</b><a id=e-62627 class="link-to-entry" href="#e-62627">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='7646779022084026811'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"7646779022084026811">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.634 ***</b><a id=e-62628 class="link-to-entry" href="#e-62628">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7646779022084026811'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7646779022084026811">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.634 ***</b><a id=e-62629 class="link-to-entry" href="#e-62629">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6061546413033643973'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6061546413033643973">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.650 ***</b><a id=e-62630 class="link-to-entry" href="#e-62630">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6061546413033643973'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6061546413033643973">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.650 ***</b><a id=e-62631 class="link-to-entry" href="#e-62631">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13662954905895566373'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13662954905895566373">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.666 ***</b><a id=e-62632 class="link-to-entry" href="#e-62632">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13662954905895566373'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13662954905895566373">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.666 ***</b><a id=e-62633 class="link-to-entry" href="#e-62633">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='14036716554327061137'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14036716554327061137">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.679 ***</b><a id=e-62634 class="link-to-entry" href="#e-62634">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14036716554327061137'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14036716554327061137">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.679 ***</b><a id=e-62635 class="link-to-entry" href="#e-62635">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15303540972008701844'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"15303540972008701844">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.696 ***</b><a id=e-62636 class="link-to-entry" href="#e-62636">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15303540972008701844'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15303540972008701844">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.696 ***</b><a id=e-62637 class="link-to-entry" href="#e-62637">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='11874679557465762154'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11874679557465762154">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.711 ***</b><a id=e-62638 class="link-to-entry" href="#e-62638">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11874679557465762154'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11874679557465762154">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.711 ***</b><a id=e-62639 class="link-to-entry" href="#e-62639">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5898356084035327032'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"5898356084035327032">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.731 ***</b><a id=e-62640 class="link-to-entry" href="#e-62640">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5898356084035327032'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5898356084035327032">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.731 ***</b><a id=e-62641 class="link-to-entry" href="#e-62641">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='14332869807465296140'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14332869807465296140">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.746 ***</b><a id=e-62642 class="link-to-entry" href="#e-62642">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14332869807465296140'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14332869807465296140">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.746 ***</b><a id=e-62643 class="link-to-entry" href="#e-62643">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13111866059633196830'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13111866059633196830">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.759 ***</b><a id=e-62644 class="link-to-entry" href="#e-62644">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13111866059633196830'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13111866059633196830">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.759 ***</b><a id=e-62645 class="link-to-entry" href="#e-62645">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='1639904339190024205'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1639904339190024205">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.772 ***</b><a id=e-62646 class="link-to-entry" href="#e-62646">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1639904339190024205'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1639904339190024205">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.773 ***</b><a id=e-62647 class="link-to-entry" href="#e-62647">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='16747290146580464710'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"16747290146580464710">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.790 ***</b><a id=e-62648 class="link-to-entry" href="#e-62648">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16747290146580464710'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16747290146580464710">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.790 ***</b><a id=e-62649 class="link-to-entry" href="#e-62649">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6166444179369716685'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6166444179369716685">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.804 ***</b><a id=e-62650 class="link-to-entry" href="#e-62650">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6166444179369716685'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6166444179369716685">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.805 ***</b><a id=e-62651 class="link-to-entry" href="#e-62651">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2833612493587387426'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"2833612493587387426">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.821 ***</b><a id=e-62652 class="link-to-entry" href="#e-62652">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2833612493587387426'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2833612493587387426">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.821 ***</b><a id=e-62653 class="link-to-entry" href="#e-62653">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='7478333317665795201'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7478333317665795201">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.834 ***</b><a id=e-62654 class="link-to-entry" href="#e-62654">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7478333317665795201'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7478333317665795201">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.834 ***</b><a id=e-62655 class="link-to-entry" href="#e-62655">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='11601414464625780361'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"11601414464625780361">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.855 ***</b><a id=e-62656 class="link-to-entry" href="#e-62656">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11601414464625780361'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11601414464625780361">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.856 ***</b><a id=e-62657 class="link-to-entry" href="#e-62657">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='11014271337266274888'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11014271337266274888">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.868 ***</b><a id=e-62658 class="link-to-entry" href="#e-62658">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11014271337266274888'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11014271337266274888">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.868 ***</b><a id=e-62659 class="link-to-entry" href="#e-62659">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5422060095587626785'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"5422060095587626785">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.884 ***</b><a id=e-62660 class="link-to-entry" href="#e-62660">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5422060095587626785'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5422060095587626785">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.884 ***</b><a id=e-62661 class="link-to-entry" href="#e-62661">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='4529427245978714042'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4529427245978714042">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.897 ***</b><a id=e-62662 class="link-to-entry" href="#e-62662">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4529427245978714042'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4529427245978714042">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.897 ***</b><a id=e-62663 class="link-to-entry" href="#e-62663">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13351126200790242075'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13351126200790242075">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.915 ***</b><a id=e-62664 class="link-to-entry" href="#e-62664">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13351126200790242075'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13351126200790242075">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.915 ***</b><a id=e-62665 class="link-to-entry" href="#e-62665">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='18272640664390357845'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18272640664390357845">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.929 ***</b><a id=e-62666 class="link-to-entry" href="#e-62666">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='18272640664390357845'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18272640664390357845">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.929 ***</b><a id=e-62667 class="link-to-entry" href="#e-62667">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='10149885554990368886'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"10149885554990368886">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.946 ***</b><a id=e-62668 class="link-to-entry" href="#e-62668">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10149885554990368886'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10149885554990368886">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.946 ***</b><a id=e-62669 class="link-to-entry" href="#e-62669">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6069040022744151621'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6069040022744151621">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.960 ***</b><a id=e-62670 class="link-to-entry" href="#e-62670">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6069040022744151621'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6069040022744151621">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.960 ***</b><a id=e-62671 class="link-to-entry" href="#e-62671">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='10958039788790144480'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"10958039788790144480">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.980 ***</b><a id=e-62672 class="link-to-entry" href="#e-62672">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10958039788790144480'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10958039788790144480">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.981 ***</b><a id=e-62673 class="link-to-entry" href="#e-62673">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13310080967596533200'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13310080967596533200">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.995 ***</b><a id=e-62674 class="link-to-entry" href="#e-62674">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13310080967596533200'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13310080967596533200">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:59.996 ***</b><a id=e-62675 class="link-to-entry" href="#e-62675">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='16958939198674778293'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16958939198674778293">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.009 ***</b><a id=e-62676 class="link-to-entry" href="#e-62676">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16958939198674778293'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16958939198674778293">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.009 ***</b><a id=e-62677 class="link-to-entry" href="#e-62677">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='15440548289112063102'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15440548289112063102">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.022 ***</b><a id=e-62678 class="link-to-entry" href="#e-62678">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15440548289112063102'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15440548289112063102">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.023 ***</b><a id=e-62679 class="link-to-entry" href="#e-62679">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15556456559619817090'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15556456559619817090">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.040 ***</b><a id=e-62680 class="link-to-entry" href="#e-62680">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15556456559619817090'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15556456559619817090">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.040 ***</b><a id=e-62681 class="link-to-entry" href="#e-62681">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='1738245343722731488'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1738245343722731488">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.053 ***</b><a id=e-62682 class="link-to-entry" href="#e-62682">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1738245343722731488'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1738245343722731488">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.053 ***</b><a id=e-62683 class="link-to-entry" href="#e-62683">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='12879486289440616066'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"12879486289440616066">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.071 ***</b><a id=e-62684 class="link-to-entry" href="#e-62684">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='12879486289440616066'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12879486289440616066">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.071 ***</b><a id=e-62685 class="link-to-entry" href="#e-62685">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='4972774886428707826'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4972774886428707826">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.084 ***</b><a id=e-62686 class="link-to-entry" href="#e-62686">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4972774886428707826'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4972774886428707826">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.084 ***</b><a id=e-62687 class="link-to-entry" href="#e-62687">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5333481150827034046'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"5333481150827034046">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.105 ***</b><a id=e-62688 class="link-to-entry" href="#e-62688">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5333481150827034046'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5333481150827034046">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.105 ***</b><a id=e-62689 class="link-to-entry" href="#e-62689">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='4585759767099381958'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4585759767099381958">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.119 ***</b><a id=e-62690 class="link-to-entry" href="#e-62690">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4585759767099381958'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4585759767099381958">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.119 ***</b><a id=e-62691 class="link-to-entry" href="#e-62691">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4906733657417901114'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"4906733657417901114">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.133 ***</b><a id=e-62692 class="link-to-entry" href="#e-62692">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4906733657417901114'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4906733657417901114">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.133 ***</b><a id=e-62693 class="link-to-entry" href="#e-62693">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13924005777745425516'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13924005777745425516">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.147 ***</b><a id=e-62694 class="link-to-entry" href="#e-62694">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13924005777745425516'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13924005777745425516">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.147 ***</b><a id=e-62695 class="link-to-entry" href="#e-62695">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13192916835762549694'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"13192916835762549694">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.165 ***</b><a id=e-62696 class="link-to-entry" href="#e-62696">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13192916835762549694'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13192916835762549694">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.165 ***</b><a id=e-62697 class="link-to-entry" href="#e-62697">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='4855256241735414572'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4855256241735414572">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.179 ***</b><a id=e-62698 class="link-to-entry" href="#e-62698">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4855256241735414572'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4855256241735414572">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.179 ***</b><a id=e-62699 class="link-to-entry" href="#e-62699">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='6783497840548321767'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"6783497840548321767">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.196 ***</b><a id=e-62700 class="link-to-entry" href="#e-62700">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6783497840548321767'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6783497840548321767">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.196 ***</b><a id=e-62701 class="link-to-entry" href="#e-62701">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13416923882909384374'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13416923882909384374">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.209 ***</b><a id=e-62702 class="link-to-entry" href="#e-62702">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13416923882909384374'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13416923882909384374">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.209 ***</b><a id=e-62703 class="link-to-entry" href="#e-62703">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5547528730584493741'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"5547528730584493741">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.230 ***</b><a id=e-62704 class="link-to-entry" href="#e-62704">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5547528730584493741'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5547528730584493741">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.230 ***</b><a id=e-62705 class="link-to-entry" href="#e-62705">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='14136383482896869096'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14136383482896869096">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.244 ***</b><a id=e-62706 class="link-to-entry" href="#e-62706">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14136383482896869096'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14136383482896869096">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.244 ***</b><a id=e-62707 class="link-to-entry" href="#e-62707">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15617472130674691134'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15617472130674691134">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.258 ***</b><a id=e-62708 class="link-to-entry" href="#e-62708">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15617472130674691134'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15617472130674691134">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.258 ***</b><a id=e-62709 class="link-to-entry" href="#e-62709">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='17240463728676215578'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17240463728676215578">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.272 ***</b><a id=e-62710 class="link-to-entry" href="#e-62710">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='17240463728676215578'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17240463728676215578">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.272 ***</b><a id=e-62711 class="link-to-entry" href="#e-62711">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='162815574016052150'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"162815574016052150">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.289 ***</b><a id=e-62712 class="link-to-entry" href="#e-62712">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='162815574016052150'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"162815574016052150">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.289 ***</b><a id=e-62713 class="link-to-entry" href="#e-62713">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6835124119721136424'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6835124119721136424">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.303 ***</b><a id=e-62714 class="link-to-entry" href="#e-62714">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6835124119721136424'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6835124119721136424">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.303 ***</b><a id=e-62715 class="link-to-entry" href="#e-62715">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='14087615558654319557'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"14087615558654319557">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.320 ***</b><a id=e-62716 class="link-to-entry" href="#e-62716">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14087615558654319557'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14087615558654319557">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.320 ***</b><a id=e-62717 class="link-to-entry" href="#e-62717">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='12268744512954441974'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12268744512954441974">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.335 ***</b><a id=e-62718 class="link-to-entry" href="#e-62718">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='12268744512954441974'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12268744512954441974">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.335 ***</b><a id=e-62719 class="link-to-entry" href="#e-62719">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='16265184650558109399'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16265184650558109399">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:57:00.355 ***</b><a id=e-62720 class="link-to-entry" href="#e-62720">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16265184650558109399'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16265184650558109399">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2023-09-08 16:57:00.367 ***</b><a id=e-62721 class="link-to-entry" href="#e-62721">&#x1f517;</a>
=INFO REPORT==== 8-Sep-2023::16:57:00.367709 ===
(tcp|&lt;0.44566.0&gt;) Closing c2s session for test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()'"`~&lt;&gt;+-/;:_=[]{}|\: Stream reset by peer

</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2023-09-08 16:57:00
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"11091301753207572522"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.122050307&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,single},
                     {watchdog,&lt;0.44564.0&gt;},
                     {event_relay,&lt;0.44552.0&gt;},
                     {server,&lt;&lt;"sqlite.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/ejabberd_suite.mam_get_set_prefs.43251.html"},
                     {tc_group_properties,[{name,mam_single},sequence]},
                     {tc_group_path,
                         [[{name,single_user},sequence],
                          [{name,sqlite},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/log_private/"}]
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2023 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Fri Sep 08 2023 16:56:58<!--/date--><br />
</div>
</center>
</body>
</html>
