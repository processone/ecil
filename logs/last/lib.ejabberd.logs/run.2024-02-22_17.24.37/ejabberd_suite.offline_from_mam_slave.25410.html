<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:offline_from_mam_slave result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#offline_from_mam_slave-1">ejabberd_SUITE:offline_from_mam_slave/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.36957.0&gt;},
     {watchdog,&lt;0.36956.0&gt;},
     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708622608@677-prefiks-master-f4de0ce.2024-02-22_17.24.37/lib.ejabberd.logs/run.2024-02-22_17.24.37/ejabberd_suite.offline_from_mam_slave.25410.html"},
     {tc_group_properties,[{name,offline_from_mam},parallel]},
     {tc_group_path,[[{name,offline_master_slave},sequence],
                     [{name,redis},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708622608@677-prefiks-master-f4de0ce.2024-02-22_17.24.37/lib.ejabberd.logs/run.2024-02-22_17.24.37/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708622608@677-prefiks-master-f4de0ce.2024-02-22_17.24.37"

=== Started at 2024-02-22 17:27:27

<br />

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.364 ***</b><a id=e-26120 class="link-to-entry" href="#e-26120">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.365 ***</b><a id=e-26123 class="link-to-entry" href="#e-26123">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='9674698032218854845'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"9674698032218854845">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.365 ***</b><a id=e-26124 class="link-to-entry" href="#e-26124">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.365 ***</b><a id=e-26125 class="link-to-entry" href="#e-26125">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XEByZWRpcy5sb2NhbGhvc3QAdGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,114,
                    101,100,105,115,46,108,111,99,97,108,104,111,115,116,0,
                    116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,112,97,
                    115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,41,39,
                    34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.365 ***</b><a id=e-26128 class="link-to-entry" href="#e-26128">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.366 ***</b><a id=e-26130 class="link-to-entry" href="#e-26130">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.366 ***</b><a id=e-26131 class="link-to-entry" href="#e-26131">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='11373094243922751211'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"11373094243922751211">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.366 ***</b><a id=e-26134 class="link-to-entry" href="#e-26134">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='9dw1fKaE0crSfkc9KTtBadLPkJA='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
  &lt;csi xmlns='urn:xmpp:csi:0'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"9dw1fKaE0crSfkc9KTtBadLPkJA=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{},
         #feature_csi{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.366 ***</b><a id=e-26135 class="link-to-entry" href="#e-26135">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15116183508066895143'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"15116183508066895143">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.367 ***</b><a id=e-26136 class="link-to-entry" href="#e-26136">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='15116183508066895143'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"15116183508066895143">>,type = result,lang = <<>>,
    from = undefined,to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.368 ***</b><a id=e-26138 class="link-to-entry" href="#e-26138">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14796993022459291243'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"14796993022459291243">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.369 ***</b><a id=e-26139 class="link-to-entry" href="#e-26139">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='14796993022459291243'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14796993022459291243">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.369 ***</b><a id=e-26140 class="link-to-entry" href="#e-26140">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11777616972002684075'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"11777616972002684075">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.369 ***</b><a id=e-26141 class="link-to-entry" href="#e-26141">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='11777616972002684075'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11777616972002684075">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.369 ***</b><a id=e-26142 class="link-to-entry" href="#e-26142">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7791861830547666263'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"7791861830547666263">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.370 ***</b><a id=e-26143 class="link-to-entry" href="#e-26143">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='7791861830547666263'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7791861830547666263">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.370 ***</b><a id=e-26144 class="link-to-entry" href="#e-26144">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12134782090010136627'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"12134782090010136627">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.370 ***</b><a id=e-26145 class="link-to-entry" href="#e-26145">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='12134782090010136627'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12134782090010136627">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.370 ***</b><a id=e-26146 class="link-to-entry" href="#e-26146">&#x1f517;</a>
SENT:
&lt;presence id='2256957629141143482'
          xmlns='jabber:client'/>

#presence{id = <<"2256957629141143482">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.371 ***</b><a id=e-26147 class="link-to-entry" href="#e-26147">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='2256957629141143482'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"2256957629141143482">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:27.371 ***</b><a id=e-26148 class="link-to-entry" href="#e-26148">&#x1f517;</a>
SENT:
&lt;presence type='unavailable'
          id='1050202355290753269'
          xmlns='jabber:client'/>

#presence{id = <<"1050202355290753269">>,type = unavailable,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.156 ***</b><a id=e-26979 class="link-to-entry" href="#e-26979">&#x1f517;</a>
SENT:
&lt;presence id='11520072905001534285'
          xmlns='jabber:client'/>

#presence{id = <<"11520072905001534285">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.163 ***</b><a id=e-26980 class="link-to-entry" href="#e-26980">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16283078278637730810'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849300824'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849300824'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.301095Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"16283078278637730810">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849300824">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849300824">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622849,301095},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.163 ***</b><a id=e-26981 class="link-to-entry" href="#e-26981">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1823628212569582688'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849301226'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849301226'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.301226Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"1823628212569582688">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849301226">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849301226">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,301226},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.163 ***</b><a id=e-26982 class="link-to-entry" href="#e-26982">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4986009676152494266'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849301461'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849301461'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.301461Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"4986009676152494266">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849301461">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849301461">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,301461},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.164 ***</b><a id=e-26983 class="link-to-entry" href="#e-26983">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15418528787587260626'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849378821'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849378821'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.378821Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"15418528787587260626">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849378821">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849378821">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,378821},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.164 ***</b><a id=e-26984 class="link-to-entry" href="#e-26984">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14488649797537764665'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849379195'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849379195'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.379195Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"14488649797537764665">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849379195">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849379195">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,379195},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.164 ***</b><a id=e-26985 class="link-to-entry" href="#e-26985">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3729856960432350324'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849379515'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849379515'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.379515Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3729856960432350324">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849379515">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849379515">>},
         #delay{
             stamp = {1708,622849,379515},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.165 ***</b><a id=e-26986 class="link-to-entry" href="#e-26986">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7308572794113774609'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849379744'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849379744'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.379744Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7308572794113774609">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849379744">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849379744">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,379744},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.165 ***</b><a id=e-26987 class="link-to-entry" href="#e-26987">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9823854631232806245'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849380045'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849380045'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.380045Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9823854631232806245">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849380045">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849380045">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,380045},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.165 ***</b><a id=e-26988 class="link-to-entry" href="#e-26988">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18110497731767012832'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849479891'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849479891'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.479891Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18110497731767012832">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849479891">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849479891">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,479891},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.165 ***</b><a id=e-26989 class="link-to-entry" href="#e-26989">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5349949148886115989'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849480370'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849480370'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.480370Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5349949148886115989">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849480370">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849480370">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,480370},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.166 ***</b><a id=e-26990 class="link-to-entry" href="#e-26990">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9636527573527556192'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849480749'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849480749'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.480749Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9636527573527556192">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849480749">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849480749">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1708,622849,480749},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.166 ***</b><a id=e-26991 class="link-to-entry" href="#e-26991">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15422347049736005'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849481069'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849481069'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.481069Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15422347049736005">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849481069">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849481069">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,481069},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.166 ***</b><a id=e-26992 class="link-to-entry" href="#e-26992">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='869524676286777598'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849481360'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849481360'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.481360Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"869524676286777598">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849481360">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849481360">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,481360},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.166 ***</b><a id=e-26993 class="link-to-entry" href="#e-26993">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4876714022450287929'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849599827'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849599827'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.599827Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4876714022450287929">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849599827">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849599827">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,599827},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.167 ***</b><a id=e-26994 class="link-to-entry" href="#e-26994">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9592478149157905610'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849600199'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849600199'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.600199Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9592478149157905610">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849600199">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849600199">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,600199},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.167 ***</b><a id=e-26995 class="link-to-entry" href="#e-26995">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10380878088679485083'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849600529'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849600529'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10380878088679485083">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849600529">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849600529">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.167 ***</b><a id=e-26996 class="link-to-entry" href="#e-26996">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3569118438144355064'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849600809'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849600809'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3569118438144355064">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849600809">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849600809">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.168 ***</b><a id=e-26997 class="link-to-entry" href="#e-26997">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6372044277554711761'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849601113'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849601113'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6372044277554711761">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849601113">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849601113">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.168 ***</b><a id=e-26998 class="link-to-entry" href="#e-26998">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1727300831374941137'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849741837'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849741837'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"1727300831374941137">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849741837">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849741837">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.168 ***</b><a id=e-26999 class="link-to-entry" href="#e-26999">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11498414816439463510'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849742324'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849742324'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11498414816439463510">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849742324">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849742324">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.168 ***</b><a id=e-27000 class="link-to-entry" href="#e-27000">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12482017118919061047'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849742667'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849742667'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.742667Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12482017118919061047">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849742667">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849742667">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622849,742667},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.169 ***</b><a id=e-27001 class="link-to-entry" href="#e-27001">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14591301933667966590'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849742975'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849742975'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.742975Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14591301933667966590">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849742975">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849742975">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,742975},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.169 ***</b><a id=e-27002 class="link-to-entry" href="#e-27002">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14114123697006764726'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849743338'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849743338'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.743338Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14114123697006764726">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849743338">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849743338">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,743338},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.169 ***</b><a id=e-27003 class="link-to-entry" href="#e-27003">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17157787666212914248'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849871855'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849871855'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.871855Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17157787666212914248">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849871855">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849871855">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,871855},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.169 ***</b><a id=e-27004 class="link-to-entry" href="#e-27004">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16880430490246903154'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849872387'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849872387'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.872387Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16880430490246903154">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849872387">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849872387">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622849,872387},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.170 ***</b><a id=e-27005 class="link-to-entry" href="#e-27005">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18349640959526881363'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849872841'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849872841'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.872841Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18349640959526881363">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849872841">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849872841">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1708,622849,872841},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.170 ***</b><a id=e-27006 class="link-to-entry" href="#e-27006">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11045718290559873398'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849873194'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849873194'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.873194Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11045718290559873398">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849873194">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849873194">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,873194},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.170 ***</b><a id=e-27007 class="link-to-entry" href="#e-27007">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12021586011269249383'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622849873558'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622849873558'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:29.873558Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12021586011269249383">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849873558">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622849873558">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622849,873558},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.170 ***</b><a id=e-27008 class="link-to-entry" href="#e-27008">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14534889246445197577'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850017816'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850017816'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.017816Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14534889246445197577">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850017816">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850017816">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,17816},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.171 ***</b><a id=e-27009 class="link-to-entry" href="#e-27009">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14554791794552820177'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850018409'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850018409'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.018409Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14554791794552820177">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850018409">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850018409">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,18409},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.171 ***</b><a id=e-27010 class="link-to-entry" href="#e-27010">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13118209323090673926'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850018911'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850018911'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.018911Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13118209323090673926">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850018911">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850018911">>},
         #delay{
             stamp = {1708,622850,18911},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.171 ***</b><a id=e-27011 class="link-to-entry" href="#e-27011">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6873607053260250747'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850019289'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850019289'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.019289Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6873607053260250747">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850019289">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850019289">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,19289},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.171 ***</b><a id=e-27012 class="link-to-entry" href="#e-27012">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12180726577479703644'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850019674'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850019674'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.019674Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12180726577479703644">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850019674">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850019674">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,19674},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.172 ***</b><a id=e-27013 class="link-to-entry" href="#e-27013">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16858049131904669622'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850107817'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850107817'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.107817Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"16858049131904669622">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850107817">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850107817">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,107817},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.172 ***</b><a id=e-27014 class="link-to-entry" href="#e-27014">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17951586468694584360'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850108442'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850108442'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.108442Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"17951586468694584360">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850108442">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850108442">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,108442},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.172 ***</b><a id=e-27015 class="link-to-entry" href="#e-27015">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='722642175516437042'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850108971'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850108971'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.108971Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"722642175516437042">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850108971">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850108971">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1708,622850,108971},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.172 ***</b><a id=e-27016 class="link-to-entry" href="#e-27016">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16071866810387260138'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850109410'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850109410'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.109410Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"16071866810387260138">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850109410">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850109410">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,109410},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.173 ***</b><a id=e-27017 class="link-to-entry" href="#e-27017">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='667873028103526194'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850109791'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850109791'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.109791Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"667873028103526194">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850109791">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850109791">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,109791},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.173 ***</b><a id=e-27018 class="link-to-entry" href="#e-27018">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3105095549901558196'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850223865'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850223865'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.223865Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"3105095549901558196">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850223865">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850223865">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,223865},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.173 ***</b><a id=e-27019 class="link-to-entry" href="#e-27019">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4243932438374663915'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850224404'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850224404'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.224404Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"4243932438374663915">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850224404">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850224404">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,224404},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.173 ***</b><a id=e-27020 class="link-to-entry" href="#e-27020">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14133410125147011849'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850224964'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850224964'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"14133410125147011849">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850224964">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850224964">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.174 ***</b><a id=e-27021 class="link-to-entry" href="#e-27021">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6199436827177191482'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850225368'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850225368'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6199436827177191482">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850225368">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850225368">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.174 ***</b><a id=e-27022 class="link-to-entry" href="#e-27022">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1351817097561869557'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850225826'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850225826'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1351817097561869557">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850225826">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850225826">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.174 ***</b><a id=e-27023 class="link-to-entry" href="#e-27023">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7902074031244395258'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850360887'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850360887'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"7902074031244395258">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850360887">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850360887">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.174 ***</b><a id=e-27024 class="link-to-entry" href="#e-27024">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7497404599126398681'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850361533'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850361533'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"7497404599126398681">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850361533">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850361533">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.175 ***</b><a id=e-27025 class="link-to-entry" href="#e-27025">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='952187258080713743'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850362106'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850362106'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.362106Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"952187258080713743">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850362106">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850362106">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622850,362106},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.175 ***</b><a id=e-27026 class="link-to-entry" href="#e-27026">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1713741481590302091'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850362567'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850362567'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.362567Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1713741481590302091">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850362567">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850362567">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,362567},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.175 ***</b><a id=e-27027 class="link-to-entry" href="#e-27027">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4225089442614832808'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850363012'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850363012'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.363012Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"4225089442614832808">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850363012">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850363012">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,363012},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.175 ***</b><a id=e-27028 class="link-to-entry" href="#e-27028">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12810611527699560582'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850485842'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850485842'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.485842Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12810611527699560582">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850485842">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850485842">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,485842},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.176 ***</b><a id=e-27029 class="link-to-entry" href="#e-27029">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4729901809391705927'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850486485'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850486485'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.486485Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"4729901809391705927">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850486485">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850486485">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,486485},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.176 ***</b><a id=e-27030 class="link-to-entry" href="#e-27030">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2766820113071956913'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850487007'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850487007'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.487007Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"2766820113071956913">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850487007">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850487007">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1708,622850,487007},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.176 ***</b><a id=e-27031 class="link-to-entry" href="#e-27031">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8932382676140809636'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850487447'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850487447'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.487447Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"8932382676140809636">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850487447">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850487447">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,487447},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.176 ***</b><a id=e-27032 class="link-to-entry" href="#e-27032">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1806033392020554938'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850487883'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850487883'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.487883Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1806033392020554938">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850487883">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850487883">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,487883},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.177 ***</b><a id=e-27033 class="link-to-entry" href="#e-27033">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6756695406986148324'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850631804'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850631804'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.631804Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6756695406986148324">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850631804">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850631804">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,631804},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.177 ***</b><a id=e-27034 class="link-to-entry" href="#e-27034">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12189628112388942523'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850632529'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850632529'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.632529Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12189628112388942523">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850632529">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850632529">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,632529},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.177 ***</b><a id=e-27035 class="link-to-entry" href="#e-27035">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6360511112697373367'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850633199'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850633199'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.633199Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6360511112697373367">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850633199">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850633199">>},
         #delay{
             stamp = {1708,622850,633199},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.177 ***</b><a id=e-27036 class="link-to-entry" href="#e-27036">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14468485614423176470'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850633680'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850633680'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.633680Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14468485614423176470">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850633680">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850633680">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,633680},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.178 ***</b><a id=e-27037 class="link-to-entry" href="#e-27037">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6550005661265555738'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850634259'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850634259'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.634259Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6550005661265555738">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850634259">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850634259">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,634259},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.178 ***</b><a id=e-27038 class="link-to-entry" href="#e-27038">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13679651846841226105'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850726772'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850726772'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.726772Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13679651846841226105">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850726772">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850726772">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,726772},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.178 ***</b><a id=e-27039 class="link-to-entry" href="#e-27039">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10989676218877684697'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850727482'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850727482'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.727482Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10989676218877684697">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850727482">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850727482">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,727482},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.178 ***</b><a id=e-27040 class="link-to-entry" href="#e-27040">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10972075249331538649'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850728022'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850728022'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.728022Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10972075249331538649">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850728022">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850728022">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1708,622850,728022},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.179 ***</b><a id=e-27041 class="link-to-entry" href="#e-27041">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4445909769346206181'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850728634'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850728634'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.728634Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4445909769346206181">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850728634">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850728634">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,728634},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.179 ***</b><a id=e-27042 class="link-to-entry" href="#e-27042">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17695002403874099219'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850729163'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850729163'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.729163Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17695002403874099219">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850729163">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850729163">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622850,729163},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.179 ***</b><a id=e-27043 class="link-to-entry" href="#e-27043">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18329115294460539354'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850862799'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850862799'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.862799Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18329115294460539354">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850862799">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850862799">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,862799},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.180 ***</b><a id=e-27044 class="link-to-entry" href="#e-27044">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18014027168380181960'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850863398'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850863398'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:30.863398Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18014027168380181960">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850863398">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850863398">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622850,863398},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.180 ***</b><a id=e-27045 class="link-to-entry" href="#e-27045">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4548493556420664167'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850864013'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850864013'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4548493556420664167">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850864013">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850864013">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.180 ***</b><a id=e-27046 class="link-to-entry" href="#e-27046">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11636020358756683379'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622850864543'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622850864543'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11636020358756683379">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850864543">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622850864543">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.180 ***</b><a id=e-27047 class="link-to-entry" href="#e-27047">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9314889891567730237'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851008743'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851008743'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9314889891567730237">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851008743">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851008743">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.180 ***</b><a id=e-27048 class="link-to-entry" href="#e-27048">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13583433394394944762'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851019767'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851019767'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13583433394394944762">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851019767">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851019767">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.181 ***</b><a id=e-27049 class="link-to-entry" href="#e-27049">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4742877712305605911'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851020531'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851020531'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4742877712305605911">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851020531">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851020531">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.181 ***</b><a id=e-27050 class="link-to-entry" href="#e-27050">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16392359429989412824'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851088807'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851088807'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.088807Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16392359429989412824">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851088807">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851088807">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622851,88807},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.181 ***</b><a id=e-27051 class="link-to-entry" href="#e-27051">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12688490401332182745'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851089605'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851089605'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.089605Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12688490401332182745">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851089605">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851089605">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,89605},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.181 ***</b><a id=e-27052 class="link-to-entry" href="#e-27052">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4225370079455364221'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851090313'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851090313'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.090313Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4225370079455364221">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851090313">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851090313">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,90313},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.182 ***</b><a id=e-27053 class="link-to-entry" href="#e-27053">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1702006196851270005'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851165810'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851165810'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.165810Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"1702006196851270005">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851165810">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851165810">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,165810},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.182 ***</b><a id=e-27054 class="link-to-entry" href="#e-27054">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4158716165328237128'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851166729'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851166729'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.166729Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4158716165328237128">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851166729">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851166729">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,166729},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.182 ***</b><a id=e-27055 class="link-to-entry" href="#e-27055">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3322188962333752420'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851167423'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851167423'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.167423Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3322188962333752420">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851167423">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851167423">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1708,622851,167423},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.182 ***</b><a id=e-27056 class="link-to-entry" href="#e-27056">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2516831186544554146'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851168043'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851168043'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.168043Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2516831186544554146">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851168043">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851168043">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,168043},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.183 ***</b><a id=e-27057 class="link-to-entry" href="#e-27057">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11744034792164953283'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851168673'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851168673'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.168673Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11744034792164953283">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851168673">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851168673">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,168673},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.183 ***</b><a id=e-27058 class="link-to-entry" href="#e-27058">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11191967037903900618'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851311780'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851311780'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.311780Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11191967037903900618">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851311780">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851311780">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,311780},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.183 ***</b><a id=e-27059 class="link-to-entry" href="#e-27059">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18070663397205959879'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851312508'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851312508'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.312508Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18070663397205959879">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851312508">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851312508">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,312508},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.183 ***</b><a id=e-27060 class="link-to-entry" href="#e-27060">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11444704145396765905'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851313148'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851313148'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.313148Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"11444704145396765905">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851313148">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851313148">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622851,313148},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.183 ***</b><a id=e-27061 class="link-to-entry" href="#e-27061">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6923786563640591434'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851313813'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851313813'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.313813Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"6923786563640591434">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851313813">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851313813">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,313813},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.184 ***</b><a id=e-27062 class="link-to-entry" href="#e-27062">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12062230745372420110'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851314496'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851314496'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.314496Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"12062230745372420110">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851314496">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851314496">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,314496},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.184 ***</b><a id=e-27063 class="link-to-entry" href="#e-27063">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2297084577495419849'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851419796'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851419796'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.419796Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"2297084577495419849">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851419796">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851419796">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,419796},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.184 ***</b><a id=e-27064 class="link-to-entry" href="#e-27064">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11826335271864031760'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851420607'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851420607'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.420607Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"11826335271864031760">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851420607">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851420607">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,420607},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.184 ***</b><a id=e-27065 class="link-to-entry" href="#e-27065">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11609940025259680784'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851421303'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851421303'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.421303Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11609940025259680784">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851421303">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851421303">>},
         #delay{
             stamp = {1708,622851,421303},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.184 ***</b><a id=e-27066 class="link-to-entry" href="#e-27066">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2613011715843801109'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851422000'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851422000'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.422000Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2613011715843801109">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851422000">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851422000">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,422000},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.185 ***</b><a id=e-27067 class="link-to-entry" href="#e-27067">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12403582045050694580'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851422709'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851422709'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.422709Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12403582045050694580">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851422709">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851422709">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,422709},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.185 ***</b><a id=e-27068 class="link-to-entry" href="#e-27068">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8120076378150607675'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851514799'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851514799'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.514799Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"8120076378150607675">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851514799">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851514799">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,514799},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.185 ***</b><a id=e-27069 class="link-to-entry" href="#e-27069">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='1454167272007029515'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851515615'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851515615'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.515615Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"1454167272007029515">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851515615">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851515615">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,515615},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.185 ***</b><a id=e-27070 class="link-to-entry" href="#e-27070">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2432758471865530701'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851516337'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851516337'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.516337Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2432758471865530701">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851516337">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851516337">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1708,622851,516337},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.185 ***</b><a id=e-27071 class="link-to-entry" href="#e-27071">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15063547733495476162'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851517095'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851517095'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.517095Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15063547733495476162">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851517095">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851517095">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,517095},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.185 ***</b><a id=e-27072 class="link-to-entry" href="#e-27072">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2796639144083864737'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851517817'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851517817'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.517817Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2796639144083864737">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851517817">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851517817">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,517817},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.186 ***</b><a id=e-27073 class="link-to-entry" href="#e-27073">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10716186105606396637'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851628842'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851628842'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.628842Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10716186105606396637">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851628842">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851628842">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,628842},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.186 ***</b><a id=e-27074 class="link-to-entry" href="#e-27074">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4497199255003734844'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851629914'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851629914'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.629914Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4497199255003734844">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851629914">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851629914">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,629914},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.186 ***</b><a id=e-27075 class="link-to-entry" href="#e-27075">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10807404537803654695'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851630639'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851630639'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10807404537803654695">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851630639">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851630639">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.186 ***</b><a id=e-27076 class="link-to-entry" href="#e-27076">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2648168415987521215'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851631416'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851631416'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2648168415987521215">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851631416">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851631416">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.187 ***</b><a id=e-27077 class="link-to-entry" href="#e-27077">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9238577490537196385'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851632159'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851632159'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9238577490537196385">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851632159">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851632159">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.187 ***</b><a id=e-27078 class="link-to-entry" href="#e-27078">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14685263848958792017'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851764902'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851764902'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14685263848958792017">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851764902">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851764902">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.187 ***</b><a id=e-27079 class="link-to-entry" href="#e-27079">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15148531237933817422'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851765989'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851765989'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15148531237933817422">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851765989">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851765989">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.187 ***</b><a id=e-27080 class="link-to-entry" href="#e-27080">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11153725867767606434'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851766780'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851766780'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.766780Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11153725867767606434">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851766780">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851766780">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622851,766780},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.187 ***</b><a id=e-27081 class="link-to-entry" href="#e-27081">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16671440129125840852'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851767607'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851767607'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.767607Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16671440129125840852">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851767607">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851767607">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,767607},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.188 ***</b><a id=e-27082 class="link-to-entry" href="#e-27082">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9476817077055959613'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851768321'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851768321'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.768321Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9476817077055959613">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851768321">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851768321">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,768321},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.188 ***</b><a id=e-27083 class="link-to-entry" href="#e-27083">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5051128019090837254'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851888911'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851888911'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.888911Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5051128019090837254">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851888911">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851888911">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,888911},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.188 ***</b><a id=e-27084 class="link-to-entry" href="#e-27084">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4098530558157427332'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851889790'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851889790'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.889790Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4098530558157427332">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851889790">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851889790">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,889790},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.188 ***</b><a id=e-27085 class="link-to-entry" href="#e-27085">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10332740046480808597'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851890695'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851890695'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.890695Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10332740046480808597">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851890695">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851890695">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1708,622851,890695},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.188 ***</b><a id=e-27086 class="link-to-entry" href="#e-27086">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7789330090341459994'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851891418'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851891418'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.891418Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7789330090341459994">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851891418">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851891418">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,891418},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.189 ***</b><a id=e-27087 class="link-to-entry" href="#e-27087">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4957782285377788250'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851892265'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851892265'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.892265Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4957782285377788250">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851892265">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851892265">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622851,892265},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.189 ***</b><a id=e-27088 class="link-to-entry" href="#e-27088">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2376491085954357408'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622851893031'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622851893031'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:31.893031Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2376491085954357408">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851893031">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622851893031">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622851,893031},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.189 ***</b><a id=e-27089 class="link-to-entry" href="#e-27089">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='1296655403518651456'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852034821'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852034821'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.034821Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"1296655403518651456">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852034821">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852034821">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,34821},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.189 ***</b><a id=e-27090 class="link-to-entry" href="#e-27090">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6842374829853161099'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852035835'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852035835'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.035835Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6842374829853161099">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852035835">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852035835">>},
         #delay{
             stamp = {1708,622852,35835},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.190 ***</b><a id=e-27091 class="link-to-entry" href="#e-27091">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15289437778849271573'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852036591'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852036591'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.036591Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"15289437778849271573">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852036591">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852036591">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,36591},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.190 ***</b><a id=e-27092 class="link-to-entry" href="#e-27092">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12451576327934870675'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852037340'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852037340'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.037340Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12451576327934870675">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852037340">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852037340">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,37340},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.190 ***</b><a id=e-27093 class="link-to-entry" href="#e-27093">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18301135809968114982'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852112861'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852112861'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.112861Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"18301135809968114982">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852112861">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852112861">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,112861},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.190 ***</b><a id=e-27094 class="link-to-entry" href="#e-27094">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2510861101967049588'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852113817'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852113817'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.113817Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"2510861101967049588">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852113817">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852113817">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,113817},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.191 ***</b><a id=e-27095 class="link-to-entry" href="#e-27095">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9829497533969947644'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852114605'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852114605'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.114605Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"9829497533969947644">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852114605">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852114605">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1708,622852,114605},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.191 ***</b><a id=e-27096 class="link-to-entry" href="#e-27096">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12467219610554899576'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852115358'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852115358'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.115358Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12467219610554899576">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852115358">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852115358">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,115358},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.191 ***</b><a id=e-27097 class="link-to-entry" href="#e-27097">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3737066274813722203'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852116111'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852116111'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.116111Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"3737066274813722203">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852116111">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852116111">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,116111},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.191 ***</b><a id=e-27098 class="link-to-entry" href="#e-27098">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='1071922295254547487'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852221824'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852221824'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.221824Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1071922295254547487">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852221824">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852221824">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,221824},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.192 ***</b><a id=e-27099 class="link-to-entry" href="#e-27099">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4204255883383410484'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852222860'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852222860'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.222860Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"4204255883383410484">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852222860">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852222860">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,222860},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.192 ***</b><a id=e-27100 class="link-to-entry" href="#e-27100">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8689193956083460917'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852223706'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852223706'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"8689193956083460917">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852223706">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852223706">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.192 ***</b><a id=e-27101 class="link-to-entry" href="#e-27101">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10919952899497982836'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852224491'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852224491'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"10919952899497982836">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852224491">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852224491">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.192 ***</b><a id=e-27102 class="link-to-entry" href="#e-27102">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='1405664692444306139'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852225359'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852225359'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1405664692444306139">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852225359">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852225359">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.193 ***</b><a id=e-27103 class="link-to-entry" href="#e-27103">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10183115275249117454'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852352775'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852352775'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"10183115275249117454">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852352775">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852352775">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.193 ***</b><a id=e-27104 class="link-to-entry" href="#e-27104">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='944013108587238462'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852353691'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852353691'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"944013108587238462">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852353691">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852353691">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.193 ***</b><a id=e-27105 class="link-to-entry" href="#e-27105">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3380353337180598079'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852354369'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852354369'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.354369Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"3380353337180598079">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852354369">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852354369">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622852,354369},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.193 ***</b><a id=e-27106 class="link-to-entry" href="#e-27106">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2268629707258055741'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852354978'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852354978'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.354978Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"2268629707258055741">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852354978">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852354978">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,354978},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.194 ***</b><a id=e-27107 class="link-to-entry" href="#e-27107">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9609392804608286697'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852355569'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852355569'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.355569Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"9609392804608286697">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852355569">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852355569">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,355569},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.194 ***</b><a id=e-27108 class="link-to-entry" href="#e-27108">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7005103965700484671'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852472718'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852472718'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.472718Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"7005103965700484671">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852472718">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852472718">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,472718},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.194 ***</b><a id=e-27109 class="link-to-entry" href="#e-27109">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17427179913049654106'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852473572'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852473572'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.473572Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"17427179913049654106">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852473572">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852473572">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,473572},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.194 ***</b><a id=e-27110 class="link-to-entry" href="#e-27110">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='1587250245844137949'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852474402'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852474402'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.474402Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1587250245844137949">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852474402">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852474402">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1708,622852,474402},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.195 ***</b><a id=e-27111 class="link-to-entry" href="#e-27111">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8075105447835539449'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852475348'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852475348'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.475348Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"8075105447835539449">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852475348">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852475348">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,475348},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.195 ***</b><a id=e-27112 class="link-to-entry" href="#e-27112">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2047992093563314391'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852476186'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852476186'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.476186Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"2047992093563314391">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852476186">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852476186">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,476186},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.195 ***</b><a id=e-27113 class="link-to-entry" href="#e-27113">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15591076243113526035'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852477037'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852477037'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.477037Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"15591076243113526035">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852477037">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852477037">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,477037},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.196 ***</b><a id=e-27114 class="link-to-entry" href="#e-27114">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16579806907796934894'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852618790'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852618790'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.618790Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"16579806907796934894">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852618790">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852618790">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,618790},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.196 ***</b><a id=e-27115 class="link-to-entry" href="#e-27115">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='341473889392110958'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852619709'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852619709'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.619709Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"341473889392110958">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852619709">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852619709">>},
         #delay{
             stamp = {1708,622852,619709},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.196 ***</b><a id=e-27116 class="link-to-entry" href="#e-27116">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17990548021513627426'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852620664'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852620664'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.620664Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17990548021513627426">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852620664">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852620664">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,620664},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.196 ***</b><a id=e-27117 class="link-to-entry" href="#e-27117">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4105690546985015657'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852621575'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852621575'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.621575Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4105690546985015657">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852621575">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852621575">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,621575},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.196 ***</b><a id=e-27118 class="link-to-entry" href="#e-27118">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4667563505649085722'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852701800'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852701800'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.701800Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4667563505649085722">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852701800">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852701800">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,701800},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.197 ***</b><a id=e-27119 class="link-to-entry" href="#e-27119">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4305698306787601086'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852702805'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852702805'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.702805Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4305698306787601086">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852702805">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852702805">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,702805},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.197 ***</b><a id=e-27120 class="link-to-entry" href="#e-27120">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6350167577359034470'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852703814'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852703814'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.703814Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6350167577359034470">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852703814">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852703814">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1708,622852,703814},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.197 ***</b><a id=e-27121 class="link-to-entry" href="#e-27121">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14444823408101225660'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852704816'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852704816'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.704816Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14444823408101225660">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852704816">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852704816">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,704816},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.197 ***</b><a id=e-27122 class="link-to-entry" href="#e-27122">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15284334705641590163'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852705747'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852705747'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.705747Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15284334705641590163">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852705747">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852705747">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622852,705747},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.198 ***</b><a id=e-27123 class="link-to-entry" href="#e-27123">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16399465926026383051'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852831740'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852831740'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.831740Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16399465926026383051">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852831740">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852831740">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,831740},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.198 ***</b><a id=e-27124 class="link-to-entry" href="#e-27124">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14148025789142050996'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852832754'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852832754'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:32.832754Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14148025789142050996">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852832754">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852832754">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622852,832754},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.198 ***</b><a id=e-27125 class="link-to-entry" href="#e-27125">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18421532743324246690'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852833809'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852833809'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18421532743324246690">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852833809">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852833809">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.199 ***</b><a id=e-27126 class="link-to-entry" href="#e-27126">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11725691169714733068'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852834732'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852834732'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11725691169714733068">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852834732">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852834732">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.199 ***</b><a id=e-27127 class="link-to-entry" href="#e-27127">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3513990166440924038'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852977770'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852977770'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3513990166440924038">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852977770">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852977770">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.199 ***</b><a id=e-27128 class="link-to-entry" href="#e-27128">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18380094545579577811'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852982830'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852982830'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18380094545579577811">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852982830">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852982830">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.199 ***</b><a id=e-27129 class="link-to-entry" href="#e-27129">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17450216414824822273'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622852984074'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622852984074'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:27.371960Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17450216414824822273">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852984074">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622852984074">>},
         #delay{
             stamp = {1708,622847,371960},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.200 ***</b><a id=e-27130 class="link-to-entry" href="#e-27130">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15659252514585302425'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853048810'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853048810'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.048810Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15659252514585302425">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853048810">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853048810">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622853,48810},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.200 ***</b><a id=e-27131 class="link-to-entry" href="#e-27131">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16879410562317250710'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853050061'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853050061'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.050061Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16879410562317250710">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853050061">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853050061">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,50061},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.200 ***</b><a id=e-27132 class="link-to-entry" href="#e-27132">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16794650791365302196'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853051081'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853051081'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.051081Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16794650791365302196">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853051081">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853051081">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,51081},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.200 ***</b><a id=e-27133 class="link-to-entry" href="#e-27133">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13216523041452285403'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853122820'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853122820'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.122820Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13216523041452285403">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853122820">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853122820">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,122820},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.200 ***</b><a id=e-27134 class="link-to-entry" href="#e-27134">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13117152584482432704'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853123917'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853123917'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.123917Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13117152584482432704">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853123917">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853123917">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,123917},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.201 ***</b><a id=e-27135 class="link-to-entry" href="#e-27135">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15006800694500761049'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853124986'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853124986'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.124986Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15006800694500761049">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853124986">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853124986">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1708,622853,124986},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.201 ***</b><a id=e-27136 class="link-to-entry" href="#e-27136">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10935976991237123164'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853126052'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853126052'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.126052Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10935976991237123164">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853126052">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853126052">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,126052},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.201 ***</b><a id=e-27137 class="link-to-entry" href="#e-27137">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11951111582148791103'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853126956'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853126956'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.126956Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11951111582148791103">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853126956">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853126956">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,126956},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.202 ***</b><a id=e-27138 class="link-to-entry" href="#e-27138">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10566024413903749159'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853268879'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853268879'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.268879Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10566024413903749159">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853268879">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853268879">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,268879},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.202 ***</b><a id=e-27139 class="link-to-entry" href="#e-27139">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18301880745172720105'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853270150'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853270150'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.270150Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18301880745172720105">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853270150">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853270150">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,270150},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.202 ***</b><a id=e-27140 class="link-to-entry" href="#e-27140">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='5998304926791894683'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853271337'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853271337'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.271337Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"5998304926791894683">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853271337">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853271337">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622853,271337},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.202 ***</b><a id=e-27141 class="link-to-entry" href="#e-27141">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='4101736799480381420'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853272282'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853272282'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.272282Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"4101736799480381420">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853272282">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853272282">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,272282},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.203 ***</b><a id=e-27142 class="link-to-entry" href="#e-27142">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='9536766774132818835'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853273242'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853273242'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.273242Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"9536766774132818835">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853273242">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853273242">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,273242},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.203 ***</b><a id=e-27143 class="link-to-entry" href="#e-27143">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='711726652848548990'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853372771'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853372771'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.372771Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"711726652848548990">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853372771">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853372771">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,372771},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.203 ***</b><a id=e-27144 class="link-to-entry" href="#e-27144">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='3527775482507881754'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853373820'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853373820'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.373820Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"3527775482507881754">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853373820">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853373820">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,373820},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.203 ***</b><a id=e-27145 class="link-to-entry" href="#e-27145">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='4015826945053639281'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853374685'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853374685'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.374685Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4015826945053639281">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853374685">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853374685">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622853,374685},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.204 ***</b><a id=e-27146 class="link-to-entry" href="#e-27146">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='7568377258068830399'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853375423'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853375423'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.375423Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7568377258068830399">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853375423">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853375423">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,375423},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.204 ***</b><a id=e-27147 class="link-to-entry" href="#e-27147">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='14376555478618497134'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853376343'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853376343'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.376343Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14376555478618497134">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853376343">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853376343">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,376343},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.204 ***</b><a id=e-27148 class="link-to-entry" href="#e-27148">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='14861634279818820125'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853484773'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853484773'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.484773Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14861634279818820125">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853484773">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853484773">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,484773},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.204 ***</b><a id=e-27149 class="link-to-entry" href="#e-27149">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='14084541065640059287'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853485846'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853485846'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.485846Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14084541065640059287">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853485846">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853485846">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,485846},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.204 ***</b><a id=e-27150 class="link-to-entry" href="#e-27150">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='24325562266152210'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853486721'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853486721'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.486721Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"24325562266152210">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853486721">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853486721">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622853,486721},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.205 ***</b><a id=e-27151 class="link-to-entry" href="#e-27151">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='6103153704312370075'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853487632'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853487632'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.487632Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6103153704312370075">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853487632">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853487632">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,487632},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.205 ***</b><a id=e-27152 class="link-to-entry" href="#e-27152">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='11155890242134316359'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853488374'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853488374'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.488374Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"11155890242134316359">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853488374">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853488374">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,488374},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.205 ***</b><a id=e-27153 class="link-to-entry" href="#e-27153">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='12653471351233602227'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853602757'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853602757'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.602757Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12653471351233602227">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853602757">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853602757">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,602757},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.205 ***</b><a id=e-27154 class="link-to-entry" href="#e-27154">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='4070501797073258824'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853603540'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853603540'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.603540Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"4070501797073258824">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853603540">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853603540">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,603540},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.206 ***</b><a id=e-27155 class="link-to-entry" href="#e-27155">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='10433986068015259488'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853604560'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853604560'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.604560Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10433986068015259488">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853604560">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853604560">>},
         #hint{type = store},
         #delay{
             stamp = {1708,622853,604560},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.206 ***</b><a id=e-27156 class="link-to-entry" href="#e-27156">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='2440518287962200161'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853605476'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853605476'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.605476Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2440518287962200161">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853605476">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853605476">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,605476},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.206 ***</b><a id=e-27157 class="link-to-entry" href="#e-27157">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='11349328754498665942'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853606611'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853606611'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.606611Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11349328754498665942">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853606611">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853606611">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1708,622853,606611},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.206 ***</b><a id=e-27158 class="link-to-entry" href="#e-27158">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='5148256125292221295'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853730810'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853730810'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.730810Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5148256125292221295">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853730810">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853730810">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,730810},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.207 ***</b><a id=e-27159 class="link-to-entry" href="#e-27159">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='13864028041278661259'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1708622853731889'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1708622853731889'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>60358401&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:27:33.731889Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13864028041278661259">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853731889">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1708622853731889">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"60358401">>},
         #delay{
             stamp = {1708,622853,731889},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:27:41.207 ***</b><a id=e-27160 class="link-to-entry" href="#e-27160">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='11520072905001534285'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"11520072905001534285">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="error_logger"><pre><b>*** System report during offline_from_mam in ejabberd_SUITE 2024-02-22 17:27:41.220 ***</b><a id=e-27161 class="link-to-entry" href="#e-27161">&#x1f517;</a>
=INFO REPORT==== 22-Feb-2024::17:27:41.220198 ===
(tcp|<0.36971.0>) Closing c2s session for test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~<>+-/;:_=[]{}|\: Stream reset by peer

</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2024-02-22 17:27:41
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {csi,true},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"11373094243922751211"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.90393003&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {peer,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {peer_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {user,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,slave},
                     {watchdog,&lt;0.36969.0&gt;},
                     {event_relay,&lt;0.36957.0&gt;},
                     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708622608@677-prefiks-master-f4de0ce.2024-02-22_17.24.37/lib.ejabberd.logs/run.2024-02-22_17.24.37/ejabberd_suite.offline_from_mam_slave.25410.html"},
                     {tc_group_properties,[{name,offline_from_mam},parallel]},
                     {tc_group_path,
                         [[{name,offline_master_slave},sequence],
                          [{name,redis},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708622608@677-prefiks-master-f4de0ce.2024-02-22_17.24.37/lib.ejabberd.logs/run.2024-02-22_17.24.37/log_private/"}]
