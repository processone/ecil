<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:offline_send_all_slave result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#offline_send_all_slave-1">ejabberd_SUITE:offline_send_all_slave/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.36935.0&gt;},
     {watchdog,&lt;0.36934.0&gt;},
     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708621243@677-prefiks-master-f4de0ce.2024-02-22_17.01.51/lib.ejabberd.logs/run.2024-02-22_17.01.52/ejabberd_suite.offline_send_all_slave.6277.html"},
     {tc_group_properties,[{name,offline_send_all},parallel]},
     {tc_group_path,[[{name,offline_master_slave},sequence],
                     [{name,redis},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708621243@677-prefiks-master-f4de0ce.2024-02-22_17.01.51/lib.ejabberd.logs/run.2024-02-22_17.01.52/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708621243@677-prefiks-master-f4de0ce.2024-02-22_17.01.51"

=== Started at 2024-02-22 17:04:27

<br />

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.932 ***</b><a id=e-25087 class="link-to-entry" href="#e-25087">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.933 ***</b><a id=e-25090 class="link-to-entry" href="#e-25090">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='16896717929165716531'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"16896717929165716531">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.933 ***</b><a id=e-25092 class="link-to-entry" href="#e-25092">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.933 ***</b><a id=e-25093 class="link-to-entry" href="#e-25093">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XEByZWRpcy5sb2NhbGhvc3QAdGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,114,
                    101,100,105,115,46,108,111,99,97,108,104,111,115,116,0,
                    116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,112,97,
                    115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,41,39,
                    34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.933 ***</b><a id=e-25096 class="link-to-entry" href="#e-25096">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.934 ***</b><a id=e-25098 class="link-to-entry" href="#e-25098">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.934 ***</b><a id=e-25099 class="link-to-entry" href="#e-25099">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='2213621296602243987'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"2213621296602243987">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.934 ***</b><a id=e-25100 class="link-to-entry" href="#e-25100">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='9dw1fKaE0crSfkc9KTtBadLPkJA='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
  &lt;csi xmlns='urn:xmpp:csi:0'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"9dw1fKaE0crSfkc9KTtBadLPkJA=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{},
         #feature_csi{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.935 ***</b><a id=e-25101 class="link-to-entry" href="#e-25101">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4485524163010636301'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"4485524163010636301">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.936 ***</b><a id=e-25103 class="link-to-entry" href="#e-25103">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='4485524163010636301'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"4485524163010636301">>,type = result,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.937 ***</b><a id=e-25104 class="link-to-entry" href="#e-25104">&#x1f517;</a>
SENT:
&lt;presence id='17116876709835566907'
          xmlns='jabber:client'/>

#presence{id = <<"17116876709835566907">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.938 ***</b><a id=e-25105 class="link-to-entry" href="#e-25105">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='17116876709835566907'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"17116876709835566907">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:27.938 ***</b><a id=e-25106 class="link-to-entry" href="#e-25106">&#x1f517;</a>
SENT:
&lt;presence type='unavailable'
          id='5634095329392668121'
          xmlns='jabber:client'/>

#presence{id = <<"5634095329392668121">>,type = unavailable,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.666 ***</b><a id=e-25993 class="link-to-entry" href="#e-25993">&#x1f517;</a>
SENT:
&lt;presence id='2387136710975553980'
          xmlns='jabber:client'/>

#presence{id = <<"2387136710975553980">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.671 ***</b><a id=e-25994 class="link-to-entry" href="#e-25994">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5751371298853597024'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:29.867907Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"5751371298853597024">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621469,867907},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.671 ***</b><a id=e-25995 class="link-to-entry" href="#e-25995">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6779401837313647857'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:29.868071Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"6779401837313647857">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621469,868071},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.671 ***</b><a id=e-25996 class="link-to-entry" href="#e-25996">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15002691171822021925'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:29.868218Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"15002691171822021925">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621469,868218},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.672 ***</b><a id=e-25997 class="link-to-entry" href="#e-25997">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7722083952424354419'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:29.957461Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"7722083952424354419">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621469,957461},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.672 ***</b><a id=e-25998 class="link-to-entry" href="#e-25998">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7742670794761881582'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:29.957674Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7742670794761881582">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621469,957674},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.672 ***</b><a id=e-25999 class="link-to-entry" href="#e-25999">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17086946603584916485'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:29.957794Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17086946603584916485">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621469,957794},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.672 ***</b><a id=e-26000 class="link-to-entry" href="#e-26000">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8447062431640979500'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:29.957914Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8447062431640979500">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621469,957914},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.673 ***</b><a id=e-26001 class="link-to-entry" href="#e-26001">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16939500163655719596'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.037480Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16939500163655719596">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,37480},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.673 ***</b><a id=e-26002 class="link-to-entry" href="#e-26002">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18096493668843660176'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.037599Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"18096493668843660176">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1708,621470,37599},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.673 ***</b><a id=e-26003 class="link-to-entry" href="#e-26003">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4726330630989162943'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.037711Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4726330630989162943">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,37711},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.673 ***</b><a id=e-26004 class="link-to-entry" href="#e-26004">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15605777069367889182'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.037807Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"15605777069367889182">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,37807},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.673 ***</b><a id=e-26005 class="link-to-entry" href="#e-26005">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6719623732489275855'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.136456Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"6719623732489275855">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,136456},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.673 ***</b><a id=e-26006 class="link-to-entry" href="#e-26006">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8434268144641192015'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8434268144641192015">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.674 ***</b><a id=e-26007 class="link-to-entry" href="#e-26007">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15615637990314403509'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"15615637990314403509">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.674 ***</b><a id=e-26008 class="link-to-entry" href="#e-26008">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9572033407826683948'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"9572033407826683948">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.674 ***</b><a id=e-26009 class="link-to-entry" href="#e-26009">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7174396865328136804'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7174396865328136804">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.674 ***</b><a id=e-26010 class="link-to-entry" href="#e-26010">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1669765383743046539'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.250645Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"1669765383743046539">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621470,250645},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.674 ***</b><a id=e-26011 class="link-to-entry" href="#e-26011">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5360202579903280280'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.250804Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5360202579903280280">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,250804},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.675 ***</b><a id=e-26012 class="link-to-entry" href="#e-26012">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8918229442032529077'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.250949Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8918229442032529077">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,250949},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.675 ***</b><a id=e-26013 class="link-to-entry" href="#e-26013">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5799582977474129746'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.349416Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5799582977474129746">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,349416},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.675 ***</b><a id=e-26014 class="link-to-entry" href="#e-26014">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13301033451591331180'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.349572Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"13301033451591331180">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621470,349572},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.675 ***</b><a id=e-26015 class="link-to-entry" href="#e-26015">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6939085880882983449'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.349670Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"6939085880882983449">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,349670},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.675 ***</b><a id=e-26016 class="link-to-entry" href="#e-26016">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9259358685237897118'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.349789Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"9259358685237897118">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,349789},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.676 ***</b><a id=e-26017 class="link-to-entry" href="#e-26017">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7069767844245082609'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.430504Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"7069767844245082609">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,430504},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.676 ***</b><a id=e-26018 class="link-to-entry" href="#e-26018">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17964394932260565461'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.430638Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"17964394932260565461">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1708,621470,430638},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.676 ***</b><a id=e-26019 class="link-to-entry" href="#e-26019">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8498554265551136630'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.430788Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"8498554265551136630">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,430788},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.676 ***</b><a id=e-26020 class="link-to-entry" href="#e-26020">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12509584053125513794'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.430896Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"12509584053125513794">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,430896},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.676 ***</b><a id=e-26021 class="link-to-entry" href="#e-26021">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15009143241028512848'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.525608Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"15009143241028512848">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,525608},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.676 ***</b><a id=e-26022 class="link-to-entry" href="#e-26022">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5460525794606329345'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"5460525794606329345">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.677 ***</b><a id=e-26023 class="link-to-entry" href="#e-26023">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12701700740519259176'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"12701700740519259176">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.677 ***</b><a id=e-26024 class="link-to-entry" href="#e-26024">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7562681587770108476'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"7562681587770108476">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.677 ***</b><a id=e-26025 class="link-to-entry" href="#e-26025">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7750637339613349574'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"7750637339613349574">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.677 ***</b><a id=e-26026 class="link-to-entry" href="#e-26026">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3016717868870082892'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.636538Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"3016717868870082892">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621470,636538},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.677 ***</b><a id=e-26027 class="link-to-entry" href="#e-26027">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12393651445971019592'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.636610Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"12393651445971019592">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,636610},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.678 ***</b><a id=e-26028 class="link-to-entry" href="#e-26028">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1965354254550621783'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.636723Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"1965354254550621783">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,636723},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.678 ***</b><a id=e-26029 class="link-to-entry" href="#e-26029">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15377492269861502377'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.732474Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"15377492269861502377">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,732474},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.678 ***</b><a id=e-26030 class="link-to-entry" href="#e-26030">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13228283471281241198'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.732609Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13228283471281241198">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621470,732609},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.678 ***</b><a id=e-26031 class="link-to-entry" href="#e-26031">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12164744529789443827'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.732723Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"12164744529789443827">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,732723},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.678 ***</b><a id=e-26032 class="link-to-entry" href="#e-26032">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8531256205901363959'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.732836Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8531256205901363959">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,732836},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.678 ***</b><a id=e-26033 class="link-to-entry" href="#e-26033">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11265020029010413677'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.825497Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11265020029010413677">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,825497},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.679 ***</b><a id=e-26034 class="link-to-entry" href="#e-26034">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10348374191259956478'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.825633Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10348374191259956478">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1708,621470,825633},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.679 ***</b><a id=e-26035 class="link-to-entry" href="#e-26035">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1914515639126920708'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.825731Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"1914515639126920708">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,825731},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.679 ***</b><a id=e-26036 class="link-to-entry" href="#e-26036">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7247283271727408511'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.825865Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7247283271727408511">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621470,825865},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.679 ***</b><a id=e-26037 class="link-to-entry" href="#e-26037">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8912776953472029595'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:30.936490Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8912776953472029595">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621470,936490},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.680 ***</b><a id=e-26038 class="link-to-entry" href="#e-26038">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4063782883704704966'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4063782883704704966">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.680 ***</b><a id=e-26039 class="link-to-entry" href="#e-26039">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8991210511627280132'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8991210511627280132">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.680 ***</b><a id=e-26040 class="link-to-entry" href="#e-26040">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10882209670165866250'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10882209670165866250">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.680 ***</b><a id=e-26041 class="link-to-entry" href="#e-26041">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6949987840062893516'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"6949987840062893516">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.680 ***</b><a id=e-26042 class="link-to-entry" href="#e-26042">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14916960742783271968'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.062796Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"14916960742783271968">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621471,62796},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.681 ***</b><a id=e-26043 class="link-to-entry" href="#e-26043">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12451945849683417180'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.062906Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"12451945849683417180">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,62906},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.681 ***</b><a id=e-26044 class="link-to-entry" href="#e-26044">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15864469501314171760'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.063010Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"15864469501314171760">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,63010},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.681 ***</b><a id=e-26045 class="link-to-entry" href="#e-26045">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4444314017523906440'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.174532Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4444314017523906440">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,174532},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.681 ***</b><a id=e-26046 class="link-to-entry" href="#e-26046">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14547527038464690897'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.174668Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"14547527038464690897">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621471,174668},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.681 ***</b><a id=e-26047 class="link-to-entry" href="#e-26047">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11897620491000910803'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.174760Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"11897620491000910803">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,174760},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26048 class="link-to-entry" href="#e-26048">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15702408849946297031'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.174844Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"15702408849946297031">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,174844},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26049 class="link-to-entry" href="#e-26049">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12149049255105585989'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.255415Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"12149049255105585989">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,255415},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26050 class="link-to-entry" href="#e-26050">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5713608581223469869'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.255547Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5713608581223469869">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621471,255547},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26051 class="link-to-entry" href="#e-26051">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14422764985294498003'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.255634Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"14422764985294498003">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,255634},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26052 class="link-to-entry" href="#e-26052">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4221374298757368865'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.255714Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4221374298757368865">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,255714},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26053 class="link-to-entry" href="#e-26053">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3901555514252941367'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.331598Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"3901555514252941367">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,331598},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26054 class="link-to-entry" href="#e-26054">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5798049063354855130'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.331801Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5798049063354855130">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1708,621471,331801},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.682 ***</b><a id=e-26055 class="link-to-entry" href="#e-26055">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16056127348708133955'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.331897Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16056127348708133955">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,331897},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.683 ***</b><a id=e-26056 class="link-to-entry" href="#e-26056">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8740673203984085318'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.331997Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8740673203984085318">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,331997},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.683 ***</b><a id=e-26057 class="link-to-entry" href="#e-26057">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11759068718215384088'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.425555Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11759068718215384088">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,425555},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.683 ***</b><a id=e-26058 class="link-to-entry" href="#e-26058">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13025687062369601120'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13025687062369601120">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.683 ***</b><a id=e-26059 class="link-to-entry" href="#e-26059">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10464932987403785299'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10464932987403785299">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.683 ***</b><a id=e-26060 class="link-to-entry" href="#e-26060">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13495893746394720429'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13495893746394720429">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.683 ***</b><a id=e-26061 class="link-to-entry" href="#e-26061">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16229139594028657936'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16229139594028657936">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.684 ***</b><a id=e-26062 class="link-to-entry" href="#e-26062">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7318007728836310247'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.534561Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7318007728836310247">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621471,534561},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.684 ***</b><a id=e-26063 class="link-to-entry" href="#e-26063">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7203280394327805738'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.534669Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7203280394327805738">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,534669},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.684 ***</b><a id=e-26064 class="link-to-entry" href="#e-26064">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8736978149172905288'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.534776Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8736978149172905288">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,534776},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.684 ***</b><a id=e-26065 class="link-to-entry" href="#e-26065">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11708523357623600858'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.629644Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11708523357623600858">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,629644},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.684 ***</b><a id=e-26066 class="link-to-entry" href="#e-26066">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16051268340306386019'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.629836Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"16051268340306386019">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621471,629836},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26067 class="link-to-entry" href="#e-26067">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16822500362193328902'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.629944Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"16822500362193328902">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,629944},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26068 class="link-to-entry" href="#e-26068">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2885889195995239894'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.630640Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"2885889195995239894">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,630640},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26069 class="link-to-entry" href="#e-26069">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17514673530156725705'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.706487Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"17514673530156725705">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,706487},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26070 class="link-to-entry" href="#e-26070">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10044328181941250755'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.706613Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10044328181941250755">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1708,621471,706613},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26071 class="link-to-entry" href="#e-26071">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6904452339133451138'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.706715Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"6904452339133451138">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,706715},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26072 class="link-to-entry" href="#e-26072">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7082620429766600491'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.706817Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"7082620429766600491">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,706817},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26073 class="link-to-entry" href="#e-26073">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11168422729245562356'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.796454Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"11168422729245562356">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,796454},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26074 class="link-to-entry" href="#e-26074">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16431342135298983565'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"16431342135298983565">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.685 ***</b><a id=e-26075 class="link-to-entry" href="#e-26075">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10216336199512766318'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10216336199512766318">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.686 ***</b><a id=e-26076 class="link-to-entry" href="#e-26076">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18075481401204744037'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"18075481401204744037">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.686 ***</b><a id=e-26077 class="link-to-entry" href="#e-26077">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11174562802200975813'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"11174562802200975813">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.686 ***</b><a id=e-26078 class="link-to-entry" href="#e-26078">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3799752137695797386'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.902775Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"3799752137695797386">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621471,902775},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.686 ***</b><a id=e-26079 class="link-to-entry" href="#e-26079">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13209527030427702107'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.902864Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"13209527030427702107">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,902864},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.686 ***</b><a id=e-26080 class="link-to-entry" href="#e-26080">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10436442346606497958'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.902967Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10436442346606497958">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,902967},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.686 ***</b><a id=e-26081 class="link-to-entry" href="#e-26081">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16504628732219763028'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.993591Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"16504628732219763028">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621471,993591},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.687 ***</b><a id=e-26082 class="link-to-entry" href="#e-26082">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12446808498554360990'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.993791Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"12446808498554360990">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621471,993791},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.687 ***</b><a id=e-26083 class="link-to-entry" href="#e-26083">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17575304257383804612'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.994718Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17575304257383804612">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,994718},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.687 ***</b><a id=e-26084 class="link-to-entry" href="#e-26084">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13629654649935440997'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:31.994813Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13629654649935440997">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621471,994813},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.688 ***</b><a id=e-26085 class="link-to-entry" href="#e-26085">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3751839682980266576'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.081508Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"3751839682980266576">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621472,81508},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.688 ***</b><a id=e-26086 class="link-to-entry" href="#e-26086">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7383493487368812819'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.081677Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7383493487368812819">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1708,621472,81677},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>
Could not find element mam_enabled in Config.


</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.688 ***</b><a id=e-26087 class="link-to-entry" href="#e-26087">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16812204379520540723'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.081801Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16812204379520540723">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,81801},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.688 ***</b><a id=e-26088 class="link-to-entry" href="#e-26088">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5266344965067729962'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.081891Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5266344965067729962">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,81891},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.688 ***</b><a id=e-26089 class="link-to-entry" href="#e-26089">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='1876012147596576587'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.187615Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"1876012147596576587">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621472,187615},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.689 ***</b><a id=e-26090 class="link-to-entry" href="#e-26090">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17240981023459044454'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17240981023459044454">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.689 ***</b><a id=e-26091 class="link-to-entry" href="#e-26091">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6493690034321087971'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"6493690034321087971">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.689 ***</b><a id=e-26092 class="link-to-entry" href="#e-26092">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14378375811005425780'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"14378375811005425780">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.689 ***</b><a id=e-26093 class="link-to-entry" href="#e-26093">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18177098057895735779'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:27.938366Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"18177098057895735779">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1708,621467,938366},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.689 ***</b><a id=e-26094 class="link-to-entry" href="#e-26094">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8421845072008454560'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.309600Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8421845072008454560">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621472,309600},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.690 ***</b><a id=e-26095 class="link-to-entry" href="#e-26095">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10095596679931735482'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.309710Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10095596679931735482">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,309710},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.690 ***</b><a id=e-26096 class="link-to-entry" href="#e-26096">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2830143123590475577'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.309809Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"2830143123590475577">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,309809},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.690 ***</b><a id=e-26097 class="link-to-entry" href="#e-26097">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15004593166789778192'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.416369Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"15004593166789778192">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621472,416369},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.690 ***</b><a id=e-26098 class="link-to-entry" href="#e-26098">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='5303634902097464367'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.416471Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"5303634902097464367">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621472,416471},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.690 ***</b><a id=e-26099 class="link-to-entry" href="#e-26099">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='1802191818396112099'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.416552Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"1802191818396112099">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,416552},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.690 ***</b><a id=e-26100 class="link-to-entry" href="#e-26100">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='4052516468007685743'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.416627Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"4052516468007685743">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,416627},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.691 ***</b><a id=e-26101 class="link-to-entry" href="#e-26101">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='89437916614567568'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.501354Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"89437916614567568">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621472,501354},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.691 ***</b><a id=e-26102 class="link-to-entry" href="#e-26102">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='9171655930469119302'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.501453Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"9171655930469119302">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621472,501453},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.691 ***</b><a id=e-26103 class="link-to-entry" href="#e-26103">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='1040815678550901121'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.501543Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"1040815678550901121">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,501543},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.691 ***</b><a id=e-26104 class="link-to-entry" href="#e-26104">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='16979859808408387880'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.501640Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16979859808408387880">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,501640},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.691 ***</b><a id=e-26105 class="link-to-entry" href="#e-26105">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='16780529099255109087'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.592422Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16780529099255109087">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621472,592422},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.692 ***</b><a id=e-26106 class="link-to-entry" href="#e-26106">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='17234565410336742511'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.592566Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"17234565410336742511">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621472,592566},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.692 ***</b><a id=e-26107 class="link-to-entry" href="#e-26107">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='9920123118022502508'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.592659Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"9920123118022502508">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,592659},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.692 ***</b><a id=e-26108 class="link-to-entry" href="#e-26108">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='9369247296015012381'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.592753Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"9369247296015012381">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,592753},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.692 ***</b><a id=e-26109 class="link-to-entry" href="#e-26109">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='1044123415051370646'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.684481Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"1044123415051370646">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621472,684481},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.692 ***</b><a id=e-26110 class="link-to-entry" href="#e-26110">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='635140399574953587'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.684593Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"635140399574953587">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1708,621472,684593},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.692 ***</b><a id=e-26111 class="link-to-entry" href="#e-26111">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='13784529945774234594'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.684696Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13784529945774234594">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,684696},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.692 ***</b><a id=e-26112 class="link-to-entry" href="#e-26112">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='10919010829244406546'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.685574Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10919010829244406546">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1708,621472,685574},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.693 ***</b><a id=e-26113 class="link-to-entry" href="#e-26113">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='18324350821419831847'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>2088016609&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2024-02-22T17:04:32.788410Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"18324350821419831847">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"2088016609">>},
                    #delay{stamp = {1708,621472,788410},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 17:04:41.693 ***</b><a id=e-26114 class="link-to-entry" href="#e-26114">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='2387136710975553980'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"2387136710975553980">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="error_logger"><pre><b>*** System report during offline_send_all in ejabberd_SUITE 2024-02-22 17:04:41.701 ***</b><a id=e-26115 class="link-to-entry" href="#e-26115">&#x1f517;</a>
=INFO REPORT==== 22-Feb-2024::17:04:41.701589 ===
(tcp|<0.36949.0>) Closing c2s session for test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~<>+-/;:_=[]{}|\: Stream reset by peer

</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2024-02-22 17:04:41
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {csi,true},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"2213621296602243987"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.90393003&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {peer,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {peer_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {user,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,slave},
                     {watchdog,&lt;0.36947.0&gt;},
                     {event_relay,&lt;0.36935.0&gt;},
                     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708621243@677-prefiks-master-f4de0ce.2024-02-22_17.01.51/lib.ejabberd.logs/run.2024-02-22_17.01.52/ejabberd_suite.offline_send_all_slave.6277.html"},
                     {tc_group_properties,[{name,offline_send_all},parallel]},
                     {tc_group_path,
                         [[{name,offline_master_slave},sequence],
                          [{name,redis},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708621243@677-prefiks-master-f4de0ce.2024-02-22_17.01.51/lib.ejabberd.logs/run.2024-02-22_17.01.52/log_private/"}]
