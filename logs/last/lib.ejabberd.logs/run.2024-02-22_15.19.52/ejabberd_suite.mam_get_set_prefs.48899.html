<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:mam_get_set_prefs result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#mam_get_set_prefs-1">ejabberd_SUITE:mam_get_set_prefs/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.43511.0&gt;},
     {watchdog,&lt;0.43510.0&gt;},
     {server,&lt;&lt;"sqlite.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/ejabberd_suite.mam_get_set_prefs.48899.html"},
     {tc_group_properties,[{name,mam_single},sequence]},
     {tc_group_path,[[{name,single_user},sequence],[{name,sqlite},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52"

=== Started at 2024-02-22 15:26:43

<br />

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.475 ***</b><a id=e-59418 class="link-to-entry" href="#e-59418">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='sqlite.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"sqlite.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2024-02-22 15:26:43.476 ***</b><a id=e-59419 class="link-to-entry" href="#e-59419">&#x1f517;</a>
=INFO REPORT==== 22-Feb-2024::15:26:43.475815 ===
(&lt;0.43525.0&gt;) Accepted connection 127.0.0.1:54384 -&gt; 127.0.0.1:5222

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.476 ***</b><a id=e-59420 class="link-to-entry" href="#e-59420">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='13915352419759059054'
               version='1.0'
               xml:lang='en'
               from='sqlite.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"sqlite.localhost">>,lresource = <<>>},
              to = undefined,id = <<"13915352419759059054">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.476 ***</b><a id=e-59421 class="link-to-entry" href="#e-59421">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.476 ***</b><a id=e-59422 class="link-to-entry" href="#e-59422">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zaW5nbGUhIyQlXiooKWB+Ky07Xz1bXXt9fFxAc3FsaXRlLmxvY2FsaG9zdAB0ZXN0X3NpbmdsZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,105,110,103,108,101,33,35,36,37,94,
                    42,40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,
                    115,113,108,105,116,101,46,108,111,99,97,108,104,111,115,
                    116,0,116,101,115,116,95,115,105,110,103,108,101,33,35,36,
                    37,94,42,40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,
                    0,112,97,115,115,119,111,114,100,33,64,35,36,37,94,38,42,
                    40,41,39,34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,
                    125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2024-02-22 15:26:43.476 ***</b><a id=e-59423 class="link-to-entry" href="#e-59423">&#x1f517;</a>
=INFO REPORT==== 22-Feb-2024::15:26:43.476706 ===
(tcp|&lt;0.43525.0&gt;) Accepted c2s PLAIN authentication for test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost by sql backend from 127.0.0.1

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.476 ***</b><a id=e-59424 class="link-to-entry" href="#e-59424">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.477 ***</b><a id=e-59425 class="link-to-entry" href="#e-59425">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='sqlite.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"sqlite.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.477 ***</b><a id=e-59426 class="link-to-entry" href="#e-59426">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='4452943477319607388'
               version='1.0'
               xml:lang='en'
               from='sqlite.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"sqlite.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"sqlite.localhost">>,lresource = <<>>},
              to = undefined,id = <<"4452943477319607388">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.477 ***</b><a id=e-59427 class="link-to-entry" href="#e-59427">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='RsZUO/k2xwmyvdC8vIjQDsA1fow='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"RsZUO/k2xwmyvdC8vIjQDsA1fow=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.477 ***</b><a id=e-59428 class="link-to-entry" href="#e-59428">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12611676255226648506'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"12611676255226648506">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2024-02-22 15:26:43.479 ***</b><a id=e-59429 class="link-to-entry" href="#e-59429">&#x1f517;</a>
=INFO REPORT==== 22-Feb-2024::15:26:43.479698 ===
(tcp|&lt;0.43525.0&gt;) Opened c2s session for test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()'"`~&lt;&gt;+-/;:_=[]{}|\

</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.480 ***</b><a id=e-59430 class="link-to-entry" href="#e-59430">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='12611676255226648506'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"12611676255226648506">>,type = result,lang = <<>>,
    from = undefined,to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"sqlite.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"sqlite.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.480 ***</b><a id=e-59431 class="link-to-entry" href="#e-59431">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='523901216751387007'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"523901216751387007">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.482 ***</b><a id=e-59432 class="link-to-entry" href="#e-59432">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='523901216751387007'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"523901216751387007">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.482 ***</b><a id=e-59433 class="link-to-entry" href="#e-59433">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11436189973722582968'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"11436189973722582968">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.483 ***</b><a id=e-59434 class="link-to-entry" href="#e-59434">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='11436189973722582968'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11436189973722582968">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.483 ***</b><a id=e-59435 class="link-to-entry" href="#e-59435">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2935441933505119402'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2935441933505119402">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.484 ***</b><a id=e-59436 class="link-to-entry" href="#e-59436">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2935441933505119402'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2935441933505119402">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.484 ***</b><a id=e-59437 class="link-to-entry" href="#e-59437">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4679823937744327120'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"4679823937744327120">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.485 ***</b><a id=e-59438 class="link-to-entry" href="#e-59438">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4679823937744327120'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4679823937744327120">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.485 ***</b><a id=e-59439 class="link-to-entry" href="#e-59439">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12467887198657818419'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12467887198657818419">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.486 ***</b><a id=e-59440 class="link-to-entry" href="#e-59440">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12467887198657818419'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12467887198657818419">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.486 ***</b><a id=e-59441 class="link-to-entry" href="#e-59441">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3089706593961700637'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"3089706593961700637">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.486 ***</b><a id=e-59442 class="link-to-entry" href="#e-59442">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='3089706593961700637'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3089706593961700637">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.486 ***</b><a id=e-59443 class="link-to-entry" href="#e-59443">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12097439859688311046'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12097439859688311046">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.488 ***</b><a id=e-59444 class="link-to-entry" href="#e-59444">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12097439859688311046'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12097439859688311046">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.488 ***</b><a id=e-59445 class="link-to-entry" href="#e-59445">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15409502051744100728'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"15409502051744100728">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.488 ***</b><a id=e-59446 class="link-to-entry" href="#e-59446">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15409502051744100728'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15409502051744100728">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.488 ***</b><a id=e-59447 class="link-to-entry" href="#e-59447">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='942323094289990290'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"942323094289990290">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.490 ***</b><a id=e-59448 class="link-to-entry" href="#e-59448">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='942323094289990290'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"942323094289990290">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.490 ***</b><a id=e-59449 class="link-to-entry" href="#e-59449">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8797778912841684174'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"8797778912841684174">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.490 ***</b><a id=e-59450 class="link-to-entry" href="#e-59450">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8797778912841684174'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8797778912841684174">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.490 ***</b><a id=e-59451 class="link-to-entry" href="#e-59451">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10470089278448049105'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10470089278448049105">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.492 ***</b><a id=e-59452 class="link-to-entry" href="#e-59452">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='10470089278448049105'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10470089278448049105">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.492 ***</b><a id=e-59453 class="link-to-entry" href="#e-59453">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='15799022277824684010'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"15799022277824684010">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.492 ***</b><a id=e-59454 class="link-to-entry" href="#e-59454">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15799022277824684010'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15799022277824684010">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.492 ***</b><a id=e-59455 class="link-to-entry" href="#e-59455">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4105306604734148117'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4105306604734148117">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.493 ***</b><a id=e-59456 class="link-to-entry" href="#e-59456">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4105306604734148117'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4105306604734148117">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.494 ***</b><a id=e-59457 class="link-to-entry" href="#e-59457">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='340684451585525352'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"340684451585525352">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.494 ***</b><a id=e-59458 class="link-to-entry" href="#e-59458">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='340684451585525352'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"340684451585525352">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.494 ***</b><a id=e-59459 class="link-to-entry" href="#e-59459">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='3945068915814164918'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3945068915814164918">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.495 ***</b><a id=e-59460 class="link-to-entry" href="#e-59460">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='3945068915814164918'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3945068915814164918">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.495 ***</b><a id=e-59461 class="link-to-entry" href="#e-59461">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='9585555650527710690'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"9585555650527710690">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.496 ***</b><a id=e-59462 class="link-to-entry" href="#e-59462">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9585555650527710690'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9585555650527710690">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.496 ***</b><a id=e-59463 class="link-to-entry" href="#e-59463">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7333652748349571637'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7333652748349571637">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.497 ***</b><a id=e-59464 class="link-to-entry" href="#e-59464">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7333652748349571637'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7333652748349571637">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.497 ***</b><a id=e-59465 class="link-to-entry" href="#e-59465">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2181064809415676424'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"2181064809415676424">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.498 ***</b><a id=e-59466 class="link-to-entry" href="#e-59466">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2181064809415676424'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2181064809415676424">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.498 ***</b><a id=e-59467 class="link-to-entry" href="#e-59467">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7269482666348360968'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7269482666348360968">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.499 ***</b><a id=e-59468 class="link-to-entry" href="#e-59468">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7269482666348360968'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7269482666348360968">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.499 ***</b><a id=e-59469 class="link-to-entry" href="#e-59469">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16970758693049746261'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"16970758693049746261">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.500 ***</b><a id=e-59470 class="link-to-entry" href="#e-59470">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16970758693049746261'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16970758693049746261">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.500 ***</b><a id=e-59471 class="link-to-entry" href="#e-59471">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9143788383392160815'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9143788383392160815">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.501 ***</b><a id=e-59472 class="link-to-entry" href="#e-59472">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9143788383392160815'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9143788383392160815">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.501 ***</b><a id=e-59473 class="link-to-entry" href="#e-59473">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='6274567972270193191'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"6274567972270193191">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.502 ***</b><a id=e-59474 class="link-to-entry" href="#e-59474">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6274567972270193191'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6274567972270193191">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.502 ***</b><a id=e-59475 class="link-to-entry" href="#e-59475">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15962411248520960017'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15962411248520960017">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.503 ***</b><a id=e-59476 class="link-to-entry" href="#e-59476">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15962411248520960017'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15962411248520960017">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.503 ***</b><a id=e-59477 class="link-to-entry" href="#e-59477">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13920405135787718824'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"13920405135787718824">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.503 ***</b><a id=e-59478 class="link-to-entry" href="#e-59478">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13920405135787718824'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13920405135787718824">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.504 ***</b><a id=e-59479 class="link-to-entry" href="#e-59479">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7875601843483507189'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7875601843483507189">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.505 ***</b><a id=e-59480 class="link-to-entry" href="#e-59480">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7875601843483507189'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7875601843483507189">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.505 ***</b><a id=e-59481 class="link-to-entry" href="#e-59481">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14194369859024864608'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"14194369859024864608">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.505 ***</b><a id=e-59482 class="link-to-entry" href="#e-59482">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14194369859024864608'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14194369859024864608">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.505 ***</b><a id=e-59483 class="link-to-entry" href="#e-59483">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6149526181935805501'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6149526181935805501">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.507 ***</b><a id=e-59484 class="link-to-entry" href="#e-59484">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6149526181935805501'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6149526181935805501">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.507 ***</b><a id=e-59485 class="link-to-entry" href="#e-59485">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='17223424124993726104'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"17223424124993726104">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.507 ***</b><a id=e-59486 class="link-to-entry" href="#e-59486">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17223424124993726104'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17223424124993726104">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.507 ***</b><a id=e-59487 class="link-to-entry" href="#e-59487">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6828900244788794748'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6828900244788794748">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.508 ***</b><a id=e-59488 class="link-to-entry" href="#e-59488">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6828900244788794748'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6828900244788794748">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.508 ***</b><a id=e-59489 class="link-to-entry" href="#e-59489">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3598595323882883012'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"3598595323882883012">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.509 ***</b><a id=e-59490 class="link-to-entry" href="#e-59490">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='3598595323882883012'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3598595323882883012">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.509 ***</b><a id=e-59491 class="link-to-entry" href="#e-59491">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13866339158676938332'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13866339158676938332">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.510 ***</b><a id=e-59492 class="link-to-entry" href="#e-59492">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13866339158676938332'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13866339158676938332">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.510 ***</b><a id=e-59493 class="link-to-entry" href="#e-59493">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8618503032174395041'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"8618503032174395041">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.511 ***</b><a id=e-59494 class="link-to-entry" href="#e-59494">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8618503032174395041'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8618503032174395041">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.511 ***</b><a id=e-59495 class="link-to-entry" href="#e-59495">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='229882440357924066'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"229882440357924066">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.512 ***</b><a id=e-59496 class="link-to-entry" href="#e-59496">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='229882440357924066'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"229882440357924066">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.512 ***</b><a id=e-59497 class="link-to-entry" href="#e-59497">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4675783846070331165'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"4675783846070331165">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.513 ***</b><a id=e-59498 class="link-to-entry" href="#e-59498">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4675783846070331165'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4675783846070331165">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.513 ***</b><a id=e-59499 class="link-to-entry" href="#e-59499">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7032139798193897465'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7032139798193897465">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.515 ***</b><a id=e-59500 class="link-to-entry" href="#e-59500">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7032139798193897465'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7032139798193897465">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.515 ***</b><a id=e-59501 class="link-to-entry" href="#e-59501">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4414729085553184278'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"4414729085553184278">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.515 ***</b><a id=e-59502 class="link-to-entry" href="#e-59502">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4414729085553184278'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4414729085553184278">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.515 ***</b><a id=e-59503 class="link-to-entry" href="#e-59503">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6515503017742801568'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6515503017742801568">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.516 ***</b><a id=e-59504 class="link-to-entry" href="#e-59504">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6515503017742801568'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6515503017742801568">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.516 ***</b><a id=e-59505 class="link-to-entry" href="#e-59505">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='6954315578851687218'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"6954315578851687218">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.517 ***</b><a id=e-59506 class="link-to-entry" href="#e-59506">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6954315578851687218'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6954315578851687218">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.517 ***</b><a id=e-59507 class="link-to-entry" href="#e-59507">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14785026833645796675'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14785026833645796675">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.518 ***</b><a id=e-59508 class="link-to-entry" href="#e-59508">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14785026833645796675'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14785026833645796675">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.518 ***</b><a id=e-59509 class="link-to-entry" href="#e-59509">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='134209605801846307'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"134209605801846307">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.519 ***</b><a id=e-59510 class="link-to-entry" href="#e-59510">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='134209605801846307'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"134209605801846307">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.519 ***</b><a id=e-59511 class="link-to-entry" href="#e-59511">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='237990563180506511'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"237990563180506511">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.520 ***</b><a id=e-59512 class="link-to-entry" href="#e-59512">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='237990563180506511'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"237990563180506511">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.520 ***</b><a id=e-59513 class="link-to-entry" href="#e-59513">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11564631029085054218'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"11564631029085054218">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.520 ***</b><a id=e-59514 class="link-to-entry" href="#e-59514">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='11564631029085054218'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11564631029085054218">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.520 ***</b><a id=e-59515 class="link-to-entry" href="#e-59515">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9869201121908992170'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9869201121908992170">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.521 ***</b><a id=e-59516 class="link-to-entry" href="#e-59516">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9869201121908992170'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9869201121908992170">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.522 ***</b><a id=e-59517 class="link-to-entry" href="#e-59517">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16044654587134429200'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"16044654587134429200">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.522 ***</b><a id=e-59518 class="link-to-entry" href="#e-59518">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16044654587134429200'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16044654587134429200">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.522 ***</b><a id=e-59519 class="link-to-entry" href="#e-59519">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15731363546022801089'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15731363546022801089">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.523 ***</b><a id=e-59520 class="link-to-entry" href="#e-59520">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15731363546022801089'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15731363546022801089">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.523 ***</b><a id=e-59521 class="link-to-entry" href="#e-59521">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11856837081637488664'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"11856837081637488664">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.524 ***</b><a id=e-59522 class="link-to-entry" href="#e-59522">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='11856837081637488664'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11856837081637488664">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.524 ***</b><a id=e-59523 class="link-to-entry" href="#e-59523">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17894852107015571675'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17894852107015571675">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.525 ***</b><a id=e-59524 class="link-to-entry" href="#e-59524">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17894852107015571675'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17894852107015571675">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.525 ***</b><a id=e-59525 class="link-to-entry" href="#e-59525">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4972146522277409404'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"4972146522277409404">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.526 ***</b><a id=e-59526 class="link-to-entry" href="#e-59526">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4972146522277409404'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4972146522277409404">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.526 ***</b><a id=e-59527 class="link-to-entry" href="#e-59527">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1673368691133976702'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1673368691133976702">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.527 ***</b><a id=e-59528 class="link-to-entry" href="#e-59528">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='1673368691133976702'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1673368691133976702">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.527 ***</b><a id=e-59529 class="link-to-entry" href="#e-59529">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2407049245678848038'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"2407049245678848038">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.528 ***</b><a id=e-59530 class="link-to-entry" href="#e-59530">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2407049245678848038'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2407049245678848038">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.528 ***</b><a id=e-59531 class="link-to-entry" href="#e-59531">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13903695880508423664'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13903695880508423664">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.529 ***</b><a id=e-59532 class="link-to-entry" href="#e-59532">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13903695880508423664'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13903695880508423664">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.529 ***</b><a id=e-59533 class="link-to-entry" href="#e-59533">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='7149036583890919358'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"7149036583890919358">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.530 ***</b><a id=e-59534 class="link-to-entry" href="#e-59534">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7149036583890919358'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7149036583890919358">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.530 ***</b><a id=e-59535 class="link-to-entry" href="#e-59535">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9164248631187391637'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9164248631187391637">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.531 ***</b><a id=e-59536 class="link-to-entry" href="#e-59536">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9164248631187391637'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9164248631187391637">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.531 ***</b><a id=e-59537 class="link-to-entry" href="#e-59537">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12275022802410777395'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"12275022802410777395">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.531 ***</b><a id=e-59538 class="link-to-entry" href="#e-59538">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12275022802410777395'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12275022802410777395">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.532 ***</b><a id=e-59539 class="link-to-entry" href="#e-59539">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10397164141951357066'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10397164141951357066">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.533 ***</b><a id=e-59540 class="link-to-entry" href="#e-59540">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='10397164141951357066'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10397164141951357066">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.533 ***</b><a id=e-59541 class="link-to-entry" href="#e-59541">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3577736097686478926'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"3577736097686478926">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.533 ***</b><a id=e-59542 class="link-to-entry" href="#e-59542">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='3577736097686478926'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3577736097686478926">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.533 ***</b><a id=e-59543 class="link-to-entry" href="#e-59543">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7099097026254268992'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7099097026254268992">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.535 ***</b><a id=e-59544 class="link-to-entry" href="#e-59544">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='7099097026254268992'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7099097026254268992">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.535 ***</b><a id=e-59545 class="link-to-entry" href="#e-59545">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8229967151916268117'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"8229967151916268117">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.535 ***</b><a id=e-59546 class="link-to-entry" href="#e-59546">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8229967151916268117'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8229967151916268117">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.535 ***</b><a id=e-59547 class="link-to-entry" href="#e-59547">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='3697944469337511268'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3697944469337511268">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.537 ***</b><a id=e-59548 class="link-to-entry" href="#e-59548">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='3697944469337511268'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3697944469337511268">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.537 ***</b><a id=e-59549 class="link-to-entry" href="#e-59549">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13476969875550553712'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13476969875550553712">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.537 ***</b><a id=e-59550 class="link-to-entry" href="#e-59550">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13476969875550553712'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13476969875550553712">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.537 ***</b><a id=e-59551 class="link-to-entry" href="#e-59551">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1152225576949994197'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1152225576949994197">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.539 ***</b><a id=e-59552 class="link-to-entry" href="#e-59552">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='1152225576949994197'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1152225576949994197">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.539 ***</b><a id=e-59553 class="link-to-entry" href="#e-59553">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='12237832044583060068'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"12237832044583060068">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.539 ***</b><a id=e-59554 class="link-to-entry" href="#e-59554">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='12237832044583060068'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12237832044583060068">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.540 ***</b><a id=e-59555 class="link-to-entry" href="#e-59555">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9629633701006502362'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9629633701006502362">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.541 ***</b><a id=e-59556 class="link-to-entry" href="#e-59556">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='9629633701006502362'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9629633701006502362">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.541 ***</b><a id=e-59557 class="link-to-entry" href="#e-59557">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2860163098721053305'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"2860163098721053305">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.541 ***</b><a id=e-59558 class="link-to-entry" href="#e-59558">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2860163098721053305'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2860163098721053305">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.542 ***</b><a id=e-59559 class="link-to-entry" href="#e-59559">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14002435495117651390'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14002435495117651390">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.543 ***</b><a id=e-59560 class="link-to-entry" href="#e-59560">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14002435495117651390'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14002435495117651390">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.543 ***</b><a id=e-59561 class="link-to-entry" href="#e-59561">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='534196386638564523'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"534196386638564523">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.544 ***</b><a id=e-59562 class="link-to-entry" href="#e-59562">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='534196386638564523'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"534196386638564523">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.544 ***</b><a id=e-59563 class="link-to-entry" href="#e-59563">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2985353437353481871'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2985353437353481871">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.545 ***</b><a id=e-59564 class="link-to-entry" href="#e-59564">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2985353437353481871'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2985353437353481871">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.545 ***</b><a id=e-59565 class="link-to-entry" href="#e-59565">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5137242375581208365'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"5137242375581208365">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.546 ***</b><a id=e-59566 class="link-to-entry" href="#e-59566">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5137242375581208365'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5137242375581208365">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.546 ***</b><a id=e-59567 class="link-to-entry" href="#e-59567">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5496398908451797395'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5496398908451797395">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.547 ***</b><a id=e-59568 class="link-to-entry" href="#e-59568">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5496398908451797395'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5496398908451797395">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.547 ***</b><a id=e-59569 class="link-to-entry" href="#e-59569">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4408420405870561511'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"4408420405870561511">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.548 ***</b><a id=e-59570 class="link-to-entry" href="#e-59570">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4408420405870561511'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4408420405870561511">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.548 ***</b><a id=e-59571 class="link-to-entry" href="#e-59571">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8252305454352433298'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8252305454352433298">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.549 ***</b><a id=e-59572 class="link-to-entry" href="#e-59572">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8252305454352433298'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8252305454352433298">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.549 ***</b><a id=e-59573 class="link-to-entry" href="#e-59573">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='17143069942115534314'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"17143069942115534314">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.550 ***</b><a id=e-59574 class="link-to-entry" href="#e-59574">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17143069942115534314'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17143069942115534314">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.550 ***</b><a id=e-59575 class="link-to-entry" href="#e-59575">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13497273894642146305'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13497273894642146305">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.551 ***</b><a id=e-59576 class="link-to-entry" href="#e-59576">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13497273894642146305'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13497273894642146305">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.551 ***</b><a id=e-59577 class="link-to-entry" href="#e-59577">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5454377410304391378'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"5454377410304391378">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.552 ***</b><a id=e-59578 class="link-to-entry" href="#e-59578">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5454377410304391378'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5454377410304391378">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.552 ***</b><a id=e-59579 class="link-to-entry" href="#e-59579">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6104178054493293268'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6104178054493293268">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.553 ***</b><a id=e-59580 class="link-to-entry" href="#e-59580">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6104178054493293268'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6104178054493293268">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.553 ***</b><a id=e-59581 class="link-to-entry" href="#e-59581">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13195419057421755359'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"13195419057421755359">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.554 ***</b><a id=e-59582 class="link-to-entry" href="#e-59582">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13195419057421755359'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13195419057421755359">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.554 ***</b><a id=e-59583 class="link-to-entry" href="#e-59583">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16539404567873581749'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16539404567873581749">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.556 ***</b><a id=e-59584 class="link-to-entry" href="#e-59584">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16539404567873581749'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16539404567873581749">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.556 ***</b><a id=e-59585 class="link-to-entry" href="#e-59585">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14291781918063437505'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"14291781918063437505">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.556 ***</b><a id=e-59586 class="link-to-entry" href="#e-59586">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='14291781918063437505'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14291781918063437505">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.556 ***</b><a id=e-59587 class="link-to-entry" href="#e-59587">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6456667676467435421'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6456667676467435421">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.560 ***</b><a id=e-59588 class="link-to-entry" href="#e-59588">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='6456667676467435421'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6456667676467435421">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.560 ***</b><a id=e-59589 class="link-to-entry" href="#e-59589">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='910839388186360597'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"910839388186360597">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.560 ***</b><a id=e-59590 class="link-to-entry" href="#e-59590">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='910839388186360597'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"910839388186360597">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.560 ***</b><a id=e-59591 class="link-to-entry" href="#e-59591">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5648831786122836348'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5648831786122836348">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.562 ***</b><a id=e-59592 class="link-to-entry" href="#e-59592">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5648831786122836348'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5648831786122836348">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.562 ***</b><a id=e-59593 class="link-to-entry" href="#e-59593">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='4125686619773312272'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"4125686619773312272">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.568 ***</b><a id=e-59594 class="link-to-entry" href="#e-59594">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='4125686619773312272'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4125686619773312272">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.569 ***</b><a id=e-59595 class="link-to-entry" href="#e-59595">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17604051293495883461'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17604051293495883461">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.579 ***</b><a id=e-59596 class="link-to-entry" href="#e-59596">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17604051293495883461'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17604051293495883461">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.580 ***</b><a id=e-59597 class="link-to-entry" href="#e-59597">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2518119367281654911'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"2518119367281654911">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.595 ***</b><a id=e-59598 class="link-to-entry" href="#e-59598">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2518119367281654911'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2518119367281654911">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.596 ***</b><a id=e-59599 class="link-to-entry" href="#e-59599">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5723219423758619608'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5723219423758619608">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.606 ***</b><a id=e-59600 class="link-to-entry" href="#e-59600">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5723219423758619608'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5723219423758619608">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.606 ***</b><a id=e-59601 class="link-to-entry" href="#e-59601">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16809065932501062623'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16809065932501062623">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.621 ***</b><a id=e-59602 class="link-to-entry" href="#e-59602">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='16809065932501062623'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16809065932501062623">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.622 ***</b><a id=e-59603 class="link-to-entry" href="#e-59603">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10207869071393301506'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10207869071393301506">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.632 ***</b><a id=e-59604 class="link-to-entry" href="#e-59604">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='10207869071393301506'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10207869071393301506">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.632 ***</b><a id=e-59605 class="link-to-entry" href="#e-59605">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5257446016685945931'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"5257446016685945931">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.652 ***</b><a id=e-59606 class="link-to-entry" href="#e-59606">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='5257446016685945931'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5257446016685945931">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.652 ***</b><a id=e-59607 class="link-to-entry" href="#e-59607">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17556996302840796281'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17556996302840796281">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.663 ***</b><a id=e-59608 class="link-to-entry" href="#e-59608">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='17556996302840796281'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17556996302840796281">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.663 ***</b><a id=e-59609 class="link-to-entry" href="#e-59609">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2586804309701220948'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"2586804309701220948">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.675 ***</b><a id=e-59610 class="link-to-entry" href="#e-59610">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='2586804309701220948'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2586804309701220948">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.675 ***</b><a id=e-59611 class="link-to-entry" href="#e-59611">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10908487610365303294'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10908487610365303294">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.687 ***</b><a id=e-59612 class="link-to-entry" href="#e-59612">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='10908487610365303294'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10908487610365303294">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.687 ***</b><a id=e-59613 class="link-to-entry" href="#e-59613">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='13218503347523096948'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"13218503347523096948">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.703 ***</b><a id=e-59614 class="link-to-entry" href="#e-59614">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='13218503347523096948'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13218503347523096948">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.703 ***</b><a id=e-59615 class="link-to-entry" href="#e-59615">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8532137969854962341'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8532137969854962341">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.714 ***</b><a id=e-59616 class="link-to-entry" href="#e-59616">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8532137969854962341'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8532137969854962341">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.714 ***</b><a id=e-59617 class="link-to-entry" href="#e-59617">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8901669186393055992'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"8901669186393055992">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.729 ***</b><a id=e-59618 class="link-to-entry" href="#e-59618">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8901669186393055992'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8901669186393055992">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.730 ***</b><a id=e-59619 class="link-to-entry" href="#e-59619">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15100562252648854721'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15100562252648854721">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.740 ***</b><a id=e-59620 class="link-to-entry" href="#e-59620">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='15100562252648854721'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15100562252648854721">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.740 ***</b><a id=e-59621 class="link-to-entry" href="#e-59621">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8435968182970576195'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"8435968182970576195">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.759 ***</b><a id=e-59622 class="link-to-entry" href="#e-59622">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost'
    type='result'
    id='8435968182970576195'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8435968182970576195">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.760 ***</b><a id=e-59623 class="link-to-entry" href="#e-59623">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='8563320515546358720'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8563320515546358720">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.769 ***</b><a id=e-59624 class="link-to-entry" href="#e-59624">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='8563320515546358720'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8563320515546358720">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.769 ***</b><a id=e-59625 class="link-to-entry" href="#e-59625">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2312047379403139056'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"2312047379403139056">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.785 ***</b><a id=e-59626 class="link-to-entry" href="#e-59626">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2312047379403139056'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2312047379403139056">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.786 ***</b><a id=e-59627 class="link-to-entry" href="#e-59627">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13548166774626314376'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13548166774626314376">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.799 ***</b><a id=e-59628 class="link-to-entry" href="#e-59628">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13548166774626314376'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13548166774626314376">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.799 ***</b><a id=e-59629 class="link-to-entry" href="#e-59629">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2481508746355034601'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"2481508746355034601">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.816 ***</b><a id=e-59630 class="link-to-entry" href="#e-59630">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2481508746355034601'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2481508746355034601">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.817 ***</b><a id=e-59631 class="link-to-entry" href="#e-59631">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6798992153868578204'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6798992153868578204">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.830 ***</b><a id=e-59632 class="link-to-entry" href="#e-59632">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6798992153868578204'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6798992153868578204">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.830 ***</b><a id=e-59633 class="link-to-entry" href="#e-59633">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='17102043056421547445'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"17102043056421547445">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.848 ***</b><a id=e-59634 class="link-to-entry" href="#e-59634">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='17102043056421547445'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17102043056421547445">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.848 ***</b><a id=e-59635 class="link-to-entry" href="#e-59635">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='1977176710801313897'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1977176710801313897">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.862 ***</b><a id=e-59636 class="link-to-entry" href="#e-59636">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1977176710801313897'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1977176710801313897">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.862 ***</b><a id=e-59637 class="link-to-entry" href="#e-59637">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='9064842433545211679'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"9064842433545211679">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.883 ***</b><a id=e-59638 class="link-to-entry" href="#e-59638">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='9064842433545211679'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9064842433545211679">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.883 ***</b><a id=e-59639 class="link-to-entry" href="#e-59639">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13881466224446018169'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13881466224446018169">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.898 ***</b><a id=e-59640 class="link-to-entry" href="#e-59640">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13881466224446018169'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13881466224446018169">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.898 ***</b><a id=e-59641 class="link-to-entry" href="#e-59641">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='1499122945418665120'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"1499122945418665120">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.911 ***</b><a id=e-59642 class="link-to-entry" href="#e-59642">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1499122945418665120'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1499122945418665120">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.911 ***</b><a id=e-59643 class="link-to-entry" href="#e-59643">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='533490522196850297'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"533490522196850297">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.924 ***</b><a id=e-59644 class="link-to-entry" href="#e-59644">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='533490522196850297'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"533490522196850297">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.924 ***</b><a id=e-59645 class="link-to-entry" href="#e-59645">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='9949401378687083700'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"9949401378687083700">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.942 ***</b><a id=e-59646 class="link-to-entry" href="#e-59646">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='9949401378687083700'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9949401378687083700">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.943 ***</b><a id=e-59647 class="link-to-entry" href="#e-59647">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='455214034642388156'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"455214034642388156">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.956 ***</b><a id=e-59648 class="link-to-entry" href="#e-59648">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='455214034642388156'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"455214034642388156">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.956 ***</b><a id=e-59649 class="link-to-entry" href="#e-59649">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='11845412783303164723'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"11845412783303164723">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.974 ***</b><a id=e-59650 class="link-to-entry" href="#e-59650">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11845412783303164723'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11845412783303164723">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.975 ***</b><a id=e-59651 class="link-to-entry" href="#e-59651">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13501835205284678495'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13501835205284678495">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.987 ***</b><a id=e-59652 class="link-to-entry" href="#e-59652">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13501835205284678495'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13501835205284678495">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:43.987 ***</b><a id=e-59653 class="link-to-entry" href="#e-59653">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='11032242770626398558'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"11032242770626398558">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.008 ***</b><a id=e-59654 class="link-to-entry" href="#e-59654">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11032242770626398558'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11032242770626398558">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.009 ***</b><a id=e-59655 class="link-to-entry" href="#e-59655">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='1893004547684401341'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1893004547684401341">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.022 ***</b><a id=e-59656 class="link-to-entry" href="#e-59656">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1893004547684401341'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1893004547684401341">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.022 ***</b><a id=e-59657 class="link-to-entry" href="#e-59657">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13435147162267517042'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"13435147162267517042">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.037 ***</b><a id=e-59658 class="link-to-entry" href="#e-59658">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13435147162267517042'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13435147162267517042">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.037 ***</b><a id=e-59659 class="link-to-entry" href="#e-59659">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='1479478929592389837'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1479478929592389837">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.052 ***</b><a id=e-59660 class="link-to-entry" href="#e-59660">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1479478929592389837'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1479478929592389837">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.052 ***</b><a id=e-59661 class="link-to-entry" href="#e-59661">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5777618414383794215'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"5777618414383794215">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.070 ***</b><a id=e-59662 class="link-to-entry" href="#e-59662">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5777618414383794215'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5777618414383794215">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.070 ***</b><a id=e-59663 class="link-to-entry" href="#e-59663">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='8474214456285282048'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8474214456285282048">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.082 ***</b><a id=e-59664 class="link-to-entry" href="#e-59664">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='8474214456285282048'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8474214456285282048">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.082 ***</b><a id=e-59665 class="link-to-entry" href="#e-59665">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='797685362763179288'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"797685362763179288">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.100 ***</b><a id=e-59666 class="link-to-entry" href="#e-59666">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='797685362763179288'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"797685362763179288">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.101 ***</b><a id=e-59667 class="link-to-entry" href="#e-59667">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='15108180028394854528'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15108180028394854528">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.114 ***</b><a id=e-59668 class="link-to-entry" href="#e-59668">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15108180028394854528'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15108180028394854528">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.114 ***</b><a id=e-59669 class="link-to-entry" href="#e-59669">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='18350227361958200105'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"18350227361958200105">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.135 ***</b><a id=e-59670 class="link-to-entry" href="#e-59670">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='18350227361958200105'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18350227361958200105">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:tmp">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.136 ***</b><a id=e-59671 class="link-to-entry" href="#e-59671">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='10651534951760932567'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10651534951760932567">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.149 ***</b><a id=e-59672 class="link-to-entry" href="#e-59672">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10651534951760932567'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10651534951760932567">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.149 ***</b><a id=e-59673 class="link-to-entry" href="#e-59673">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4900895135646340745'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"4900895135646340745">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.163 ***</b><a id=e-59674 class="link-to-entry" href="#e-59674">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4900895135646340745'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4900895135646340745">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.163 ***</b><a id=e-59675 class="link-to-entry" href="#e-59675">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='18263151455750804683'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18263151455750804683">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.177 ***</b><a id=e-59676 class="link-to-entry" href="#e-59676">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='18263151455750804683'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18263151455750804683">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.177 ***</b><a id=e-59677 class="link-to-entry" href="#e-59677">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='9719129229920659515'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"9719129229920659515">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.195 ***</b><a id=e-59678 class="link-to-entry" href="#e-59678">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='9719129229920659515'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9719129229920659515">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.196 ***</b><a id=e-59679 class="link-to-entry" href="#e-59679">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='17145695093519739276'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17145695093519739276">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.208 ***</b><a id=e-59680 class="link-to-entry" href="#e-59680">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='17145695093519739276'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17145695093519739276">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.208 ***</b><a id=e-59681 class="link-to-entry" href="#e-59681">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='18361368328816677868'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"18361368328816677868">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.226 ***</b><a id=e-59682 class="link-to-entry" href="#e-59682">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='18361368328816677868'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18361368328816677868">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.227 ***</b><a id=e-59683 class="link-to-entry" href="#e-59683">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='16771121255059323401'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16771121255059323401">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.239 ***</b><a id=e-59684 class="link-to-entry" href="#e-59684">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16771121255059323401'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16771121255059323401">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.239 ***</b><a id=e-59685 class="link-to-entry" href="#e-59685">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='5868324613828814039'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"5868324613828814039">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.260 ***</b><a id=e-59686 class="link-to-entry" href="#e-59686">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5868324613828814039'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5868324613828814039">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.261 ***</b><a id=e-59687 class="link-to-entry" href="#e-59687">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='4664615635398603998'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4664615635398603998">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.273 ***</b><a id=e-59688 class="link-to-entry" href="#e-59688">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4664615635398603998'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4664615635398603998">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.273 ***</b><a id=e-59689 class="link-to-entry" href="#e-59689">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='3730768713960387345'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"3730768713960387345">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.288 ***</b><a id=e-59690 class="link-to-entry" href="#e-59690">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='3730768713960387345'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3730768713960387345">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.289 ***</b><a id=e-59691 class="link-to-entry" href="#e-59691">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6882579483478444143'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6882579483478444143">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.301 ***</b><a id=e-59692 class="link-to-entry" href="#e-59692">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6882579483478444143'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6882579483478444143">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.301 ***</b><a id=e-59693 class="link-to-entry" href="#e-59693">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='3833517816705209379'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"3833517816705209379">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.319 ***</b><a id=e-59694 class="link-to-entry" href="#e-59694">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='3833517816705209379'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3833517816705209379">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.320 ***</b><a id=e-59695 class="link-to-entry" href="#e-59695">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13771790877385879068'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13771790877385879068">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.332 ***</b><a id=e-59696 class="link-to-entry" href="#e-59696">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13771790877385879068'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13771790877385879068">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.332 ***</b><a id=e-59697 class="link-to-entry" href="#e-59697">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='10954385581113234506'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"10954385581113234506">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.352 ***</b><a id=e-59698 class="link-to-entry" href="#e-59698">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10954385581113234506'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10954385581113234506">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.352 ***</b><a id=e-59699 class="link-to-entry" href="#e-59699">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13142539733781742161'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13142539733781742161">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.365 ***</b><a id=e-59700 class="link-to-entry" href="#e-59700">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13142539733781742161'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13142539733781742161">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.365 ***</b><a id=e-59701 class="link-to-entry" href="#e-59701">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4128232264139997631'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"4128232264139997631">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.386 ***</b><a id=e-59702 class="link-to-entry" href="#e-59702">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4128232264139997631'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4128232264139997631">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.386 ***</b><a id=e-59703 class="link-to-entry" href="#e-59703">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='5642291387229697871'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5642291387229697871">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.399 ***</b><a id=e-59704 class="link-to-entry" href="#e-59704">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5642291387229697871'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5642291387229697871">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.399 ***</b><a id=e-59705 class="link-to-entry" href="#e-59705">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='6886977245906010008'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"6886977245906010008">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.413 ***</b><a id=e-59706 class="link-to-entry" href="#e-59706">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6886977245906010008'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6886977245906010008">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.414 ***</b><a id=e-59707 class="link-to-entry" href="#e-59707">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='5066785221171357712'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5066785221171357712">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.427 ***</b><a id=e-59708 class="link-to-entry" href="#e-59708">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='5066785221171357712'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5066785221171357712">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.427 ***</b><a id=e-59709 class="link-to-entry" href="#e-59709">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15357306094202374941'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"15357306094202374941">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.444 ***</b><a id=e-59710 class="link-to-entry" href="#e-59710">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15357306094202374941'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15357306094202374941">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.445 ***</b><a id=e-59711 class="link-to-entry" href="#e-59711">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='2227773312879852065'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2227773312879852065">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.459 ***</b><a id=e-59712 class="link-to-entry" href="#e-59712">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2227773312879852065'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2227773312879852065">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.459 ***</b><a id=e-59713 class="link-to-entry" href="#e-59713">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13251223239271778299'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"13251223239271778299">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.475 ***</b><a id=e-59714 class="link-to-entry" href="#e-59714">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13251223239271778299'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13251223239271778299">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.476 ***</b><a id=e-59715 class="link-to-entry" href="#e-59715">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='16562522681217984269'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:0'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16562522681217984269">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.488 ***</b><a id=e-59716 class="link-to-entry" href="#e-59716">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16562522681217984269'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16562522681217984269">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.488 ***</b><a id=e-59717 class="link-to-entry" href="#e-59717">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15425022235673663719'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"15425022235673663719">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.511 ***</b><a id=e-59718 class="link-to-entry" href="#e-59718">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15425022235673663719'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15425022235673663719">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:0">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.511 ***</b><a id=e-59719 class="link-to-entry" href="#e-59719">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='16231718166618482266'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16231718166618482266">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.523 ***</b><a id=e-59720 class="link-to-entry" href="#e-59720">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16231718166618482266'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16231718166618482266">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.523 ***</b><a id=e-59721 class="link-to-entry" href="#e-59721">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4203351120563996470'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"4203351120563996470">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.538 ***</b><a id=e-59722 class="link-to-entry" href="#e-59722">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4203351120563996470'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4203351120563996470">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.539 ***</b><a id=e-59723 class="link-to-entry" href="#e-59723">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='362717915934115035'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"362717915934115035">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.551 ***</b><a id=e-59724 class="link-to-entry" href="#e-59724">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='362717915934115035'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"362717915934115035">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.552 ***</b><a id=e-59725 class="link-to-entry" href="#e-59725">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='10454717621574651006'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"10454717621574651006">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.569 ***</b><a id=e-59726 class="link-to-entry" href="#e-59726">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10454717621574651006'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10454717621574651006">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.570 ***</b><a id=e-59727 class="link-to-entry" href="#e-59727">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='7530214281496780356'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7530214281496780356">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.583 ***</b><a id=e-59728 class="link-to-entry" href="#e-59728">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7530214281496780356'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7530214281496780356">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.583 ***</b><a id=e-59729 class="link-to-entry" href="#e-59729">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13512146706793242183'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13512146706793242183">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.600 ***</b><a id=e-59730 class="link-to-entry" href="#e-59730">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13512146706793242183'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13512146706793242183">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.600 ***</b><a id=e-59731 class="link-to-entry" href="#e-59731">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='44045802280876472'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"44045802280876472">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.613 ***</b><a id=e-59732 class="link-to-entry" href="#e-59732">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='44045802280876472'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"44045802280876472">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.613 ***</b><a id=e-59733 class="link-to-entry" href="#e-59733">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13162661789490346339'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"13162661789490346339">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.635 ***</b><a id=e-59734 class="link-to-entry" href="#e-59734">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13162661789490346339'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13162661789490346339">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.635 ***</b><a id=e-59735 class="link-to-entry" href="#e-59735">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='11571573931772455565'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11571573931772455565">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.647 ***</b><a id=e-59736 class="link-to-entry" href="#e-59736">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11571573931772455565'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11571573931772455565">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.647 ***</b><a id=e-59737 class="link-to-entry" href="#e-59737">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='2710292028159615414'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"2710292028159615414">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.664 ***</b><a id=e-59738 class="link-to-entry" href="#e-59738">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2710292028159615414'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2710292028159615414">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.664 ***</b><a id=e-59739 class="link-to-entry" href="#e-59739">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='2344721039336875025'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2344721039336875025">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.676 ***</b><a id=e-59740 class="link-to-entry" href="#e-59740">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2344721039336875025'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2344721039336875025">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.677 ***</b><a id=e-59741 class="link-to-entry" href="#e-59741">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4691939334689429594'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"4691939334689429594">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.694 ***</b><a id=e-59742 class="link-to-entry" href="#e-59742">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4691939334689429594'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4691939334689429594">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.695 ***</b><a id=e-59743 class="link-to-entry" href="#e-59743">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='6990751594721798034'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6990751594721798034">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.708 ***</b><a id=e-59744 class="link-to-entry" href="#e-59744">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6990751594721798034'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6990751594721798034">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.708 ***</b><a id=e-59745 class="link-to-entry" href="#e-59745">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='9127216627297821312'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"9127216627297821312">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.725 ***</b><a id=e-59746 class="link-to-entry" href="#e-59746">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='9127216627297821312'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9127216627297821312">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.726 ***</b><a id=e-59747 class="link-to-entry" href="#e-59747">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='13340628913469911129'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13340628913469911129">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.739 ***</b><a id=e-59748 class="link-to-entry" href="#e-59748">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13340628913469911129'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13340628913469911129">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.739 ***</b><a id=e-59749 class="link-to-entry" href="#e-59749">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4418462598405887142'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"4418462598405887142">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.759 ***</b><a id=e-59750 class="link-to-entry" href="#e-59750">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4418462598405887142'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4418462598405887142">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.760 ***</b><a id=e-59751 class="link-to-entry" href="#e-59751">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='580720946880386607'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"580720946880386607">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.773 ***</b><a id=e-59752 class="link-to-entry" href="#e-59752">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='580720946880386607'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"580720946880386607">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.773 ***</b><a id=e-59753 class="link-to-entry" href="#e-59753">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='6103126007383130916'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"6103126007383130916">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.787 ***</b><a id=e-59754 class="link-to-entry" href="#e-59754">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6103126007383130916'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6103126007383130916">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.788 ***</b><a id=e-59755 class="link-to-entry" href="#e-59755">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='16017125220007446000'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16017125220007446000">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.800 ***</b><a id=e-59756 class="link-to-entry" href="#e-59756">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16017125220007446000'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16017125220007446000">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.801 ***</b><a id=e-59757 class="link-to-entry" href="#e-59757">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='11635017183544813886'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"11635017183544813886">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.818 ***</b><a id=e-59758 class="link-to-entry" href="#e-59758">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11635017183544813886'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11635017183544813886">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.819 ***</b><a id=e-59759 class="link-to-entry" href="#e-59759">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='7686471858498305424'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7686471858498305424">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.832 ***</b><a id=e-59760 class="link-to-entry" href="#e-59760">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='7686471858498305424'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"7686471858498305424">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.832 ***</b><a id=e-59761 class="link-to-entry" href="#e-59761">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='10580858391293472944'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"10580858391293472944">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.850 ***</b><a id=e-59762 class="link-to-entry" href="#e-59762">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10580858391293472944'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10580858391293472944">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.850 ***</b><a id=e-59763 class="link-to-entry" href="#e-59763">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='17925830316840606132'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:1'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17925830316840606132">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.864 ***</b><a id=e-59764 class="link-to-entry" href="#e-59764">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='17925830316840606132'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17925830316840606132">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.864 ***</b><a id=e-59765 class="link-to-entry" href="#e-59765">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='8702086407345444417'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"8702086407345444417">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.884 ***</b><a id=e-59766 class="link-to-entry" href="#e-59766">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='8702086407345444417'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8702086407345444417">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:1">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.885 ***</b><a id=e-59767 class="link-to-entry" href="#e-59767">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='11800124584234198982'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11800124584234198982">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.897 ***</b><a id=e-59768 class="link-to-entry" href="#e-59768">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11800124584234198982'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11800124584234198982">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.897 ***</b><a id=e-59769 class="link-to-entry" href="#e-59769">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='17270799504326722900'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"17270799504326722900">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.912 ***</b><a id=e-59770 class="link-to-entry" href="#e-59770">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='17270799504326722900'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17270799504326722900">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.912 ***</b><a id=e-59771 class="link-to-entry" href="#e-59771">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='8949666734537390557'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8949666734537390557">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.925 ***</b><a id=e-59772 class="link-to-entry" href="#e-59772">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='8949666734537390557'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8949666734537390557">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.925 ***</b><a id=e-59773 class="link-to-entry" href="#e-59773">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='16283678891249527004'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"16283678891249527004">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.944 ***</b><a id=e-59774 class="link-to-entry" href="#e-59774">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16283678891249527004'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16283678891249527004">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.944 ***</b><a id=e-59775 class="link-to-entry" href="#e-59775">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='665409514480708437'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"665409514480708437">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.956 ***</b><a id=e-59776 class="link-to-entry" href="#e-59776">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='665409514480708437'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"665409514480708437">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.957 ***</b><a id=e-59777 class="link-to-entry" href="#e-59777">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='12251478248949056963'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"12251478248949056963">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.974 ***</b><a id=e-59778 class="link-to-entry" href="#e-59778">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='12251478248949056963'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12251478248949056963">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.975 ***</b><a id=e-59779 class="link-to-entry" href="#e-59779">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='10558909878641342427'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10558909878641342427">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.989 ***</b><a id=e-59780 class="link-to-entry" href="#e-59780">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10558909878641342427'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10558909878641342427">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:44.989 ***</b><a id=e-59781 class="link-to-entry" href="#e-59781">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15041952296340145559'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15041952296340145559">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.010 ***</b><a id=e-59782 class="link-to-entry" href="#e-59782">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15041952296340145559'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15041952296340145559">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = always,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.010 ***</b><a id=e-59783 class="link-to-entry" href="#e-59783">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='11790009137951620875'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11790009137951620875">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.022 ***</b><a id=e-59784 class="link-to-entry" href="#e-59784">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='11790009137951620875'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11790009137951620875">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.023 ***</b><a id=e-59785 class="link-to-entry" href="#e-59785">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='15629941624654772128'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15629941624654772128">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.037 ***</b><a id=e-59786 class="link-to-entry" href="#e-59786">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='15629941624654772128'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15629941624654772128">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = never,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.038 ***</b><a id=e-59787 class="link-to-entry" href="#e-59787">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='481564410299781364'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"481564410299781364">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.050 ***</b><a id=e-59788 class="link-to-entry" href="#e-59788">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='481564410299781364'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"481564410299781364">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.051 ***</b><a id=e-59789 class="link-to-entry" href="#e-59789">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='14249156258405546510'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"14249156258405546510">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.068 ***</b><a id=e-59790 class="link-to-entry" href="#e-59790">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='14249156258405546510'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"14249156258405546510">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.068 ***</b><a id=e-59791 class="link-to-entry" href="#e-59791">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='2563170856599895043'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2563170856599895043">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.081 ***</b><a id=e-59792 class="link-to-entry" href="#e-59792">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2563170856599895043'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2563170856599895043">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.081 ***</b><a id=e-59793 class="link-to-entry" href="#e-59793">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='8183131812632330310'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"8183131812632330310">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.099 ***</b><a id=e-59794 class="link-to-entry" href="#e-59794">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='8183131812632330310'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8183131812632330310">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.100 ***</b><a id=e-59795 class="link-to-entry" href="#e-59795">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='12391076769060752498'
    xmlns='jabber:client'>
  &lt;prefs default='never'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12391076769060752498">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.112 ***</b><a id=e-59796 class="link-to-entry" href="#e-59796">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='12391076769060752498'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12391076769060752498">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.112 ***</b><a id=e-59797 class="link-to-entry" href="#e-59797">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='4800697234031118758'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"4800697234031118758">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.134 ***</b><a id=e-59798 class="link-to-entry" href="#e-59798">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='4800697234031118758'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='never'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"4800697234031118758">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = never,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.134 ***</b><a id=e-59799 class="link-to-entry" href="#e-59799">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='16422810927082355143'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16422810927082355143">>,type = set,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.146 ***</b><a id=e-59800 class="link-to-entry" href="#e-59800">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='16422810927082355143'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"16422810927082355143">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.147 ***</b><a id=e-59801 class="link-to-entry" href="#e-59801">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='10571065105435093841'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"10571065105435093841">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.162 ***</b><a id=e-59802 class="link-to-entry" href="#e-59802">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='10571065105435093841'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10571065105435093841">>,type = result,lang = <<"en">>,
    from = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
                luser = <<>>,lserver = <<"sqlite.localhost">>,
                lresource = <<>>},
    to = #jid{user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"sqlite.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"sqlite.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = roster,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.162 ***</b><a id=e-59803 class="link-to-entry" href="#e-59803">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='2411812992201545641'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2411812992201545641">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.175 ***</b><a id=e-59804 class="link-to-entry" href="#e-59804">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='2411812992201545641'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"2411812992201545641">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.176 ***</b><a id=e-59805 class="link-to-entry" href="#e-59805">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='6682090168777449946'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"6682090168777449946">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.193 ***</b><a id=e-59806 class="link-to-entry" href="#e-59806">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='6682090168777449946'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always/>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6682090168777449946">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,always = [],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.193 ***</b><a id=e-59807 class="link-to-entry" href="#e-59807">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='572522062981074115'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"572522062981074115">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.206 ***</b><a id=e-59808 class="link-to-entry" href="#e-59808">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='572522062981074115'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"572522062981074115">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.206 ***</b><a id=e-59809 class="link-to-entry" href="#e-59809">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='1216884006128857470'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"1216884006128857470">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.224 ***</b><a id=e-59810 class="link-to-entry" href="#e-59810">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='1216884006128857470'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1216884006128857470">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.224 ***</b><a id=e-59811 class="link-to-entry" href="#e-59811">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='set'
    id='12108494671920485388'
    xmlns='jabber:client'>
  &lt;prefs default='roster'
         xmlns='urn:xmpp:mam:2'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12108494671920485388">>,type = set,lang = <<>>,from = undefined,
    to =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.237 ***</b><a id=e-59812 class="link-to-entry" href="#e-59812">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='12108494671920485388'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"12108494671920485388">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.237 ***</b><a id=e-59813 class="link-to-entry" href="#e-59813">&#x1f517;</a>
SENT:
&lt;iq to='sqlite.localhost'
    type='get'
    id='13495152283869319600'
    xmlns='jabber:client'>
  &lt;prefs xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"13495152283869319600">>,type = get,lang = <<>>,from = undefined,
    to = #jid{user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
              luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = undefined,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:26:45.258 ***</b><a id=e-59814 class="link-to-entry" href="#e-59814">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='sqlite.localhost'
    type='result'
    id='13495152283869319600'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='roster'>
    &lt;always>
      &lt;jid>foo@bar.baz&lt;/jid>
    &lt;/always>
    &lt;never>
      &lt;jid>baz@bar.foo&lt;/jid>
    &lt;/never>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"13495152283869319600">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<>>,server = <<"sqlite.localhost">>,resource = <<>>,
            luser = <<>>,lserver = <<"sqlite.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"sqlite.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_single!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"sqlite.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_prefs{
             xmlns = <<"urn:xmpp:mam:2">>,default = roster,
             always =
                 [#jid{
                      user = <<"foo">>,server = <<"bar.baz">>,resource = <<>>,
                      luser = <<"foo">>,lserver = <<"bar.baz">>,
                      lresource = <<>>}],
             never =
                 [#jid{
                      user = <<"baz">>,server = <<"bar.foo">>,resource = <<>>,
                      luser = <<"baz">>,lserver = <<"bar.foo">>,
                      lresource = <<>>}]}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="sasl"><pre><b>*** System report during ejabberd_SUITE:mam_get_set_prefs/1 in mam_single 2024-02-22 15:26:45.271 ***</b><a id=e-59815 class="link-to-entry" href="#e-59815">&#x1f517;</a>
=INFO REPORT==== 22-Feb-2024::15:26:45.270919 ===
(tcp|&lt;0.43525.0&gt;) Closing c2s session for test_single!#$%^*()`~+-;_=[]{}|\@sqlite.localhost/resource!@#$%^&amp;*()'"`~&lt;&gt;+-/;:_=[]{}|\: Stream reset by peer

</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2024-02-22 15:26:45
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"4452943477319607388"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.90393003&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"sqlite.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,single},
                     {watchdog,&lt;0.43523.0&gt;},
                     {event_relay,&lt;0.43511.0&gt;},
                     {server,&lt;&lt;"sqlite.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/ejabberd_suite.mam_get_set_prefs.48899.html"},
                     {tc_group_properties,[{name,mam_single},sequence]},
                     {tc_group_path,
                         [[{name,single_user},sequence],
                          [{name,sqlite},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/log_private/"}]
</pre>
<center>
<br /><hr /><p>
<a href="../../../all_runs.html">Test run history
</a>  |  <a href="../../../index.html">Top level test index
</a>  |  <a href="../../../suite.log.latest.html">Latest test result</a>
</p>
<div class="copyright">Copyright &copy; 2024 <a href="http://www.erlang.org">Open Telecom Platform</a><br />
Updated: <!--date-->Thu Feb 22 2024 15:26:43<!--/date--><br />
</div>
</center>
</body>
</html>
