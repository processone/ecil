<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:mam_query_rsm_max_slave result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#mam_query_rsm_max_slave-1">ejabberd_SUITE:mam_query_rsm_max_slave/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.34468.0&gt;},
     {watchdog,&lt;0.34467.0&gt;},
     {server,&lt;&lt;"mnesia.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/ejabberd_suite.mam_query_rsm_max_slave.14210.html"},
     {tc_group_properties,[{name,mam_query_rsm_max},parallel]},
     {tc_group_path,[[{name,mam_master_slave},sequence],
                     [{name,mnesia},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52"

=== Started at 2024-02-22 15:21:21

<br />

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.338 ***</b><a id=e-13284 class="link-to-entry" href="#e-13284">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='mnesia.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"mnesia.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"mnesia.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.339 ***</b><a id=e-13285 class="link-to-entry" href="#e-13285">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='18197025981320198953'
               version='1.0'
               xml:lang='en'
               from='mnesia.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"mnesia.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"mnesia.localhost">>,lresource = <<>>},
              to = undefined,id = <<"18197025981320198953">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.339 ***</b><a id=e-13286 class="link-to-entry" href="#e-13286">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.339 ***</b><a id=e-13287 class="link-to-entry" href="#e-13287">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XEBtbmVzaWEubG9jYWxob3N0AHRlc3Rfc2xhdmUhIyQlXiooKWB+Ky07Xz1bXXt9fFwAcGFzc3dvcmQhQCMkJV4mKigpJyJgfjw+Ky0vOzpfPVtde318XA==&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,109,
                    110,101,115,105,97,46,108,111,99,97,108,104,111,115,116,0,
                    116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,112,97,
                    115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,41,39,
                    34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.339 ***</b><a id=e-13288 class="link-to-entry" href="#e-13288">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.340 ***</b><a id=e-13289 class="link-to-entry" href="#e-13289">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='mnesia.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"mnesia.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"mnesia.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.340 ***</b><a id=e-13290 class="link-to-entry" href="#e-13290">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='965268297176949794'
               version='1.0'
               xml:lang='en'
               from='mnesia.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"mnesia.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"mnesia.localhost">>,lresource = <<>>},
              to = undefined,id = <<"965268297176949794">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.340 ***</b><a id=e-13291 class="link-to-entry" href="#e-13291">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='9dw1fKaE0crSfkc9KTtBadLPkJA='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
  &lt;csi xmlns='urn:xmpp:csi:0'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"9dw1fKaE0crSfkc9KTtBadLPkJA=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{},
         #feature_csi{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.340 ***</b><a id=e-13292 class="link-to-entry" href="#e-13292">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8356490129069083087'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"8356490129069083087">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.341 ***</b><a id=e-13293 class="link-to-entry" href="#e-13293">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='8356490129069083087'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"8356490129069083087">>,type = result,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.342 ***</b><a id=e-13295 class="link-to-entry" href="#e-13295">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9412529845421425673'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"9412529845421425673">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.342 ***</b><a id=e-13299 class="link-to-entry" href="#e-13299">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='9412529845421425673'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9412529845421425673">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.342 ***</b><a id=e-13300 class="link-to-entry" href="#e-13300">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11732192850804633418'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"11732192850804633418">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.343 ***</b><a id=e-13303 class="link-to-entry" href="#e-13303">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='11732192850804633418'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"11732192850804633418">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.343 ***</b><a id=e-13304 class="link-to-entry" href="#e-13304">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='18081400899615218966'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"18081400899615218966">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.343 ***</b><a id=e-13306 class="link-to-entry" href="#e-13306">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='18081400899615218966'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18081400899615218966">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.343 ***</b><a id=e-13308 class="link-to-entry" href="#e-13308">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10801540498438179084'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"10801540498438179084">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.344 ***</b><a id=e-13310 class="link-to-entry" href="#e-13310">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='10801540498438179084'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10801540498438179084">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.344 ***</b><a id=e-13311 class="link-to-entry" href="#e-13311">&#x1f517;</a>
SENT:
&lt;presence id='18071705194843324271'
          xmlns='jabber:client'/>

#presence{id = <<"18071705194843324271">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.344 ***</b><a id=e-13313 class="link-to-entry" href="#e-13313">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='18071705194843324271'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"18071705194843324271">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"mnesia.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"mnesia.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"mnesia.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"mnesia.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.349 ***</b><a id=e-13330 class="link-to-entry" href="#e-13330">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14163417260903804646'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
            id='1708615281349015'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
             id='1708615281349015'/>
  &lt;body xml:lang='en'>1&lt;/body>
&lt;/message>

#message{
    id = <<"14163417260903804646">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"1">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281349015">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281349015">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.392 ***</b><a id=e-13331 class="link-to-entry" href="#e-13331">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18055763760486564857'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
            id='1708615281392014'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
             id='1708615281392014'/>
  &lt;body xml:lang='en'>2&lt;/body>
&lt;/message>

#message{
    id = <<"18055763760486564857">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"2">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392014">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392014">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.392 ***</b><a id=e-13332 class="link-to-entry" href="#e-13332">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10565982804403449783'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
            id='1708615281392282'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
             id='1708615281392282'/>
  &lt;body xml:lang='en'>3&lt;/body>
&lt;/message>

#message{
    id = <<"10565982804403449783">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"3">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392282">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392282">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.393 ***</b><a id=e-13333 class="link-to-entry" href="#e-13333">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12719574010195149419'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
            id='1708615281392614'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
             id='1708615281392614'/>
  &lt;body xml:lang='en'>4&lt;/body>
&lt;/message>

#message{
    id = <<"12719574010195149419">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"4">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392614">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392614">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.395 ***</b><a id=e-13335 class="link-to-entry" href="#e-13335">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14556214418740697582'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
            id='1708615281392888'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
             id='1708615281392888'/>
  &lt;body xml:lang='en'>5&lt;/body>
&lt;/message>

#message{
    id = <<"14556214418740697582">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"5">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392888">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mnesia.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mnesia.localhost">>,lresource = <<>>},
             id = <<"1708615281392888">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.395 ***</b><a id=e-13336 class="link-to-entry" href="#e-13336">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='16241928426551446280'
    xmlns='jabber:client'>
  &lt;query queryid='9991810603644521730'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>0&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"16241928426551446280">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"9991810603644521730">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 0},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.396 ***</b><a id=e-13338 class="link-to-entry" href="#e-13338">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='16241928426551446280'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='9991810603644521730'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"16241928426551446280">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"9991810603644521730">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.396 ***</b><a id=e-13339 class="link-to-entry" href="#e-13339">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11337258255945095469'
    xmlns='jabber:client'>
  &lt;query queryid='1167766626687133754'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11337258255945095469">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1167766626687133754">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.396 ***</b><a id=e-13343 class="link-to-entry" href="#e-13343">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281349015'
          queryid='1167766626687133754'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"1167766626687133754">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.397 ***</b><a id=e-13344 class="link-to-entry" href="#e-13344">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='11337258255945095469'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='1167766626687133754'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281349015&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11337258255945095469">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1167766626687133754">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281349015">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.397 ***</b><a id=e-13345 class="link-to-entry" href="#e-13345">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='11040185844838902297'
    xmlns='jabber:client'>
  &lt;query queryid='1617216436505500416'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>2&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11040185844838902297">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1617216436505500416">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 2},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.398 ***</b><a id=e-13349 class="link-to-entry" href="#e-13349">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281349015'
          queryid='1617216436505500416'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"1617216436505500416">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.398 ***</b><a id=e-13351 class="link-to-entry" href="#e-13351">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392014'
          queryid='1617216436505500416'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"1617216436505500416">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.399 ***</b><a id=e-13352 class="link-to-entry" href="#e-13352">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='11040185844838902297'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='1617216436505500416'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392014&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11040185844838902297">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1617216436505500416">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392014">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.399 ***</b><a id=e-13353 class="link-to-entry" href="#e-13353">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='7555477073948830277'
    xmlns='jabber:client'>
  &lt;query queryid='17349925095252132099'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>3&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7555477073948830277">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"17349925095252132099">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 3},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.400 ***</b><a id=e-13357 class="link-to-entry" href="#e-13357">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281349015'
          queryid='17349925095252132099'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17349925095252132099">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.400 ***</b><a id=e-13360 class="link-to-entry" href="#e-13360">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392014'
          queryid='17349925095252132099'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17349925095252132099">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.401 ***</b><a id=e-13361 class="link-to-entry" href="#e-13361">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392282'
          queryid='17349925095252132099'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17349925095252132099">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.401 ***</b><a id=e-13362 class="link-to-entry" href="#e-13362">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='7555477073948830277'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='17349925095252132099'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392282&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7555477073948830277">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"17349925095252132099">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392282">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.401 ***</b><a id=e-13364 class="link-to-entry" href="#e-13364">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2966306078828862626'
    xmlns='jabber:client'>
  &lt;query queryid='9793795340478714829'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>4&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2966306078828862626">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"9793795340478714829">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 4},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.402 ***</b><a id=e-13368 class="link-to-entry" href="#e-13368">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281349015'
          queryid='9793795340478714829'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"9793795340478714829">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.403 ***</b><a id=e-13371 class="link-to-entry" href="#e-13371">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392014'
          queryid='9793795340478714829'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"9793795340478714829">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.403 ***</b><a id=e-13372 class="link-to-entry" href="#e-13372">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392282'
          queryid='9793795340478714829'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"9793795340478714829">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.403 ***</b><a id=e-13373 class="link-to-entry" href="#e-13373">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392614'
          queryid='9793795340478714829'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"9793795340478714829">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.404 ***</b><a id=e-13375 class="link-to-entry" href="#e-13375">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='2966306078828862626'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='9793795340478714829'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392614&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2966306078828862626">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"9793795340478714829">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392614">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.404 ***</b><a id=e-13376 class="link-to-entry" href="#e-13376">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='2984388433967791516'
    xmlns='jabber:client'>
  &lt;query queryid='15672285679289107509'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>5&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2984388433967791516">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"15672285679289107509">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 5},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.405 ***</b><a id=e-13383 class="link-to-entry" href="#e-13383">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281349015'
          queryid='15672285679289107509'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"15672285679289107509">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.406 ***</b><a id=e-13384 class="link-to-entry" href="#e-13384">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392014'
          queryid='15672285679289107509'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"15672285679289107509">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.406 ***</b><a id=e-13385 class="link-to-entry" href="#e-13385">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392282'
          queryid='15672285679289107509'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"15672285679289107509">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.406 ***</b><a id=e-13387 class="link-to-entry" href="#e-13387">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392614'
          queryid='15672285679289107509'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"15672285679289107509">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.407 ***</b><a id=e-13389 class="link-to-entry" href="#e-13389">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392888'
          queryid='15672285679289107509'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"15672285679289107509">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.407 ***</b><a id=e-13390 class="link-to-entry" href="#e-13390">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='2984388433967791516'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='15672285679289107509'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2984388433967791516">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"15672285679289107509">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.407 ***</b><a id=e-13392 class="link-to-entry" href="#e-13392">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8136461295664954368'
    xmlns='jabber:client'>
  &lt;query queryid='7835233989578869858'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>6&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8136461295664954368">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"7835233989578869858">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 6},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.408 ***</b><a id=e-13397 class="link-to-entry" href="#e-13397">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281349015'
          queryid='7835233989578869858'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"7835233989578869858">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.409 ***</b><a id=e-13398 class="link-to-entry" href="#e-13398">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392014'
          queryid='7835233989578869858'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"7835233989578869858">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.409 ***</b><a id=e-13400 class="link-to-entry" href="#e-13400">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392282'
          queryid='7835233989578869858'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"7835233989578869858">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.409 ***</b><a id=e-13403 class="link-to-entry" href="#e-13403">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392614'
          queryid='7835233989578869858'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"7835233989578869858">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.410 ***</b><a id=e-13404 class="link-to-entry" href="#e-13404">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1708615281392888'
          queryid='7835233989578869858'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"7835233989578869858">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.410 ***</b><a id=e-13405 class="link-to-entry" href="#e-13405">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='8136461295664954368'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='7835233989578869858'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8136461295664954368">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"7835233989578869858">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.410 ***</b><a id=e-13407 class="link-to-entry" href="#e-13407">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2821156097539935548'
    xmlns='jabber:client'>
  &lt;query queryid='14380099635695238491'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>0&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2821156097539935548">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"14380099635695238491">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 0},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.411 ***</b><a id=e-13410 class="link-to-entry" href="#e-13410">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='2821156097539935548'/>

#iq{id = <<"2821156097539935548">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.411 ***</b><a id=e-13412 class="link-to-entry" href="#e-13412">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='false'
       queryid='14380099635695238491'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"14380099635695238491">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             stable = undefined,complete = false},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.411 ***</b><a id=e-13413 class="link-to-entry" href="#e-13413">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4599022092332471403'
    xmlns='jabber:client'>
  &lt;query queryid='6667402990630949445'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"4599022092332471403">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"6667402990630949445">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.412 ***</b><a id=e-13416 class="link-to-entry" href="#e-13416">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='4599022092332471403'/>

#iq{id = <<"4599022092332471403">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.412 ***</b><a id=e-13418 class="link-to-entry" href="#e-13418">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281349015'
          queryid='6667402990630949445'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"6667402990630949445">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.413 ***</b><a id=e-13420 class="link-to-entry" href="#e-13420">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='false'
       queryid='6667402990630949445'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281349015&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"6667402990630949445">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281349015">>,
                     max = undefined},
             stable = undefined,complete = false},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.413 ***</b><a id=e-13422 class="link-to-entry" href="#e-13422">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13816918309659066048'
    xmlns='jabber:client'>
  &lt;query queryid='8052685090010570571'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>2&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"13816918309659066048">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"8052685090010570571">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 2},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.414 ***</b><a id=e-13425 class="link-to-entry" href="#e-13425">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='13816918309659066048'/>

#iq{id = <<"13816918309659066048">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.415 ***</b><a id=e-13427 class="link-to-entry" href="#e-13427">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281349015'
          queryid='8052685090010570571'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8052685090010570571">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.415 ***</b><a id=e-13431 class="link-to-entry" href="#e-13431">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392014'
          queryid='8052685090010570571'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8052685090010570571">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.415 ***</b><a id=e-13432 class="link-to-entry" href="#e-13432">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='false'
       queryid='8052685090010570571'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392014&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"8052685090010570571">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392014">>,
                     max = undefined},
             stable = undefined,complete = false},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.415 ***</b><a id=e-13433 class="link-to-entry" href="#e-13433">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16869306735333542142'
    xmlns='jabber:client'>
  &lt;query queryid='16179177059123454149'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>3&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"16869306735333542142">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"16179177059123454149">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 3},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.416 ***</b><a id=e-13434 class="link-to-entry" href="#e-13434">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='16869306735333542142'/>

#iq{id = <<"16869306735333542142">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.417 ***</b><a id=e-13436 class="link-to-entry" href="#e-13436">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281349015'
          queryid='16179177059123454149'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"16179177059123454149">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.417 ***</b><a id=e-13438 class="link-to-entry" href="#e-13438">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392014'
          queryid='16179177059123454149'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"16179177059123454149">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.417 ***</b><a id=e-13440 class="link-to-entry" href="#e-13440">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392282'
          queryid='16179177059123454149'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"16179177059123454149">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.417 ***</b><a id=e-13441 class="link-to-entry" href="#e-13441">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='false'
       queryid='16179177059123454149'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392282&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"16179177059123454149">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392282">>,
                     max = undefined},
             stable = undefined,complete = false},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.418 ***</b><a id=e-13443 class="link-to-entry" href="#e-13443">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7004982389401108320'
    xmlns='jabber:client'>
  &lt;query queryid='11294411268351781704'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>4&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7004982389401108320">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"11294411268351781704">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 4},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.418 ***</b><a id=e-13446 class="link-to-entry" href="#e-13446">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='7004982389401108320'/>

#iq{id = <<"7004982389401108320">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.419 ***</b><a id=e-13448 class="link-to-entry" href="#e-13448">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281349015'
          queryid='11294411268351781704'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11294411268351781704">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.419 ***</b><a id=e-13451 class="link-to-entry" href="#e-13451">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392014'
          queryid='11294411268351781704'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11294411268351781704">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.420 ***</b><a id=e-13453 class="link-to-entry" href="#e-13453">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392282'
          queryid='11294411268351781704'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11294411268351781704">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.420 ***</b><a id=e-13455 class="link-to-entry" href="#e-13455">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392614'
          queryid='11294411268351781704'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11294411268351781704">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.420 ***</b><a id=e-13456 class="link-to-entry" href="#e-13456">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='false'
       queryid='11294411268351781704'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392614&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"11294411268351781704">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392614">>,
                     max = undefined},
             stable = undefined,complete = false},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.420 ***</b><a id=e-13458 class="link-to-entry" href="#e-13458">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12601071008533867522'
    xmlns='jabber:client'>
  &lt;query queryid='5668914509349841870'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>5&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"12601071008533867522">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"5668914509349841870">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 5},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.421 ***</b><a id=e-13462 class="link-to-entry" href="#e-13462">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='12601071008533867522'/>

#iq{id = <<"12601071008533867522">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.422 ***</b><a id=e-13463 class="link-to-entry" href="#e-13463">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281349015'
          queryid='5668914509349841870'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"5668914509349841870">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.422 ***</b><a id=e-13465 class="link-to-entry" href="#e-13465">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392014'
          queryid='5668914509349841870'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"5668914509349841870">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.422 ***</b><a id=e-13467 class="link-to-entry" href="#e-13467">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392282'
          queryid='5668914509349841870'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"5668914509349841870">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.423 ***</b><a id=e-13468 class="link-to-entry" href="#e-13468">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392614'
          queryid='5668914509349841870'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"5668914509349841870">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.423 ***</b><a id=e-13469 class="link-to-entry" href="#e-13469">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392888'
          queryid='5668914509349841870'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"5668914509349841870">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.423 ***</b><a id=e-13470 class="link-to-entry" href="#e-13470">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='5668914509349841870'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"5668914509349841870">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.423 ***</b><a id=e-13471 class="link-to-entry" href="#e-13471">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5888524645603938688'
    xmlns='jabber:client'>
  &lt;query queryid='14789656517393411262'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>6&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5888524645603938688">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"14789656517393411262">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 6},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.424 ***</b><a id=e-13474 class="link-to-entry" href="#e-13474">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='5888524645603938688'/>

#iq{id = <<"5888524645603938688">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.424 ***</b><a id=e-13475 class="link-to-entry" href="#e-13475">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281349015'
          queryid='14789656517393411262'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"14789656517393411262">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.425 ***</b><a id=e-13478 class="link-to-entry" href="#e-13478">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392014'
          queryid='14789656517393411262'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"14789656517393411262">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.425 ***</b><a id=e-13481 class="link-to-entry" href="#e-13481">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392282'
          queryid='14789656517393411262'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"14789656517393411262">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.425 ***</b><a id=e-13482 class="link-to-entry" href="#e-13482">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392614'
          queryid='14789656517393411262'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"14789656517393411262">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.426 ***</b><a id=e-13485 class="link-to-entry" href="#e-13485">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1708615281392888'
          queryid='14789656517393411262'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"14789656517393411262">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.426 ***</b><a id=e-13486 class="link-to-entry" href="#e-13486">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='14789656517393411262'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"14789656517393411262">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.426 ***</b><a id=e-13487 class="link-to-entry" href="#e-13487">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11082837022004202168'
    xmlns='jabber:client'>
  &lt;query queryid='16891319448862871290'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>0&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11082837022004202168">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"16891319448862871290">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 0},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.429 ***</b><a id=e-13488 class="link-to-entry" href="#e-13488">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='11082837022004202168'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"11082837022004202168">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_fin{xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
                        rsm = #rsm_set{'after' = undefined,before = undefined,
                                       count = 5,first = undefined,
                                       index = undefined,last = undefined,
                                       max = undefined},
                        stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.429 ***</b><a id=e-13489 class="link-to-entry" href="#e-13489">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10498465256293417616'
    xmlns='jabber:client'>
  &lt;query queryid='7586941478867841217'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"10498465256293417616">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"7586941478867841217">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.430 ***</b><a id=e-13493 class="link-to-entry" href="#e-13493">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281349015'
          queryid='7586941478867841217'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"7586941478867841217">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.431 ***</b><a id=e-13494 class="link-to-entry" href="#e-13494">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='10498465256293417616'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281349015&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"10498465256293417616">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281349015">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.431 ***</b><a id=e-13495 class="link-to-entry" href="#e-13495">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16980371222543594157'
    xmlns='jabber:client'>
  &lt;query queryid='13938099840690122937'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>2&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"16980371222543594157">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"13938099840690122937">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 2},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.432 ***</b><a id=e-13500 class="link-to-entry" href="#e-13500">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281349015'
          queryid='13938099840690122937'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"13938099840690122937">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.432 ***</b><a id=e-13501 class="link-to-entry" href="#e-13501">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392014'
          queryid='13938099840690122937'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"13938099840690122937">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.432 ***</b><a id=e-13502 class="link-to-entry" href="#e-13502">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='16980371222543594157'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392014&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"16980371222543594157">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392014">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.432 ***</b><a id=e-13503 class="link-to-entry" href="#e-13503">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14014480551787544221'
    xmlns='jabber:client'>
  &lt;query queryid='4115284219047523559'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>3&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"14014480551787544221">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"4115284219047523559">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 3},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.434 ***</b><a id=e-13509 class="link-to-entry" href="#e-13509">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281349015'
          queryid='4115284219047523559'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4115284219047523559">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.434 ***</b><a id=e-13510 class="link-to-entry" href="#e-13510">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392014'
          queryid='4115284219047523559'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4115284219047523559">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.434 ***</b><a id=e-13511 class="link-to-entry" href="#e-13511">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392282'
          queryid='4115284219047523559'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4115284219047523559">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.434 ***</b><a id=e-13512 class="link-to-entry" href="#e-13512">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='14014480551787544221'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392282&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"14014480551787544221">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392282">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.435 ***</b><a id=e-13514 class="link-to-entry" href="#e-13514">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17395089228661065660'
    xmlns='jabber:client'>
  &lt;query queryid='11831018689721614807'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>4&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"17395089228661065660">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"11831018689721614807">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 4},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.436 ***</b><a id=e-13517 class="link-to-entry" href="#e-13517">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281349015'
          queryid='11831018689721614807'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11831018689721614807">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.436 ***</b><a id=e-13520 class="link-to-entry" href="#e-13520">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392014'
          queryid='11831018689721614807'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11831018689721614807">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.436 ***</b><a id=e-13522 class="link-to-entry" href="#e-13522">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392282'
          queryid='11831018689721614807'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11831018689721614807">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.437 ***</b><a id=e-13523 class="link-to-entry" href="#e-13523">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392614'
          queryid='11831018689721614807'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11831018689721614807">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.437 ***</b><a id=e-13524 class="link-to-entry" href="#e-13524">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='17395089228661065660'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392614&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"17395089228661065660">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392614">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.437 ***</b><a id=e-13525 class="link-to-entry" href="#e-13525">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16418202566386598811'
    xmlns='jabber:client'>
  &lt;query queryid='4533209432966002266'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>5&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"16418202566386598811">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"4533209432966002266">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 5},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.438 ***</b><a id=e-13528 class="link-to-entry" href="#e-13528">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281349015'
          queryid='4533209432966002266'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4533209432966002266">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.439 ***</b><a id=e-13531 class="link-to-entry" href="#e-13531">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392014'
          queryid='4533209432966002266'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4533209432966002266">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.439 ***</b><a id=e-13533 class="link-to-entry" href="#e-13533">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392282'
          queryid='4533209432966002266'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4533209432966002266">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.440 ***</b><a id=e-13536 class="link-to-entry" href="#e-13536">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392614'
          queryid='4533209432966002266'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4533209432966002266">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.440 ***</b><a id=e-13537 class="link-to-entry" href="#e-13537">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392888'
          queryid='4533209432966002266'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"4533209432966002266">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.440 ***</b><a id=e-13538 class="link-to-entry" href="#e-13538">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='16418202566386598811'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"16418202566386598811">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.443 ***</b><a id=e-13548 class="link-to-entry" href="#e-13548">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7323387884026148397'
    xmlns='jabber:client'>
  &lt;query queryid='422307505402857281'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>6&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7323387884026148397">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"422307505402857281">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 6},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.445 ***</b><a id=e-13552 class="link-to-entry" href="#e-13552">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281349015'
          queryid='422307505402857281'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"422307505402857281">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.445 ***</b><a id=e-13553 class="link-to-entry" href="#e-13553">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392014'
          queryid='422307505402857281'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"422307505402857281">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.446 ***</b><a id=e-13555 class="link-to-entry" href="#e-13555">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392282'
          queryid='422307505402857281'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"422307505402857281">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.446 ***</b><a id=e-13557 class="link-to-entry" href="#e-13557">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392614'
          queryid='422307505402857281'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"422307505402857281">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.447 ***</b><a id=e-13560 class="link-to-entry" href="#e-13560">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1708615281392888'
          queryid='422307505402857281'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"422307505402857281">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.447 ***</b><a id=e-13561 class="link-to-entry" href="#e-13561">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='7323387884026148397'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"7323387884026148397">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.447 ***</b><a id=e-13562 class="link-to-entry" href="#e-13562">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12275337713276001878'
    xmlns='jabber:client'>
  &lt;query queryid='18035608373193542023'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>0&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"12275337713276001878">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"18035608373193542023">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 0},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.449 ***</b><a id=e-13563 class="link-to-entry" href="#e-13563">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='12275337713276001878'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"12275337713276001878">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mnesia.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mnesia.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mnesia.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_fin{xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
                        rsm = #rsm_set{'after' = undefined,before = undefined,
                                       count = 5,first = undefined,
                                       index = undefined,last = undefined,
                                       max = undefined},
                        stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.449 ***</b><a id=e-13564 class="link-to-entry" href="#e-13564">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7180757368021453479'
    xmlns='jabber:client'>
  &lt;query queryid='267819396282186744'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7180757368021453479">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"267819396282186744">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.450 ***</b><a id=e-13570 class="link-to-entry" href="#e-13570">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281349015'
          queryid='267819396282186744'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"267819396282186744">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.450 ***</b><a id=e-13571 class="link-to-entry" href="#e-13571">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='7180757368021453479'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281349015&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"7180757368021453479">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281349015">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.451 ***</b><a id=e-13572 class="link-to-entry" href="#e-13572">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11631766455926228967'
    xmlns='jabber:client'>
  &lt;query queryid='5003689005662787866'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>2&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11631766455926228967">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"5003689005662787866">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 2},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.451 ***</b><a id=e-13573 class="link-to-entry" href="#e-13573">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281349015'
          queryid='5003689005662787866'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"5003689005662787866">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.452 ***</b><a id=e-13574 class="link-to-entry" href="#e-13574">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392014'
          queryid='5003689005662787866'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"5003689005662787866">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.452 ***</b><a id=e-13575 class="link-to-entry" href="#e-13575">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='11631766455926228967'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392014&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"11631766455926228967">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392014">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.452 ***</b><a id=e-13576 class="link-to-entry" href="#e-13576">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12153791229219827359'
    xmlns='jabber:client'>
  &lt;query queryid='16968103618784432768'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>3&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"12153791229219827359">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"16968103618784432768">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 3},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.453 ***</b><a id=e-13577 class="link-to-entry" href="#e-13577">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281349015'
          queryid='16968103618784432768'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"16968103618784432768">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.453 ***</b><a id=e-13578 class="link-to-entry" href="#e-13578">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392014'
          queryid='16968103618784432768'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"16968103618784432768">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.454 ***</b><a id=e-13579 class="link-to-entry" href="#e-13579">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392282'
          queryid='16968103618784432768'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"16968103618784432768">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.454 ***</b><a id=e-13580 class="link-to-entry" href="#e-13580">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='12153791229219827359'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392282&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"12153791229219827359">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392282">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.454 ***</b><a id=e-13581 class="link-to-entry" href="#e-13581">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9510594363960721712'
    xmlns='jabber:client'>
  &lt;query queryid='3056583679247063377'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>4&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"9510594363960721712">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"3056583679247063377">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 4},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.455 ***</b><a id=e-13582 class="link-to-entry" href="#e-13582">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281349015'
          queryid='3056583679247063377'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"3056583679247063377">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.455 ***</b><a id=e-13583 class="link-to-entry" href="#e-13583">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392014'
          queryid='3056583679247063377'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"3056583679247063377">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.456 ***</b><a id=e-13584 class="link-to-entry" href="#e-13584">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392282'
          queryid='3056583679247063377'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"3056583679247063377">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.456 ***</b><a id=e-13585 class="link-to-entry" href="#e-13585">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392614'
          queryid='3056583679247063377'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"3056583679247063377">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.456 ***</b><a id=e-13586 class="link-to-entry" href="#e-13586">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='9510594363960721712'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392614&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"9510594363960721712">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392614">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.456 ***</b><a id=e-13587 class="link-to-entry" href="#e-13587">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2608885322051599383'
    xmlns='jabber:client'>
  &lt;query queryid='801402357562895127'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>5&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2608885322051599383">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"801402357562895127">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 5},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.457 ***</b><a id=e-13588 class="link-to-entry" href="#e-13588">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281349015'
          queryid='801402357562895127'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"801402357562895127">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.457 ***</b><a id=e-13589 class="link-to-entry" href="#e-13589">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392014'
          queryid='801402357562895127'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"801402357562895127">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.458 ***</b><a id=e-13590 class="link-to-entry" href="#e-13590">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392282'
          queryid='801402357562895127'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"801402357562895127">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.458 ***</b><a id=e-13591 class="link-to-entry" href="#e-13591">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392614'
          queryid='801402357562895127'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"801402357562895127">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.458 ***</b><a id=e-13592 class="link-to-entry" href="#e-13592">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392888'
          queryid='801402357562895127'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"801402357562895127">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.459 ***</b><a id=e-13593 class="link-to-entry" href="#e-13593">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='2608885322051599383'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"2608885322051599383">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.459 ***</b><a id=e-13594 class="link-to-entry" href="#e-13594">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16607563399869642900'
    xmlns='jabber:client'>
  &lt;query queryid='4589047156718137606'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>6&lt;/max>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"16607563399869642900">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"4589047156718137606">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 6},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.460 ***</b><a id=e-13595 class="link-to-entry" href="#e-13595">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281349015'
          queryid='4589047156718137606'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14163417260903804646'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281349015'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281349015'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.349015Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4589047156718137606">>,
    id = <<"1708615281349015">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,349015},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14163417260903804646">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281349015">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.460 ***</b><a id=e-13596 class="link-to-entry" href="#e-13596">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392014'
          queryid='4589047156718137606'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18055763760486564857'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392014'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392014'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392014Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4589047156718137606">>,
    id = <<"1708615281392014">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392014},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18055763760486564857">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392014">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.461 ***</b><a id=e-13597 class="link-to-entry" href="#e-13597">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392282'
          queryid='4589047156718137606'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='10565982804403449783'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392282'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392282'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392282Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4589047156718137606">>,
    id = <<"1708615281392282">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392282},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"10565982804403449783">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392282">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.461 ***</b><a id=e-13598 class="link-to-entry" href="#e-13598">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392614'
          queryid='4589047156718137606'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='12719574010195149419'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392614'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392614'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392614Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4589047156718137606">>,
    id = <<"1708615281392614">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392614},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"12719574010195149419">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392614">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.461 ***</b><a id=e-13599 class="link-to-entry" href="#e-13599">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1708615281392888'
          queryid='4589047156718137606'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14556214418740697582'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                  id='1708615281392888'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
                   id='1708615281392888'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mnesia.localhost'
             stamp='2024-02-22T15:21:21.392888Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mnesia.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mnesia.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4589047156718137606">>,
    id = <<"1708615281392888">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1708,615281,392888},
         from =
          #jid{
           user = <<>>,server = <<"mnesia.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mnesia.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14556214418740697582">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mnesia.localhost">>},
               {<<"id">>,<<"1708615281392888">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2024-02-22 15:21:21.461 ***</b><a id=e-13600 class="link-to-entry" href="#e-13600">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mnesia.localhost'
    type='result'
    id='16607563399869642900'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1708615281349015&lt;/first>
      &lt;last>1708615281392888&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"16607563399869642900">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mnesia.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mnesia.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1708615281349015">>},
                     index = undefined,last = <<"1708615281392888">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2024-02-22 15:21:21
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {csi,true},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"965268297176949794"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.90393003&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {peer,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mnesia.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mnesia.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {peer_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {user,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mnesia.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mnesia.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mnesia.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mnesia.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,slave},
                     {watchdog,&lt;0.34476.0&gt;},
                     {event_relay,&lt;0.34468.0&gt;},
                     {server,&lt;&lt;"mnesia.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/ejabberd_suite.mam_query_rsm_max_slave.14210.html"},
                     {tc_group_properties,[{name,mam_query_rsm_max},parallel]},
                     {tc_group_path,
                         [[{name,mam_master_slave},sequence],
                          [{name,mnesia},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1708615122@676-prefiks-master-1b5a9c1.2024-02-22_15.19.52/lib.ejabberd.logs/run.2024-02-22_15.19.52/log_private/"}]
