<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:mam_query_rsm_after_slave result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#mam_query_rsm_after_slave-1">ejabberd_SUITE:mam_query_rsm_after_slave/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.40770.0&gt;},
     {watchdog,&lt;0.40769.0&gt;},
     {server,&lt;&lt;"mysql.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1692966789@563-prefiks-master-c0e7774.2023-08-25_12.35.20/lib.ejabberd.logs/run.2023-08-25_12.35.20/ejabberd_suite.mam_query_rsm_after_slave.30258.html"},
     {tc_group_properties,[{name,mam_query_rsm_after},parallel]},
     {tc_group_path,[[{name,mam_master_slave},sequence],
                     [{name,mysql},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1692966789@563-prefiks-master-c0e7774.2023-08-25_12.35.20/lib.ejabberd.logs/run.2023-08-25_12.35.20/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1692966789@563-prefiks-master-c0e7774.2023-08-25_12.35.20"

=== Started at 2023-08-25 12:40:50

<br />

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.355 ***</b><a id=e-45052 class="link-to-entry" href="#e-45052">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='mysql.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"mysql.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"mysql.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.358 ***</b><a id=e-45058 class="link-to-entry" href="#e-45058">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='15256624492067967382'
               version='1.0'
               xml:lang='en'
               from='mysql.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"mysql.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"mysql.localhost">>,lresource = <<>>},
              to = undefined,id = <<"15256624492067967382">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.358 ***</b><a id=e-45059 class="link-to-entry" href="#e-45059">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.359 ***</b><a id=e-45060 class="link-to-entry" href="#e-45060">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XEBteXNxbC5sb2NhbGhvc3QAdGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,109,
                    121,115,113,108,46,108,111,99,97,108,104,111,115,116,0,
                    116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,112,97,
                    115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,41,39,
                    34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.361 ***</b><a id=e-45061 class="link-to-entry" href="#e-45061">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.361 ***</b><a id=e-45062 class="link-to-entry" href="#e-45062">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='mysql.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"mysql.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"mysql.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.362 ***</b><a id=e-45063 class="link-to-entry" href="#e-45063">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='12829230118150249045'
               version='1.0'
               xml:lang='en'
               from='mysql.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"mysql.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"mysql.localhost">>,lresource = <<>>},
              to = undefined,id = <<"12829230118150249045">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.363 ***</b><a id=e-45064 class="link-to-entry" href="#e-45064">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='RsZUO/k2xwmyvdC8vIjQDsA1fow='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"RsZUO/k2xwmyvdC8vIjQDsA1fow=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.363 ***</b><a id=e-45065 class="link-to-entry" href="#e-45065">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14304486637616416420'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"14304486637616416420">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.370 ***</b><a id=e-45070 class="link-to-entry" href="#e-45070">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='14304486637616416420'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"14304486637616416420">>,type = result,lang = <<>>,
    from = undefined,to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.372 ***</b><a id=e-45075 class="link-to-entry" href="#e-45075">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15384885195746566134'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"15384885195746566134">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.377 ***</b><a id=e-45078 class="link-to-entry" href="#e-45078">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='15384885195746566134'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15384885195746566134">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.378 ***</b><a id=e-45079 class="link-to-entry" href="#e-45079">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1212843104900769090'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"1212843104900769090">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.380 ***</b><a id=e-45080 class="link-to-entry" href="#e-45080">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1212843104900769090'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"1212843104900769090">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.380 ***</b><a id=e-45081 class="link-to-entry" href="#e-45081">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17151904238771411971'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"17151904238771411971">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.382 ***</b><a id=e-45082 class="link-to-entry" href="#e-45082">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17151904238771411971'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"17151904238771411971">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.383 ***</b><a id=e-45083 class="link-to-entry" href="#e-45083">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5218162037824859842'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"5218162037824859842">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.384 ***</b><a id=e-45085 class="link-to-entry" href="#e-45085">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5218162037824859842'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"5218162037824859842">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.384 ***</b><a id=e-45086 class="link-to-entry" href="#e-45086">&#x1f517;</a>
SENT:
&lt;presence id='12970497170991784366'
          xmlns='jabber:client'/>

#presence{id = <<"12970497170991784366">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.392 ***</b><a id=e-45087 class="link-to-entry" href="#e-45087">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='12970497170991784366'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"12970497170991784366">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"mysql.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"mysql.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"mysql.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"mysql.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.399 ***</b><a id=e-45094 class="link-to-entry" href="#e-45094">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16352279905370333293'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
            id='1692967250397163'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
             id='1692967250397163'/>
  &lt;body xml:lang='en'>1&lt;/body>
&lt;/message>

#message{
    id = <<"16352279905370333293">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"1">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250397163">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250397163">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.443 ***</b><a id=e-45095 class="link-to-entry" href="#e-45095">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18362945502344403358'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
            id='1692967250437447'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
             id='1692967250437447'/>
  &lt;body xml:lang='en'>2&lt;/body>
&lt;/message>

#message{
    id = <<"18362945502344403358">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"2">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250437447">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250437447">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.448 ***</b><a id=e-45096 class="link-to-entry" href="#e-45096">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3715087372166774087'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
            id='1692967250441331'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
             id='1692967250441331'/>
  &lt;body xml:lang='en'>3&lt;/body>
&lt;/message>

#message{
    id = <<"3715087372166774087">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"3">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250441331">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250441331">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.453 ***</b><a id=e-45097 class="link-to-entry" href="#e-45097">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14951208919576668600'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
            id='1692967250444811'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
             id='1692967250444811'/>
  &lt;body xml:lang='en'>4&lt;/body>
&lt;/message>

#message{
    id = <<"14951208919576668600">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"4">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250444811">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250444811">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.457 ***</b><a id=e-45098 class="link-to-entry" href="#e-45098">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16771272771832335893'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
            id='1692967250450557'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
             id='1692967250450557'/>
  &lt;body xml:lang='en'>5&lt;/body>
&lt;/message>

#message{
    id = <<"16771272771832335893">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"5">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250450557">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"mysql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"mysql.localhost">>,lresource = <<>>},
             id = <<"1692967250450557">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.457 ***</b><a id=e-45099 class="link-to-entry" href="#e-45099">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1864787715628014096'
    xmlns='jabber:client'>
  &lt;query queryid='17602774766905834743'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'/>
  &lt;/query>
&lt;/iq>

#iq{id = <<"1864787715628014096">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"17602774766905834743">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.462 ***</b><a id=e-45106 class="link-to-entry" href="#e-45106">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250397163'
          queryid='17602774766905834743'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16352279905370333293'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250397163'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250397163'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.397163Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17602774766905834743">>,
    id = <<"1692967250397163">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,397163},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16352279905370333293">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.463 ***</b><a id=e-45108 class="link-to-entry" href="#e-45108">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250437447'
          queryid='17602774766905834743'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17602774766905834743">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.463 ***</b><a id=e-45109 class="link-to-entry" href="#e-45109">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250441331'
          queryid='17602774766905834743'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17602774766905834743">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.464 ***</b><a id=e-45110 class="link-to-entry" href="#e-45110">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250444811'
          queryid='17602774766905834743'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17602774766905834743">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.465 ***</b><a id=e-45111 class="link-to-entry" href="#e-45111">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250450557'
          queryid='17602774766905834743'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"17602774766905834743">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.465 ***</b><a id=e-45112 class="link-to-entry" href="#e-45112">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1864787715628014096'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='17602774766905834743'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250397163&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"1864787715628014096">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"17602774766905834743">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250397163">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.465 ***</b><a id=e-45113 class="link-to-entry" href="#e-45113">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='14573177374031959103'
    xmlns='jabber:client'>
  &lt;query queryid='2021335447125647513'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250397163&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"14573177374031959103">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"2021335447125647513">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250397163">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.471 ***</b><a id=e-45120 class="link-to-entry" href="#e-45120">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250437447'
          queryid='2021335447125647513'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2021335447125647513">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.472 ***</b><a id=e-45121 class="link-to-entry" href="#e-45121">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250441331'
          queryid='2021335447125647513'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2021335447125647513">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.472 ***</b><a id=e-45122 class="link-to-entry" href="#e-45122">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250444811'
          queryid='2021335447125647513'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2021335447125647513">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.473 ***</b><a id=e-45123 class="link-to-entry" href="#e-45123">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250450557'
          queryid='2021335447125647513'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2021335447125647513">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.473 ***</b><a id=e-45124 class="link-to-entry" href="#e-45124">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='14573177374031959103'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='2021335447125647513'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250437447&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"14573177374031959103">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"2021335447125647513">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250437447">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.473 ***</b><a id=e-45125 class="link-to-entry" href="#e-45125">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='903166158048702369'
    xmlns='jabber:client'>
  &lt;query queryid='2241723023648777529'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250437447&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"903166158048702369">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"2241723023648777529">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250437447">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.476 ***</b><a id=e-45131 class="link-to-entry" href="#e-45131">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250441331'
          queryid='2241723023648777529'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2241723023648777529">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.477 ***</b><a id=e-45132 class="link-to-entry" href="#e-45132">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250444811'
          queryid='2241723023648777529'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2241723023648777529">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.478 ***</b><a id=e-45133 class="link-to-entry" href="#e-45133">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250450557'
          queryid='2241723023648777529'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2241723023648777529">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.478 ***</b><a id=e-45134 class="link-to-entry" href="#e-45134">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='903166158048702369'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='2241723023648777529'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250441331&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"903166158048702369">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"2241723023648777529">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250441331">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.479 ***</b><a id=e-45136 class="link-to-entry" href="#e-45136">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5568243561187935464'
    xmlns='jabber:client'>
  &lt;query queryid='1120072914348748055'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250441331&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5568243561187935464">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1120072914348748055">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250441331">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.482 ***</b><a id=e-45140 class="link-to-entry" href="#e-45140">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250444811'
          queryid='1120072914348748055'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"1120072914348748055">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.483 ***</b><a id=e-45141 class="link-to-entry" href="#e-45141">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250450557'
          queryid='1120072914348748055'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"1120072914348748055">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.483 ***</b><a id=e-45142 class="link-to-entry" href="#e-45142">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5568243561187935464'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='1120072914348748055'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250444811&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5568243561187935464">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1120072914348748055">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250444811">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.483 ***</b><a id=e-45144 class="link-to-entry" href="#e-45144">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5171207980426642529'
    xmlns='jabber:client'>
  &lt;query queryid='5024032066557664329'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250444811&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5171207980426642529">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"5024032066557664329">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250444811">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.486 ***</b><a id=e-45147 class="link-to-entry" href="#e-45147">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1692967250450557'
          queryid='5024032066557664329'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"5024032066557664329">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.486 ***</b><a id=e-45149 class="link-to-entry" href="#e-45149">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5171207980426642529'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='5024032066557664329'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250450557&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5171207980426642529">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"5024032066557664329">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250450557">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.487 ***</b><a id=e-45151 class="link-to-entry" href="#e-45151">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='5109735137796162875'
    xmlns='jabber:client'>
  &lt;query queryid='5879973385279322380'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250450557&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5109735137796162875">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"5879973385279322380">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250450557">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.490 ***</b><a id=e-45153 class="link-to-entry" href="#e-45153">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5109735137796162875'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='5879973385279322380'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5109735137796162875">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"5879973385279322380">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.490 ***</b><a id=e-45155 class="link-to-entry" href="#e-45155">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7330678031368529832'
    xmlns='jabber:client'>
  &lt;query queryid='3127820386229192037'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'/>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7330678031368529832">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"3127820386229192037">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.493 ***</b><a id=e-45160 class="link-to-entry" href="#e-45160">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7330678031368529832'/>

#iq{id = <<"7330678031368529832">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.494 ***</b><a id=e-45163 class="link-to-entry" href="#e-45163">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250397163'
          queryid='3127820386229192037'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16352279905370333293'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250397163'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250397163'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.397163Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"3127820386229192037">>,
    id = <<"1692967250397163">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,397163},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16352279905370333293">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.495 ***</b><a id=e-45164 class="link-to-entry" href="#e-45164">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250437447'
          queryid='3127820386229192037'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"3127820386229192037">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.496 ***</b><a id=e-45165 class="link-to-entry" href="#e-45165">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250441331'
          queryid='3127820386229192037'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"3127820386229192037">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.496 ***</b><a id=e-45166 class="link-to-entry" href="#e-45166">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250444811'
          queryid='3127820386229192037'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"3127820386229192037">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.497 ***</b><a id=e-45167 class="link-to-entry" href="#e-45167">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250450557'
          queryid='3127820386229192037'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"3127820386229192037">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.497 ***</b><a id=e-45169 class="link-to-entry" href="#e-45169">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='3127820386229192037'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250397163&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"3127820386229192037">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250397163">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.498 ***</b><a id=e-45170 class="link-to-entry" href="#e-45170">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2071093176704185360'
    xmlns='jabber:client'>
  &lt;query queryid='8159582776307292830'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250397163&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2071093176704185360">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"8159582776307292830">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250397163">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.501 ***</b><a id=e-45177 class="link-to-entry" href="#e-45177">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='2071093176704185360'/>

#iq{id = <<"2071093176704185360">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.501 ***</b><a id=e-45178 class="link-to-entry" href="#e-45178">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250437447'
          queryid='8159582776307292830'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8159582776307292830">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.502 ***</b><a id=e-45179 class="link-to-entry" href="#e-45179">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250441331'
          queryid='8159582776307292830'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8159582776307292830">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.502 ***</b><a id=e-45180 class="link-to-entry" href="#e-45180">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250444811'
          queryid='8159582776307292830'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8159582776307292830">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.503 ***</b><a id=e-45181 class="link-to-entry" href="#e-45181">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250450557'
          queryid='8159582776307292830'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8159582776307292830">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.503 ***</b><a id=e-45182 class="link-to-entry" href="#e-45182">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='8159582776307292830'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250437447&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"8159582776307292830">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250437447">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.504 ***</b><a id=e-45184 class="link-to-entry" href="#e-45184">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7560563417503248684'
    xmlns='jabber:client'>
  &lt;query queryid='8737112890979441395'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250437447&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7560563417503248684">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"8737112890979441395">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250437447">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.508 ***</b><a id=e-45190 class="link-to-entry" href="#e-45190">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7560563417503248684'/>

#iq{id = <<"7560563417503248684">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.509 ***</b><a id=e-45191 class="link-to-entry" href="#e-45191">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250441331'
          queryid='8737112890979441395'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8737112890979441395">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.510 ***</b><a id=e-45192 class="link-to-entry" href="#e-45192">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250444811'
          queryid='8737112890979441395'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8737112890979441395">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.511 ***</b><a id=e-45194 class="link-to-entry" href="#e-45194">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250450557'
          queryid='8737112890979441395'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"8737112890979441395">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.511 ***</b><a id=e-45196 class="link-to-entry" href="#e-45196">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='8737112890979441395'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250441331&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"8737112890979441395">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250441331">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.512 ***</b><a id=e-45199 class="link-to-entry" href="#e-45199">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2873186659910074686'
    xmlns='jabber:client'>
  &lt;query queryid='7925702577961024293'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250441331&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2873186659910074686">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"7925702577961024293">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250441331">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.515 ***</b><a id=e-45201 class="link-to-entry" href="#e-45201">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='2873186659910074686'/>

#iq{id = <<"2873186659910074686">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.515 ***</b><a id=e-45202 class="link-to-entry" href="#e-45202">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250444811'
          queryid='7925702577961024293'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"7925702577961024293">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.516 ***</b><a id=e-45204 class="link-to-entry" href="#e-45204">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250450557'
          queryid='7925702577961024293'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"7925702577961024293">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.516 ***</b><a id=e-45205 class="link-to-entry" href="#e-45205">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='7925702577961024293'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250444811&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"7925702577961024293">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250444811">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.517 ***</b><a id=e-45208 class="link-to-entry" href="#e-45208">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='3154270945478243950'
    xmlns='jabber:client'>
  &lt;query queryid='4554229185071231970'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250444811&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"3154270945478243950">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"4554229185071231970">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250444811">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.518 ***</b><a id=e-45210 class="link-to-entry" href="#e-45210">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='3154270945478243950'/>

#iq{id = <<"3154270945478243950">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.519 ***</b><a id=e-45212 class="link-to-entry" href="#e-45212">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1692967250450557'
          queryid='4554229185071231970'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"4554229185071231970">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.520 ***</b><a id=e-45214 class="link-to-entry" href="#e-45214">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='4554229185071231970'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250450557&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"4554229185071231970">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250450557">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.520 ***</b><a id=e-45216 class="link-to-entry" href="#e-45216">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17317538831282634339'
    xmlns='jabber:client'>
  &lt;query queryid='5855617533090911596'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250450557&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"17317538831282634339">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"5855617533090911596">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250450557">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.525 ***</b><a id=e-45219 class="link-to-entry" href="#e-45219">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17317538831282634339'/>

#iq{id = <<"17317538831282634339">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.525 ***</b><a id=e-45221 class="link-to-entry" href="#e-45221">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='5855617533090911596'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"5855617533090911596">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.526 ***</b><a id=e-45223 class="link-to-entry" href="#e-45223">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='12600553701669730206'
    xmlns='jabber:client'>
  &lt;query queryid='11755916123499514280'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'/>
  &lt;/query>
&lt;/iq>

#iq{id = <<"12600553701669730206">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"11755916123499514280">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.531 ***</b><a id=e-45227 class="link-to-entry" href="#e-45227">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250397163'
          queryid='11755916123499514280'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16352279905370333293'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250397163'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250397163'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.397163Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11755916123499514280">>,
    id = <<"1692967250397163">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,397163},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16352279905370333293">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.532 ***</b><a id=e-45228 class="link-to-entry" href="#e-45228">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250437447'
          queryid='11755916123499514280'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11755916123499514280">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.533 ***</b><a id=e-45230 class="link-to-entry" href="#e-45230">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250441331'
          queryid='11755916123499514280'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11755916123499514280">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.533 ***</b><a id=e-45232 class="link-to-entry" href="#e-45232">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250444811'
          queryid='11755916123499514280'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11755916123499514280">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.534 ***</b><a id=e-45234 class="link-to-entry" href="#e-45234">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250450557'
          queryid='11755916123499514280'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"11755916123499514280">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.534 ***</b><a id=e-45235 class="link-to-entry" href="#e-45235">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='12600553701669730206'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250397163&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"12600553701669730206">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250397163">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.535 ***</b><a id=e-45238 class="link-to-entry" href="#e-45238">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10595990107143232931'
    xmlns='jabber:client'>
  &lt;query queryid='12205424239488920948'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250397163&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"10595990107143232931">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"12205424239488920948">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250397163">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.538 ***</b><a id=e-45241 class="link-to-entry" href="#e-45241">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250437447'
          queryid='12205424239488920948'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"12205424239488920948">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.539 ***</b><a id=e-45245 class="link-to-entry" href="#e-45245">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250441331'
          queryid='12205424239488920948'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"12205424239488920948">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.540 ***</b><a id=e-45246 class="link-to-entry" href="#e-45246">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250444811'
          queryid='12205424239488920948'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"12205424239488920948">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.540 ***</b><a id=e-45248 class="link-to-entry" href="#e-45248">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250450557'
          queryid='12205424239488920948'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"12205424239488920948">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.541 ***</b><a id=e-45249 class="link-to-entry" href="#e-45249">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='10595990107143232931'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250437447&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"10595990107143232931">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250437447">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.541 ***</b><a id=e-45250 class="link-to-entry" href="#e-45250">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5528091595803895203'
    xmlns='jabber:client'>
  &lt;query queryid='6561709856220538488'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250437447&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5528091595803895203">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"6561709856220538488">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250437447">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.545 ***</b><a id=e-45255 class="link-to-entry" href="#e-45255">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250441331'
          queryid='6561709856220538488'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"6561709856220538488">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.546 ***</b><a id=e-45256 class="link-to-entry" href="#e-45256">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250444811'
          queryid='6561709856220538488'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"6561709856220538488">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.547 ***</b><a id=e-45257 class="link-to-entry" href="#e-45257">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250450557'
          queryid='6561709856220538488'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"6561709856220538488">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.548 ***</b><a id=e-45258 class="link-to-entry" href="#e-45258">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='5528091595803895203'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250441331&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"5528091595803895203">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250441331">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.548 ***</b><a id=e-45261 class="link-to-entry" href="#e-45261">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11887317653445229654'
    xmlns='jabber:client'>
  &lt;query queryid='15361739975994478852'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250441331&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11887317653445229654">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"15361739975994478852">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250441331">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.551 ***</b><a id=e-45263 class="link-to-entry" href="#e-45263">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250444811'
          queryid='15361739975994478852'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"15361739975994478852">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.552 ***</b><a id=e-45265 class="link-to-entry" href="#e-45265">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250450557'
          queryid='15361739975994478852'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"15361739975994478852">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.552 ***</b><a id=e-45267 class="link-to-entry" href="#e-45267">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='11887317653445229654'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250444811&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"11887317653445229654">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250444811">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.552 ***</b><a id=e-45268 class="link-to-entry" href="#e-45268">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='1191735160702956524'
    xmlns='jabber:client'>
  &lt;query queryid='2611044245077261092'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250444811&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"1191735160702956524">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"2611044245077261092">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250444811">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.556 ***</b><a id=e-45269 class="link-to-entry" href="#e-45269">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1692967250450557'
          queryid='2611044245077261092'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"2611044245077261092">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.556 ***</b><a id=e-45271 class="link-to-entry" href="#e-45271">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='1191735160702956524'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250450557&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"1191735160702956524">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250450557">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.556 ***</b><a id=e-45272 class="link-to-entry" href="#e-45272">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8960940282471321781'
    xmlns='jabber:client'>
  &lt;query queryid='9401946269813430461'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250450557&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8960940282471321781">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"9401946269813430461">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250450557">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.560 ***</b><a id=e-45278 class="link-to-entry" href="#e-45278">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='8960940282471321781'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"8960940282471321781">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_fin{xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
                        rsm = #rsm_set{'after' = undefined,before = undefined,
                                       count = 5,first = undefined,
                                       index = undefined,last = undefined,
                                       max = undefined},
                        stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.560 ***</b><a id=e-45280 class="link-to-entry" href="#e-45280">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='16986058346810175517'
    xmlns='jabber:client'>
  &lt;query queryid='6108009333510124029'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'/>
  &lt;/query>
&lt;/iq>

#iq{id = <<"16986058346810175517">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"6108009333510124029">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.564 ***</b><a id=e-45282 class="link-to-entry" href="#e-45282">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250397163'
          queryid='6108009333510124029'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16352279905370333293'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250397163'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250397163'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.397163Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6108009333510124029">>,
    id = <<"1692967250397163">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,397163},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16352279905370333293">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250397163">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.565 ***</b><a id=e-45284 class="link-to-entry" href="#e-45284">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250437447'
          queryid='6108009333510124029'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6108009333510124029">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.565 ***</b><a id=e-45286 class="link-to-entry" href="#e-45286">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250441331'
          queryid='6108009333510124029'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6108009333510124029">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.566 ***</b><a id=e-45289 class="link-to-entry" href="#e-45289">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250444811'
          queryid='6108009333510124029'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6108009333510124029">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.567 ***</b><a id=e-45291 class="link-to-entry" href="#e-45291">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250450557'
          queryid='6108009333510124029'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6108009333510124029">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.567 ***</b><a id=e-45292 class="link-to-entry" href="#e-45292">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='16986058346810175517'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250397163&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"16986058346810175517">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250397163">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.567 ***</b><a id=e-45293 class="link-to-entry" href="#e-45293">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4701098403026860698'
    xmlns='jabber:client'>
  &lt;query queryid='11989638729471792697'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250397163&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"4701098403026860698">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"11989638729471792697">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250397163">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.570 ***</b><a id=e-45295 class="link-to-entry" href="#e-45295">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250437447'
          queryid='11989638729471792697'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='18362945502344403358'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250437447'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250437447'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.437447Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"11989638729471792697">>,
    id = <<"1692967250437447">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,437447},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"18362945502344403358">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250437447">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.571 ***</b><a id=e-45297 class="link-to-entry" href="#e-45297">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250441331'
          queryid='11989638729471792697'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"11989638729471792697">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.571 ***</b><a id=e-45298 class="link-to-entry" href="#e-45298">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250444811'
          queryid='11989638729471792697'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"11989638729471792697">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.572 ***</b><a id=e-45300 class="link-to-entry" href="#e-45300">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250450557'
          queryid='11989638729471792697'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"11989638729471792697">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.572 ***</b><a id=e-45302 class="link-to-entry" href="#e-45302">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='4701098403026860698'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250437447&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"4701098403026860698">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250437447">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.572 ***</b><a id=e-45304 class="link-to-entry" href="#e-45304">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9402912390385580131'
    xmlns='jabber:client'>
  &lt;query queryid='1429590949085916334'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250437447&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"9402912390385580131">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"1429590949085916334">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250437447">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.576 ***</b><a id=e-45305 class="link-to-entry" href="#e-45305">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250441331'
          queryid='1429590949085916334'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='3715087372166774087'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250441331'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250441331'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.441331Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"1429590949085916334">>,
    id = <<"1692967250441331">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,441331},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"3715087372166774087">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250441331">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.576 ***</b><a id=e-45307 class="link-to-entry" href="#e-45307">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250444811'
          queryid='1429590949085916334'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"1429590949085916334">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.576 ***</b><a id=e-45308 class="link-to-entry" href="#e-45308">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250450557'
          queryid='1429590949085916334'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"1429590949085916334">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.576 ***</b><a id=e-45309 class="link-to-entry" href="#e-45309">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='9402912390385580131'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250441331&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"9402912390385580131">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250441331">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.577 ***</b><a id=e-45311 class="link-to-entry" href="#e-45311">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9799765714255349821'
    xmlns='jabber:client'>
  &lt;query queryid='4505814021209049361'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250441331&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"9799765714255349821">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"4505814021209049361">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250441331">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.580 ***</b><a id=e-45314 class="link-to-entry" href="#e-45314">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250444811'
          queryid='4505814021209049361'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14951208919576668600'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250444811'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250444811'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.444811Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4505814021209049361">>,
    id = <<"1692967250444811">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,444811},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14951208919576668600">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250444811">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.580 ***</b><a id=e-45315 class="link-to-entry" href="#e-45315">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250450557'
          queryid='4505814021209049361'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4505814021209049361">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.580 ***</b><a id=e-45316 class="link-to-entry" href="#e-45316">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='9799765714255349821'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250444811&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"9799765714255349821">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250444811">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.580 ***</b><a id=e-45318 class="link-to-entry" href="#e-45318">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17734056995133817303'
    xmlns='jabber:client'>
  &lt;query queryid='5427925292296118233'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250444811&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"17734056995133817303">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"5427925292296118233">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250444811">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.582 ***</b><a id=e-45321 class="link-to-entry" href="#e-45321">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1692967250450557'
          queryid='5427925292296118233'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='16771272771832335893'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                  id='1692967250450557'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
                   id='1692967250450557'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='mysql.localhost'
             stamp='2023-08-25T12:40:50.450557Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"mysql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"mysql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"5427925292296118233">>,
    id = <<"1692967250450557">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1692,967250,450557},
         from =
          #jid{
           user = <<>>,server = <<"mysql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"mysql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@mysql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"16771272771832335893">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@mysql.localhost">>},
               {<<"id">>,<<"1692967250450557">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.585 ***</b><a id=e-45322 class="link-to-entry" href="#e-45322">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='17734056995133817303'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1692967250450557&lt;/first>
      &lt;last>1692967250450557&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"17734056995133817303">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"mysql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"mysql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1692967250450557">>},
                     index = undefined,last = <<"1692967250450557">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.586 ***</b><a id=e-45324 class="link-to-entry" href="#e-45324">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7052181163019669169'
    xmlns='jabber:client'>
  &lt;query queryid='18347156651708272159'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;after>1692967250450557&lt;/after>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7052181163019669169">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"18347156651708272159">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = <<"1692967250450557">>,before = undefined,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-08-25 12:40:50.594 ***</b><a id=e-45325 class="link-to-entry" href="#e-45325">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@mysql.localhost'
    type='result'
    id='7052181163019669169'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"7052181163019669169">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"mysql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"mysql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"mysql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"mysql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_fin{xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
                        rsm = #rsm_set{'after' = undefined,before = undefined,
                                       count = 5,first = undefined,
                                       index = undefined,last = undefined,
                                       max = undefined},
                        stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2023-08-25 12:40:50
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"12829230118150249045"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.122050307&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {peer,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {peer_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {user,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"mysql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,slave},
                     {watchdog,&lt;0.40782.0&gt;},
                     {event_relay,&lt;0.40770.0&gt;},
                     {server,&lt;&lt;"mysql.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1692966789@563-prefiks-master-c0e7774.2023-08-25_12.35.20/lib.ejabberd.logs/run.2023-08-25_12.35.20/ejabberd_suite.mam_query_rsm_after_slave.30258.html"},
                     {tc_group_properties,
                         [{name,mam_query_rsm_after},parallel]},
                     {tc_group_path,
                         [[{name,mam_master_slave},sequence],
                          [{name,mysql},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1692966789@563-prefiks-master-c0e7774.2023-08-25_12.35.20/lib.ejabberd.logs/run.2023-08-25_12.35.20/log_private/"}]
