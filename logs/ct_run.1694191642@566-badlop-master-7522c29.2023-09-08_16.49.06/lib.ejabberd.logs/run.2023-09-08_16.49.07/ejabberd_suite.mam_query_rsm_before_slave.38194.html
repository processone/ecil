<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:mam_query_rsm_before_slave result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#mam_query_rsm_before_slave-1">ejabberd_SUITE:mam_query_rsm_before_slave/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.43394.0&gt;},
     {watchdog,&lt;0.43393.0&gt;},
     {server,&lt;&lt;"pgsql.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/ejabberd_suite.mam_query_rsm_before_slave.38194.html"},
     {tc_group_properties,[{name,mam_query_rsm_before},parallel]},
     {tc_group_path,[[{name,mam_master_slave},sequence],
                     [{name,pgsql},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06"

=== Started at 2023-09-08 16:56:32

<br />

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.879 ***</b><a id=e-59509 class="link-to-entry" href="#e-59509">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='pgsql.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"pgsql.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"pgsql.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.880 ***</b><a id=e-59510 class="link-to-entry" href="#e-59510">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='4426974031889264761'
               version='1.0'
               xml:lang='en'
               from='pgsql.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"pgsql.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"pgsql.localhost">>,lresource = <<>>},
              to = undefined,id = <<"4426974031889264761">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.880 ***</b><a id=e-59511 class="link-to-entry" href="#e-59511">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.880 ***</b><a id=e-59512 class="link-to-entry" href="#e-59512">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XEBwZ3NxbC5sb2NhbGhvc3QAdGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,112,
                    103,115,113,108,46,108,111,99,97,108,104,111,115,116,0,
                    116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,112,97,
                    115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,41,39,
                    34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.881 ***</b><a id=e-59514 class="link-to-entry" href="#e-59514">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.881 ***</b><a id=e-59515 class="link-to-entry" href="#e-59515">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='pgsql.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"pgsql.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"pgsql.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.881 ***</b><a id=e-59516 class="link-to-entry" href="#e-59516">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='883448102515853380'
               version='1.0'
               xml:lang='en'
               from='pgsql.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"pgsql.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"pgsql.localhost">>,lresource = <<>>},
              to = undefined,id = <<"883448102515853380">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.882 ***</b><a id=e-59520 class="link-to-entry" href="#e-59520">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='RsZUO/k2xwmyvdC8vIjQDsA1fow='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"RsZUO/k2xwmyvdC8vIjQDsA1fow=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.882 ***</b><a id=e-59521 class="link-to-entry" href="#e-59521">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11286888212861791445'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"11286888212861791445">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.885 ***</b><a id=e-59526 class="link-to-entry" href="#e-59526">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='11286888212861791445'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"11286888212861791445">>,type = result,lang = <<>>,
    from = undefined,to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.886 ***</b><a id=e-59528 class="link-to-entry" href="#e-59528">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9269059105535953016'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"9269059105535953016">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.888 ***</b><a id=e-59530 class="link-to-entry" href="#e-59530">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='9269059105535953016'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"9269059105535953016">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.888 ***</b><a id=e-59531 class="link-to-entry" href="#e-59531">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10956933459401213698'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"10956933459401213698">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.889 ***</b><a id=e-59533 class="link-to-entry" href="#e-59533">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='10956933459401213698'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"10956933459401213698">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.889 ***</b><a id=e-59534 class="link-to-entry" href="#e-59534">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8092974913327584111'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"8092974913327584111">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.891 ***</b><a id=e-59537 class="link-to-entry" href="#e-59537">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='8092974913327584111'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"8092974913327584111">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.891 ***</b><a id=e-59538 class="link-to-entry" href="#e-59538">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='811306097035715582'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"811306097035715582">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.893 ***</b><a id=e-59541 class="link-to-entry" href="#e-59541">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='811306097035715582'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"811306097035715582">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.893 ***</b><a id=e-59542 class="link-to-entry" href="#e-59542">&#x1f517;</a>
SENT:
&lt;presence id='12170836160444572780'
          xmlns='jabber:client'/>

#presence{id = <<"12170836160444572780">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.898 ***</b><a id=e-59547 class="link-to-entry" href="#e-59547">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='12170836160444572780'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"12170836160444572780">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"pgsql.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"pgsql.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"pgsql.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"pgsql.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.901 ***</b><a id=e-59555 class="link-to-entry" href="#e-59555">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7516105863117531966'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
            id='1694192192900704'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
             id='1694192192900704'/>
  &lt;body xml:lang='en'>1&lt;/body>
&lt;/message>

#message{
    id = <<"7516105863117531966">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"1">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192900704">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192900704">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.944 ***</b><a id=e-59556 class="link-to-entry" href="#e-59556">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7209438657694800272'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
            id='1694192192942303'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
             id='1694192192942303'/>
  &lt;body xml:lang='en'>2&lt;/body>
&lt;/message>

#message{
    id = <<"7209438657694800272">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"2">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192942303">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192942303">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.945 ***</b><a id=e-59557 class="link-to-entry" href="#e-59557">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14429918695264977350'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
            id='1694192192943166'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
             id='1694192192943166'/>
  &lt;body xml:lang='en'>3&lt;/body>
&lt;/message>

#message{
    id = <<"14429918695264977350">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"3">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192943166">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192943166">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.947 ***</b><a id=e-59558 class="link-to-entry" href="#e-59558">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13014608714448361426'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
            id='1694192192944466'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
             id='1694192192944466'/>
  &lt;body xml:lang='en'>4&lt;/body>
&lt;/message>

#message{
    id = <<"13014608714448361426">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"4">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192944466">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192944466">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.948 ***</b><a id=e-59559 class="link-to-entry" href="#e-59559">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7922064770823038950'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
            id='1694192192946346'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
             id='1694192192946346'/>
  &lt;body xml:lang='en'>5&lt;/body>
&lt;/message>

#message{
    id = <<"7922064770823038950">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"5">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192946346">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"pgsql.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"pgsql.localhost">>,lresource = <<>>},
             id = <<"1694192192946346">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.948 ***</b><a id=e-59560 class="link-to-entry" href="#e-59560">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1417941299044540118'
    xmlns='jabber:client'>
  &lt;query queryid='14096866681482660818'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"1417941299044540118">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"14096866681482660818">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.952 ***</b><a id=e-59565 class="link-to-entry" href="#e-59565">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192900704'
          queryid='14096866681482660818'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14096866681482660818">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.952 ***</b><a id=e-59567 class="link-to-entry" href="#e-59567">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192942303'
          queryid='14096866681482660818'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14096866681482660818">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.953 ***</b><a id=e-59569 class="link-to-entry" href="#e-59569">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192943166'
          queryid='14096866681482660818'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14096866681482660818">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.953 ***</b><a id=e-59571 class="link-to-entry" href="#e-59571">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192944466'
          queryid='14096866681482660818'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14096866681482660818">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.953 ***</b><a id=e-59572 class="link-to-entry" href="#e-59572">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192946346'
          queryid='14096866681482660818'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14096866681482660818">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.954 ***</b><a id=e-59573 class="link-to-entry" href="#e-59573">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='1417941299044540118'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='14096866681482660818'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"1417941299044540118">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"14096866681482660818">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.954 ***</b><a id=e-59574 class="link-to-entry" href="#e-59574">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='7601602295776640197'
    xmlns='jabber:client'>
  &lt;query queryid='2309203552237179474'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192946346&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7601602295776640197">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"2309203552237179474">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192946346">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.957 ***</b><a id=e-59580 class="link-to-entry" href="#e-59580">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192900704'
          queryid='2309203552237179474'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2309203552237179474">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.957 ***</b><a id=e-59582 class="link-to-entry" href="#e-59582">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192942303'
          queryid='2309203552237179474'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2309203552237179474">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.958 ***</b><a id=e-59583 class="link-to-entry" href="#e-59583">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192943166'
          queryid='2309203552237179474'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2309203552237179474">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.958 ***</b><a id=e-59584 class="link-to-entry" href="#e-59584">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192944466'
          queryid='2309203552237179474'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"2309203552237179474">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.958 ***</b><a id=e-59585 class="link-to-entry" href="#e-59585">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='7601602295776640197'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='2309203552237179474'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192944466&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7601602295776640197">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"2309203552237179474">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192944466">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.958 ***</b><a id=e-59586 class="link-to-entry" href="#e-59586">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='3102054889917605929'
    xmlns='jabber:client'>
  &lt;query queryid='14045181336801459873'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192944466&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"3102054889917605929">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"14045181336801459873">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192944466">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.960 ***</b><a id=e-59588 class="link-to-entry" href="#e-59588">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192900704'
          queryid='14045181336801459873'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14045181336801459873">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.961 ***</b><a id=e-59590 class="link-to-entry" href="#e-59590">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192942303'
          queryid='14045181336801459873'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14045181336801459873">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.961 ***</b><a id=e-59592 class="link-to-entry" href="#e-59592">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192943166'
          queryid='14045181336801459873'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"14045181336801459873">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.961 ***</b><a id=e-59593 class="link-to-entry" href="#e-59593">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='3102054889917605929'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='14045181336801459873'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192943166&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"3102054889917605929">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"14045181336801459873">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192943166">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.961 ***</b><a id=e-59594 class="link-to-entry" href="#e-59594">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='8726595875789503259'
    xmlns='jabber:client'>
  &lt;query queryid='1645879886405319406'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192943166&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8726595875789503259">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1645879886405319406">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192943166">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.964 ***</b><a id=e-59597 class="link-to-entry" href="#e-59597">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192900704'
          queryid='1645879886405319406'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"1645879886405319406">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.965 ***</b><a id=e-59599 class="link-to-entry" href="#e-59599">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192942303'
          queryid='1645879886405319406'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"1645879886405319406">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.965 ***</b><a id=e-59600 class="link-to-entry" href="#e-59600">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='8726595875789503259'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='1645879886405319406'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192942303&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8726595875789503259">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"1645879886405319406">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192942303">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.965 ***</b><a id=e-59602 class="link-to-entry" href="#e-59602">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='1831326683625685698'
    xmlns='jabber:client'>
  &lt;query queryid='9952144978985547500'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192942303&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"1831326683625685698">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"9952144978985547500">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192942303">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.967 ***</b><a id=e-59605 class="link-to-entry" href="#e-59605">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192900704'
          queryid='9952144978985547500'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"9952144978985547500">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.967 ***</b><a id=e-59606 class="link-to-entry" href="#e-59606">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='1831326683625685698'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='9952144978985547500'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192900704&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"1831326683625685698">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"9952144978985547500">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192900704">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.968 ***</b><a id=e-59607 class="link-to-entry" href="#e-59607">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='18424365370300055687'
    xmlns='jabber:client'>
  &lt;query queryid='4624484549802163523'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192900704&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"18424365370300055687">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"4624484549802163523">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192900704">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.970 ***</b><a id=e-59611 class="link-to-entry" href="#e-59611">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='18424365370300055687'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='4624484549802163523'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"18424365370300055687">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"4624484549802163523">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.970 ***</b><a id=e-59612 class="link-to-entry" href="#e-59612">&#x1f517;</a>
SENT:
&lt;iq type='get'
    id='10768276697836157833'
    xmlns='jabber:client'>
  &lt;query queryid='4778534282508610435'
         xmlns='urn:xmpp:mam:tmp'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"10768276697836157833">>,type = get,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"4778534282508610435">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.972 ***</b><a id=e-59615 class="link-to-entry" href="#e-59615">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:tmp'
          id='1694192192946346'
          queryid='4778534282508610435'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:tmp">>,queryid = <<"4778534282508610435">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.972 ***</b><a id=e-59616 class="link-to-entry" href="#e-59616">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='10768276697836157833'>
  &lt;query xmlns='urn:xmpp:mam:tmp'
         queryid='4778534282508610435'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192946346&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"10768276697836157833">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:tmp">>,id = <<"4778534282508610435">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192946346">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.973 ***</b><a id=e-59617 class="link-to-entry" href="#e-59617">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14564203651519310929'
    xmlns='jabber:client'>
  &lt;query queryid='13344147294385299954'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"14564203651519310929">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"13344147294385299954">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.975 ***</b><a id=e-59620 class="link-to-entry" href="#e-59620">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='14564203651519310929'/>

#iq{id = <<"14564203651519310929">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.976 ***</b><a id=e-59622 class="link-to-entry" href="#e-59622">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192900704'
          queryid='13344147294385299954'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"13344147294385299954">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.976 ***</b><a id=e-59623 class="link-to-entry" href="#e-59623">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192942303'
          queryid='13344147294385299954'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"13344147294385299954">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.977 ***</b><a id=e-59624 class="link-to-entry" href="#e-59624">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192943166'
          queryid='13344147294385299954'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"13344147294385299954">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.978 ***</b><a id=e-59625 class="link-to-entry" href="#e-59625">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192944466'
          queryid='13344147294385299954'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"13344147294385299954">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.978 ***</b><a id=e-59627 class="link-to-entry" href="#e-59627">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192946346'
          queryid='13344147294385299954'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"13344147294385299954">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.979 ***</b><a id=e-59628 class="link-to-entry" href="#e-59628">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='13344147294385299954'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"13344147294385299954">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.979 ***</b><a id=e-59630 class="link-to-entry" href="#e-59630">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4979099751984583203'
    xmlns='jabber:client'>
  &lt;query queryid='11049234797766939472'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192946346&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"4979099751984583203">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"11049234797766939472">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192946346">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.981 ***</b><a id=e-59633 class="link-to-entry" href="#e-59633">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='4979099751984583203'/>

#iq{id = <<"4979099751984583203">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.982 ***</b><a id=e-59636 class="link-to-entry" href="#e-59636">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192900704'
          queryid='11049234797766939472'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11049234797766939472">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.982 ***</b><a id=e-59639 class="link-to-entry" href="#e-59639">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192942303'
          queryid='11049234797766939472'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11049234797766939472">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.982 ***</b><a id=e-59640 class="link-to-entry" href="#e-59640">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192943166'
          queryid='11049234797766939472'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11049234797766939472">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.983 ***</b><a id=e-59641 class="link-to-entry" href="#e-59641">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192944466'
          queryid='11049234797766939472'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"11049234797766939472">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.984 ***</b><a id=e-59642 class="link-to-entry" href="#e-59642">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='11049234797766939472'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192944466&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"11049234797766939472">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192944466">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.984 ***</b><a id=e-59644 class="link-to-entry" href="#e-59644">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8416644798496030255'
    xmlns='jabber:client'>
  &lt;query queryid='2882250262878373504'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192944466&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8416644798496030255">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"2882250262878373504">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192944466">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.986 ***</b><a id=e-59649 class="link-to-entry" href="#e-59649">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='8416644798496030255'/>

#iq{id = <<"8416644798496030255">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.987 ***</b><a id=e-59651 class="link-to-entry" href="#e-59651">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192900704'
          queryid='2882250262878373504'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"2882250262878373504">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.987 ***</b><a id=e-59652 class="link-to-entry" href="#e-59652">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192942303'
          queryid='2882250262878373504'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"2882250262878373504">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.988 ***</b><a id=e-59654 class="link-to-entry" href="#e-59654">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192943166'
          queryid='2882250262878373504'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"2882250262878373504">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.988 ***</b><a id=e-59655 class="link-to-entry" href="#e-59655">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='2882250262878373504'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192943166&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"2882250262878373504">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192943166">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.988 ***</b><a id=e-59656 class="link-to-entry" href="#e-59656">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15530826502602616526'
    xmlns='jabber:client'>
  &lt;query queryid='17922343897394667709'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192943166&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"15530826502602616526">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"17922343897394667709">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192943166">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.990 ***</b><a id=e-59657 class="link-to-entry" href="#e-59657">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='15530826502602616526'/>

#iq{id = <<"15530826502602616526">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.990 ***</b><a id=e-59658 class="link-to-entry" href="#e-59658">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192900704'
          queryid='17922343897394667709'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"17922343897394667709">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.991 ***</b><a id=e-59660 class="link-to-entry" href="#e-59660">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192942303'
          queryid='17922343897394667709'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"17922343897394667709">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.991 ***</b><a id=e-59662 class="link-to-entry" href="#e-59662">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='17922343897394667709'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192942303&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"17922343897394667709">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192942303">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.991 ***</b><a id=e-59663 class="link-to-entry" href="#e-59663">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5377842846228994987'
    xmlns='jabber:client'>
  &lt;query queryid='414874685187990691'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192942303&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"5377842846228994987">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"414874685187990691">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192942303">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.993 ***</b><a id=e-59666 class="link-to-entry" href="#e-59666">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='5377842846228994987'/>

#iq{id = <<"5377842846228994987">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.993 ***</b><a id=e-59669 class="link-to-entry" href="#e-59669">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192900704'
          queryid='414874685187990691'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"414874685187990691">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.994 ***</b><a id=e-59670 class="link-to-entry" href="#e-59670">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='414874685187990691'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192900704&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"414874685187990691">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192900704">>,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.994 ***</b><a id=e-59671 class="link-to-entry" href="#e-59671">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='2367337225973618296'
    xmlns='jabber:client'>
  &lt;query queryid='6853062243518059929'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192900704&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"2367337225973618296">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"6853062243518059929">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192900704">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.996 ***</b><a id=e-59672 class="link-to-entry" href="#e-59672">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='2367337225973618296'/>

#iq{id = <<"2367337225973618296">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.996 ***</b><a id=e-59674 class="link-to-entry" href="#e-59674">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='true'
       queryid='6853062243518059929'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"6853062243518059929">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             stable = undefined,complete = true},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.997 ***</b><a id=e-59676 class="link-to-entry" href="#e-59676">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11561552648641287970'
    xmlns='jabber:client'>
  &lt;query queryid='2589028612229622645'
         xmlns='urn:xmpp:mam:0'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11561552648641287970">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"2589028612229622645">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:32.998 ***</b><a id=e-59680 class="link-to-entry" href="#e-59680">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='11561552648641287970'/>

#iq{id = <<"11561552648641287970">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.000 ***</b><a id=e-59681 class="link-to-entry" href="#e-59681">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:0'
          id='1694192192946346'
          queryid='2589028612229622645'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:0">>,queryid = <<"2589028612229622645">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.000 ***</b><a id=e-59683 class="link-to-entry" href="#e-59683">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;fin xmlns='urn:xmpp:mam:0'
       complete='false'
       queryid='2589028612229622645'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192946346&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/fin>
  &lt;no-store xmlns='urn:xmpp:hints'/>
&lt;/message>

#message{
    id = <<>>,type = normal,lang = <<>>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:0">>,id = <<"2589028612229622645">>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192946346">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             stable = undefined,complete = false},
         #hint{type = 'no-store'}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.000 ***</b><a id=e-59684 class="link-to-entry" href="#e-59684">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='14861439396597921704'
    xmlns='jabber:client'>
  &lt;query queryid='3531592459635770933'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"14861439396597921704">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"3531592459635770933">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.003 ***</b><a id=e-59689 class="link-to-entry" href="#e-59689">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192900704'
          queryid='3531592459635770933'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3531592459635770933">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.004 ***</b><a id=e-59691 class="link-to-entry" href="#e-59691">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192942303'
          queryid='3531592459635770933'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3531592459635770933">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.004 ***</b><a id=e-59692 class="link-to-entry" href="#e-59692">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192943166'
          queryid='3531592459635770933'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3531592459635770933">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.005 ***</b><a id=e-59694 class="link-to-entry" href="#e-59694">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192944466'
          queryid='3531592459635770933'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3531592459635770933">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.005 ***</b><a id=e-59695 class="link-to-entry" href="#e-59695">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192946346'
          queryid='3531592459635770933'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3531592459635770933">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.005 ***</b><a id=e-59696 class="link-to-entry" href="#e-59696">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='14861439396597921704'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"14861439396597921704">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.005 ***</b><a id=e-59697 class="link-to-entry" href="#e-59697">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6928517839078475253'
    xmlns='jabber:client'>
  &lt;query queryid='3075029760976860661'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192946346&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"6928517839078475253">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"3075029760976860661">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192946346">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.008 ***</b><a id=e-59702 class="link-to-entry" href="#e-59702">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192900704'
          queryid='3075029760976860661'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3075029760976860661">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.009 ***</b><a id=e-59703 class="link-to-entry" href="#e-59703">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192942303'
          queryid='3075029760976860661'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3075029760976860661">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.009 ***</b><a id=e-59704 class="link-to-entry" href="#e-59704">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192943166'
          queryid='3075029760976860661'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3075029760976860661">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.010 ***</b><a id=e-59705 class="link-to-entry" href="#e-59705">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192944466'
          queryid='3075029760976860661'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"3075029760976860661">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.010 ***</b><a id=e-59706 class="link-to-entry" href="#e-59706">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='6928517839078475253'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192944466&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"6928517839078475253">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192944466">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.013 ***</b><a id=e-59709 class="link-to-entry" href="#e-59709">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='7569291353572009603'
    xmlns='jabber:client'>
  &lt;query queryid='14297222993289570477'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192944466&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"7569291353572009603">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"14297222993289570477">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192944466">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.015 ***</b><a id=e-59715 class="link-to-entry" href="#e-59715">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192900704'
          queryid='14297222993289570477'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"14297222993289570477">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.016 ***</b><a id=e-59716 class="link-to-entry" href="#e-59716">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192942303'
          queryid='14297222993289570477'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"14297222993289570477">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.016 ***</b><a id=e-59718 class="link-to-entry" href="#e-59718">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192943166'
          queryid='14297222993289570477'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"14297222993289570477">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.017 ***</b><a id=e-59719 class="link-to-entry" href="#e-59719">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='7569291353572009603'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192943166&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"7569291353572009603">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192943166">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.017 ***</b><a id=e-59721 class="link-to-entry" href="#e-59721">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='9615049933093331734'
    xmlns='jabber:client'>
  &lt;query queryid='9425504224995508638'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192943166&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"9615049933093331734">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"9425504224995508638">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192943166">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.020 ***</b><a id=e-59726 class="link-to-entry" href="#e-59726">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192900704'
          queryid='9425504224995508638'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"9425504224995508638">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.020 ***</b><a id=e-59727 class="link-to-entry" href="#e-59727">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192942303'
          queryid='9425504224995508638'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"9425504224995508638">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.020 ***</b><a id=e-59729 class="link-to-entry" href="#e-59729">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='9615049933093331734'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192942303&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"9615049933093331734">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192942303">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.021 ***</b><a id=e-59731 class="link-to-entry" href="#e-59731">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='10522572405948380069'
    xmlns='jabber:client'>
  &lt;query queryid='7799919977104743783'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192942303&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"10522572405948380069">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"7799919977104743783">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192942303">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.023 ***</b><a id=e-59735 class="link-to-entry" href="#e-59735">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192900704'
          queryid='7799919977104743783'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"7799919977104743783">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.023 ***</b><a id=e-59736 class="link-to-entry" href="#e-59736">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='10522572405948380069'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192900704&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"10522572405948380069">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192900704">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.023 ***</b><a id=e-59737 class="link-to-entry" href="#e-59737">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8843972844839807951'
    xmlns='jabber:client'>
  &lt;query queryid='15803336483907752777'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192900704&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8843972844839807951">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"15803336483907752777">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192900704">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.025 ***</b><a id=e-59742 class="link-to-entry" href="#e-59742">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='8843972844839807951'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"8843972844839807951">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_fin{xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
                        rsm = #rsm_set{'after' = undefined,before = undefined,
                                       count = 5,first = undefined,
                                       index = undefined,last = undefined,
                                       max = undefined},
                        stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.026 ***</b><a id=e-59743 class="link-to-entry" href="#e-59743">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13810814972562390439'
    xmlns='jabber:client'>
  &lt;query queryid='16031597342498222341'
         xmlns='urn:xmpp:mam:1'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"13810814972562390439">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<"16031597342498222341">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.028 ***</b><a id=e-59746 class="link-to-entry" href="#e-59746">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:1'
          id='1694192192946346'
          queryid='16031597342498222341'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:1">>,queryid = <<"16031597342498222341">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.028 ***</b><a id=e-59747 class="link-to-entry" href="#e-59747">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='13810814972562390439'>
  &lt;fin xmlns='urn:xmpp:mam:1'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192946346&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"13810814972562390439">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:1">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192946346">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.029 ***</b><a id=e-59749 class="link-to-entry" href="#e-59749">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='8229740268944251686'
    xmlns='jabber:client'>
  &lt;query queryid='10581510164818367628'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"8229740268944251686">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"10581510164818367628">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.031 ***</b><a id=e-59752 class="link-to-entry" href="#e-59752">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192900704'
          queryid='10581510164818367628'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"10581510164818367628">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.032 ***</b><a id=e-59753 class="link-to-entry" href="#e-59753">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192942303'
          queryid='10581510164818367628'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"10581510164818367628">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.032 ***</b><a id=e-59754 class="link-to-entry" href="#e-59754">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192943166'
          queryid='10581510164818367628'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"10581510164818367628">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.032 ***</b><a id=e-59755 class="link-to-entry" href="#e-59755">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192944466'
          queryid='10581510164818367628'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"10581510164818367628">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.033 ***</b><a id=e-59756 class="link-to-entry" href="#e-59756">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192946346'
          queryid='10581510164818367628'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"10581510164818367628">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.033 ***</b><a id=e-59757 class="link-to-entry" href="#e-59757">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='8229740268944251686'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"8229740268944251686">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.033 ***</b><a id=e-59758 class="link-to-entry" href="#e-59758">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='11121729771263718910'
    xmlns='jabber:client'>
  &lt;query queryid='5560614575141516296'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192946346&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"11121729771263718910">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"5560614575141516296">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192946346">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.036 ***</b><a id=e-59761 class="link-to-entry" href="#e-59761">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192900704'
          queryid='5560614575141516296'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"5560614575141516296">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.036 ***</b><a id=e-59763 class="link-to-entry" href="#e-59763">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192942303'
          queryid='5560614575141516296'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"5560614575141516296">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.037 ***</b><a id=e-59764 class="link-to-entry" href="#e-59764">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192943166'
          queryid='5560614575141516296'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"5560614575141516296">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.037 ***</b><a id=e-59765 class="link-to-entry" href="#e-59765">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192944466'
          queryid='5560614575141516296'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='13014608714448361426'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192944466'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192944466'/>
        &lt;body xml:lang='en'>4&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.944466Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"5560614575141516296">>,
    id = <<"1694192192944466">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,944466},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"13014608714448361426">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192944466">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"4">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.038 ***</b><a id=e-59766 class="link-to-entry" href="#e-59766">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='11121729771263718910'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192944466&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"11121729771263718910">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192944466">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.038 ***</b><a id=e-59768 class="link-to-entry" href="#e-59768">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='3133832918699804099'
    xmlns='jabber:client'>
  &lt;query queryid='6507054115394072857'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192944466&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"3133832918699804099">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"6507054115394072857">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192944466">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.041 ***</b><a id=e-59772 class="link-to-entry" href="#e-59772">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192900704'
          queryid='6507054115394072857'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6507054115394072857">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.042 ***</b><a id=e-59775 class="link-to-entry" href="#e-59775">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192942303'
          queryid='6507054115394072857'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6507054115394072857">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.042 ***</b><a id=e-59777 class="link-to-entry" href="#e-59777">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192943166'
          queryid='6507054115394072857'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='14429918695264977350'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192943166'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192943166'/>
        &lt;body xml:lang='en'>3&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.943166Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"6507054115394072857">>,
    id = <<"1694192192943166">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,943166},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"14429918695264977350">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192943166">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"3">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.043 ***</b><a id=e-59778 class="link-to-entry" href="#e-59778">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='3133832918699804099'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192943166&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"3133832918699804099">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192943166">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.044 ***</b><a id=e-59780 class="link-to-entry" href="#e-59780">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='13806256144872166432'
    xmlns='jabber:client'>
  &lt;query queryid='4211763397839379451'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192943166&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"13806256144872166432">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"4211763397839379451">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192943166">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.049 ***</b><a id=e-59786 class="link-to-entry" href="#e-59786">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192900704'
          queryid='4211763397839379451'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4211763397839379451">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.049 ***</b><a id=e-59787 class="link-to-entry" href="#e-59787">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192942303'
          queryid='4211763397839379451'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7209438657694800272'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192942303'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192942303'/>
        &lt;body xml:lang='en'>2&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.942303Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4211763397839379451">>,
    id = <<"1694192192942303">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,942303},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7209438657694800272">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192942303">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"2">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.049 ***</b><a id=e-59788 class="link-to-entry" href="#e-59788">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='13806256144872166432'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192942303&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"13806256144872166432">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192942303">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.050 ***</b><a id=e-59789 class="link-to-entry" href="#e-59789">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='4901505059606308527'
    xmlns='jabber:client'>
  &lt;query queryid='11177947751972218951'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192942303&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"4901505059606308527">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"11177947751972218951">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192942303">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.052 ***</b><a id=e-59791 class="link-to-entry" href="#e-59791">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192900704'
          queryid='11177947751972218951'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7516105863117531966'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192900704'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192900704'/>
        &lt;body xml:lang='en'>1&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.900704Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"11177947751972218951">>,
    id = <<"1694192192900704">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,900704},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7516105863117531966">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192900704">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"1">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.053 ***</b><a id=e-59793 class="link-to-entry" href="#e-59793">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='4901505059606308527'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192900704&lt;/first>
      &lt;last>1694192192900704&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"4901505059606308527">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192900704">>},
                     index = undefined,last = <<"1694192192900704">>,
                     max = undefined},
             stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.053 ***</b><a id=e-59797 class="link-to-entry" href="#e-59797">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='17193955209203312077'
    xmlns='jabber:client'>
  &lt;query queryid='6393887270047371603'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;before>1694192192900704&lt;/before>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"17193955209203312077">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"6393887270047371603">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<"1694192192900704">>,
                     count = undefined,first = undefined,index = undefined,
                     last = undefined,max = undefined},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.056 ***</b><a id=e-59799 class="link-to-entry" href="#e-59799">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='17193955209203312077'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='true'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"17193955209203312077">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"pgsql.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"pgsql.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"pgsql.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_fin{xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
                        rsm = #rsm_set{'after' = undefined,before = undefined,
                                       count = 5,first = undefined,
                                       index = undefined,last = undefined,
                                       max = undefined},
                        stable = undefined,complete = true}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.057 ***</b><a id=e-59803 class="link-to-entry" href="#e-59803">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='3526000582910566447'
    xmlns='jabber:client'>
  &lt;query queryid='4963052340051591043'
         xmlns='urn:xmpp:mam:2'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;max>1&lt;/max>
      &lt;before/>
    &lt;/set>
  &lt;/query>
&lt;/iq>

#iq{id = <<"3526000582910566447">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#mam_query{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<"4963052340051591043">>,
             start = undefined,'end' = undefined,with = undefined,
             withtext = undefined,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = <<>>,count = undefined,
                     first = undefined,index = undefined,last = undefined,
                     max = 1},
             flippage = false,xdata = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.060 ***</b><a id=e-59807 class="link-to-entry" href="#e-59807">&#x1f517;</a>
RECV:
&lt;message to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'>
  &lt;result xmlns='urn:xmpp:mam:2'
          id='1694192192946346'
          queryid='4963052340051591043'>
    &lt;forwarded xmlns='urn:xmpp:forward:0'>
      &lt;message xmlns='jabber:client'
               xml:lang='en'
               to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               from='test_master!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
               id='7922064770823038950'>
        &lt;archived xmlns='urn:xmpp:mam:tmp'
                  by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                  id='1694192192946346'/>
        &lt;stanza-id xmlns='urn:xmpp:sid:0'
                   by='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
                   id='1694192192946346'/>
        &lt;body xml:lang='en'>5&lt;/body>
      &lt;/message>
      &lt;delay xmlns='urn:xmpp:delay'
             from='pgsql.localhost'
             stamp='2023-09-08T16:56:32.946346Z'/>
    &lt;/forwarded>
  &lt;/result>
&lt;/message>

#message{
 id = <<>>,type = normal,lang = <<>>,
 from =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,resource = <<>>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,lresource = <<>>},
 to =
  #jid{
   user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   server = <<"pgsql.localhost">>,
   resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
   lserver = <<"pgsql.localhost">>,
   lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
 subject = [],body = [],thread = undefined,
 sub_els =
  [#mam_result{
    xmlns = <<"urn:xmpp:mam:2">>,queryid = <<"4963052340051591043">>,
    id = <<"1694192192946346">>,
    sub_els =
     [#forwarded{
       delay =
        #delay{
         stamp = {1694,192192,946346},
         from =
          #jid{
           user = <<>>,server = <<"pgsql.localhost">>,resource = <<>>,
           luser = <<>>,lserver = <<"pgsql.localhost">>,lresource = <<>>},
         desc = <<>>},
       sub_els =
        [#xmlel{
          name = <<"message">>,
          attrs =
           [{<<"xmlns">>,<<"jabber:client">>},
            {<<"xml:lang">>,<<"en">>},
            {<<"to">>,
             <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"from">>,
             <<"test_master!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost/resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
            {<<"id">>,<<"7922064770823038950">>}],
          children =
           [#xmlel{
             name = <<"archived">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:mam:tmp">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"stanza-id">>,
             attrs =
              [{<<"xmlns">>,<<"urn:xmpp:sid:0">>},
               {<<"by">>,
                <<"test_slave!#$%^*()`~+-;_=[]{}|\\@pgsql.localhost">>},
               {<<"id">>,<<"1694192192946346">>}],
             children = []},
            #xmlel{
             name = <<"body">>,
             attrs = [{<<"xml:lang">>,<<"en">>}],
             children = [{xmlcdata,<<"5">>}]}]}]}]}],
 meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:56:33.060 ***</b><a id=e-59808 class="link-to-entry" href="#e-59808">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@pgsql.localhost'
    type='result'
    id='3526000582910566447'>
  &lt;fin xmlns='urn:xmpp:mam:2'
       complete='false'>
    &lt;set xmlns='http://jabber.org/protocol/rsm'>
      &lt;count>5&lt;/count>
      &lt;first>1694192192946346&lt;/first>
      &lt;last>1694192192946346&lt;/last>
    &lt;/set>
  &lt;/fin>
&lt;/iq>

#iq{id = <<"3526000582910566447">>,type = result,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,lresource = <<>>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"pgsql.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"pgsql.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els =
        [#mam_fin{
             xmlns = <<"urn:xmpp:mam:2">>,id = <<>>,
             rsm =
                 #rsm_set{
                     'after' = undefined,before = undefined,count = 5,
                     first =
                         #rsm_first{
                             index = undefined,data = <<"1694192192946346">>},
                     index = undefined,last = <<"1694192192946346">>,
                     max = undefined},
             stable = undefined,complete = false}],
    meta = #{}}
</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2023-09-08 16:56:33
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"883448102515853380"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.122050307&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {peer,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"pgsql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"pgsql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {peer_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {user,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"pgsql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"pgsql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"pgsql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"pgsql.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,slave},
                     {watchdog,&lt;0.43403.0&gt;},
                     {event_relay,&lt;0.43394.0&gt;},
                     {server,&lt;&lt;"pgsql.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/ejabberd_suite.mam_query_rsm_before_slave.38194.html"},
                     {tc_group_properties,
                         [{name,mam_query_rsm_before},parallel]},
                     {tc_group_path,
                         [[{name,mam_master_slave},sequence],
                          [{name,pgsql},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/log_private/"}]
