<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:offline_send_all_slave result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#offline_send_all_slave-1">ejabberd_SUITE:offline_send_all_slave/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.37984.0&gt;},
     {watchdog,&lt;0.37983.0&gt;},
     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/ejabberd_suite.offline_send_all_slave.21523.html"},
     {tc_group_properties,[{name,offline_send_all},parallel]},
     {tc_group_path,[[{name,offline_master_slave},sequence],
                     [{name,redis},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06"

=== Started at 2023-09-08 16:52:32

<br />

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.963 ***</b><a id=e-27994 class="link-to-entry" href="#e-27994">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.965 ***</b><a id=e-27995 class="link-to-entry" href="#e-27995">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='16954649863914811026'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"16954649863914811026">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.965 ***</b><a id=e-27996 class="link-to-entry" href="#e-27996">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.965 ***</b><a id=e-27997 class="link-to-entry" href="#e-27997">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XEByZWRpcy5sb2NhbGhvc3QAdGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,114,
                    101,100,105,115,46,108,111,99,97,108,104,111,115,116,0,
                    116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,112,97,
                    115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,41,39,
                    34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.966 ***</b><a id=e-27998 class="link-to-entry" href="#e-27998">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.966 ***</b><a id=e-27999 class="link-to-entry" href="#e-27999">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.967 ***</b><a id=e-28000 class="link-to-entry" href="#e-28000">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='16059683978239103677'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"16059683978239103677">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.967 ***</b><a id=e-28001 class="link-to-entry" href="#e-28001">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='9dw1fKaE0crSfkc9KTtBadLPkJA='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
  &lt;csi xmlns='urn:xmpp:csi:0'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"9dw1fKaE0crSfkc9KTtBadLPkJA=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{},
         #feature_csi{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.967 ***</b><a id=e-28002 class="link-to-entry" href="#e-28002">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15146280792234702877'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"15146280792234702877">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.970 ***</b><a id=e-28004 class="link-to-entry" href="#e-28004">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='15146280792234702877'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"15146280792234702877">>,type = result,lang = <<>>,
    from = undefined,to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.971 ***</b><a id=e-28005 class="link-to-entry" href="#e-28005">&#x1f517;</a>
SENT:
&lt;presence id='16107700991860082806'
          xmlns='jabber:client'/>

#presence{id = <<"16107700991860082806">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.972 ***</b><a id=e-28006 class="link-to-entry" href="#e-28006">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='16107700991860082806'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"16107700991860082806">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:32.973 ***</b><a id=e-28007 class="link-to-entry" href="#e-28007">&#x1f517;</a>
SENT:
&lt;presence type='unavailable'
          id='169201343286359453'
          xmlns='jabber:client'/>

#presence{id = <<"169201343286359453">>,type = unavailable,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.696 ***</b><a id=e-28894 class="link-to-entry" href="#e-28894">&#x1f517;</a>
SENT:
&lt;presence id='12059327090404321606'
          xmlns='jabber:client'/>

#presence{id = <<"12059327090404321606">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.705 ***</b><a id=e-28895 class="link-to-entry" href="#e-28895">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15134121476332349625'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:34.897520Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"15134121476332349625">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191954,897520},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.705 ***</b><a id=e-28896 class="link-to-entry" href="#e-28896">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5165194202938825451'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:34.897804Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"5165194202938825451">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191954,897804},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.705 ***</b><a id=e-28897 class="link-to-entry" href="#e-28897">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1645851738656868350'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:34.898470Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"1645851738656868350">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191954,898470},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.705 ***</b><a id=e-28898 class="link-to-entry" href="#e-28898">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13635542079976848648'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:34.986397Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"13635542079976848648">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191954,986397},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.706 ***</b><a id=e-28899 class="link-to-entry" href="#e-28899">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10532111127069011487'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:34.986789Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10532111127069011487">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191954,986789},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.706 ***</b><a id=e-28900 class="link-to-entry" href="#e-28900">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7561072592012892687'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:34.987048Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7561072592012892687">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191954,987048},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.706 ***</b><a id=e-28901 class="link-to-entry" href="#e-28901">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11668254213586044400'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:34.987280Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11668254213586044400">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191954,987280},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.706 ***</b><a id=e-28902 class="link-to-entry" href="#e-28902">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5702404063383919604'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.067422Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5702404063383919604">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,67422},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.707 ***</b><a id=e-28903 class="link-to-entry" href="#e-28903">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13516099688960111943'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.067713Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13516099688960111943">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1694,191955,67713},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.707 ***</b><a id=e-28904 class="link-to-entry" href="#e-28904">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12324722604179315169'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.067898Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"12324722604179315169">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,67898},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.707 ***</b><a id=e-28905 class="link-to-entry" href="#e-28905">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11338476569066925985'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.068092Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11338476569066925985">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,68092},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.707 ***</b><a id=e-28906 class="link-to-entry" href="#e-28906">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6838196821170298518'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.165335Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"6838196821170298518">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,165335},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.707 ***</b><a id=e-28907 class="link-to-entry" href="#e-28907">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12747973358982025534'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"12747973358982025534">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.708 ***</b><a id=e-28908 class="link-to-entry" href="#e-28908">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5989105988840401682'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5989105988840401682">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.708 ***</b><a id=e-28909 class="link-to-entry" href="#e-28909">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16307051447560620890'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16307051447560620890">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.708 ***</b><a id=e-28910 class="link-to-entry" href="#e-28910">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17455402236454041833'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17455402236454041833">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.708 ***</b><a id=e-28911 class="link-to-entry" href="#e-28911">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='788843816037864803'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.279656Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"788843816037864803">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191955,279656},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.708 ***</b><a id=e-28912 class="link-to-entry" href="#e-28912">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4742581652330162596'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.279819Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4742581652330162596">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,279819},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.709 ***</b><a id=e-28913 class="link-to-entry" href="#e-28913">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16223544986097876404'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.280008Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16223544986097876404">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,280008},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.709 ***</b><a id=e-28914 class="link-to-entry" href="#e-28914">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5381275496654118337'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.379351Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5381275496654118337">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,379351},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.709 ***</b><a id=e-28915 class="link-to-entry" href="#e-28915">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10835091488487902472'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.379668Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10835091488487902472">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191955,379668},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.709 ***</b><a id=e-28916 class="link-to-entry" href="#e-28916">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5723223825362421037'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.379937Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"5723223825362421037">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,379937},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.709 ***</b><a id=e-28917 class="link-to-entry" href="#e-28917">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9480023568348970208'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.380171Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"9480023568348970208">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,380171},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.710 ***</b><a id=e-28918 class="link-to-entry" href="#e-28918">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11166440786085619206'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.460318Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"11166440786085619206">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,460318},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.710 ***</b><a id=e-28919 class="link-to-entry" href="#e-28919">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17782365655941429575'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.460585Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"17782365655941429575">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1694,191955,460585},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.710 ***</b><a id=e-28920 class="link-to-entry" href="#e-28920">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4655925492769194348'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.460830Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"4655925492769194348">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,460830},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.710 ***</b><a id=e-28921 class="link-to-entry" href="#e-28921">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6285365345584981'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.461056Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"6285365345584981">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,461056},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.710 ***</b><a id=e-28922 class="link-to-entry" href="#e-28922">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15546721280886120944'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.555453Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"15546721280886120944">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,555453},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.710 ***</b><a id=e-28923 class="link-to-entry" href="#e-28923">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14487742060635620247'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"14487742060635620247">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.711 ***</b><a id=e-28924 class="link-to-entry" href="#e-28924">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18281209798022254702'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"18281209798022254702">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.711 ***</b><a id=e-28925 class="link-to-entry" href="#e-28925">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6713875161076284195'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"6713875161076284195">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.711 ***</b><a id=e-28926 class="link-to-entry" href="#e-28926">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13148224028619914779'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"13148224028619914779">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.711 ***</b><a id=e-28927 class="link-to-entry" href="#e-28927">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15851195737738564238'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.666814Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"15851195737738564238">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191955,666814},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.712 ***</b><a id=e-28928 class="link-to-entry" href="#e-28928">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9811322833262150859'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.666985Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"9811322833262150859">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,666985},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.712 ***</b><a id=e-28929 class="link-to-entry" href="#e-28929">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10652469720643097738'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.667169Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10652469720643097738">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,667169},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.712 ***</b><a id=e-28930 class="link-to-entry" href="#e-28930">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15021965551055572587'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.762425Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"15021965551055572587">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,762425},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.712 ***</b><a id=e-28931 class="link-to-entry" href="#e-28931">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7877929653442226057'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.762837Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7877929653442226057">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191955,762837},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.712 ***</b><a id=e-28932 class="link-to-entry" href="#e-28932">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5974653842202251522'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.763219Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5974653842202251522">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,763219},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.713 ***</b><a id=e-28933 class="link-to-entry" href="#e-28933">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7096644519220810392'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.763445Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7096644519220810392">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,763445},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.713 ***</b><a id=e-28934 class="link-to-entry" href="#e-28934">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1897970457120406549'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.854390Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"1897970457120406549">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,854390},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.713 ***</b><a id=e-28935 class="link-to-entry" href="#e-28935">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2073991648632447828'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.854696Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"2073991648632447828">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1694,191955,854696},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.713 ***</b><a id=e-28936 class="link-to-entry" href="#e-28936">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4830659209445792541'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.854915Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4830659209445792541">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,854915},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.714 ***</b><a id=e-28937 class="link-to-entry" href="#e-28937">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3598397485194756594'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.855136Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"3598397485194756594">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191955,855136},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.715 ***</b><a id=e-28938 class="link-to-entry" href="#e-28938">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9548131815518795108'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:35.965487Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"9548131815518795108">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191955,965487},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.716 ***</b><a id=e-28939 class="link-to-entry" href="#e-28939">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11452505867620625113'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11452505867620625113">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.716 ***</b><a id=e-28940 class="link-to-entry" href="#e-28940">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3804858638630199583'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"3804858638630199583">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.717 ***</b><a id=e-28941 class="link-to-entry" href="#e-28941">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11892398191417291384'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11892398191417291384">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.717 ***</b><a id=e-28942 class="link-to-entry" href="#e-28942">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6186739758053287721'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"6186739758053287721">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.717 ***</b><a id=e-28943 class="link-to-entry" href="#e-28943">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7252732888791058859'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.092697Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7252732888791058859">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191956,92697},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.717 ***</b><a id=e-28944 class="link-to-entry" href="#e-28944">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8673449931454226023'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.092907Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8673449931454226023">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,92907},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.717 ***</b><a id=e-28945 class="link-to-entry" href="#e-28945">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10158438279267937036'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.093135Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10158438279267937036">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,93135},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.718 ***</b><a id=e-28946 class="link-to-entry" href="#e-28946">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10475261921295932953'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.204314Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10475261921295932953">>,type = chat,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191956,204314},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.718 ***</b><a id=e-28947 class="link-to-entry" href="#e-28947">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12965958549198957316'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.204643Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"12965958549198957316">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191956,204643},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>
Could not find element mam_enabled in Config.


</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.718 ***</b><a id=e-28948 class="link-to-entry" href="#e-28948">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='1488278368859510934'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.204838Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"1488278368859510934">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,204838},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.718 ***</b><a id=e-28949 class="link-to-entry" href="#e-28949">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12891390707158408017'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.205065Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"12891390707158408017">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,205065},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.718 ***</b><a id=e-28950 class="link-to-entry" href="#e-28950">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17599378534349422638'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.285431Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"17599378534349422638">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191956,285431},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.718 ***</b><a id=e-28951 class="link-to-entry" href="#e-28951">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7662552687982456242'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.285736Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7662552687982456242">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191956,285736},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.719 ***</b><a id=e-28952 class="link-to-entry" href="#e-28952">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='845532210433772244'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.285946Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"845532210433772244">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,285946},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.719 ***</b><a id=e-28953 class="link-to-entry" href="#e-28953">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4913727672918019352'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.286153Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4913727672918019352">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,286153},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.720 ***</b><a id=e-28954 class="link-to-entry" href="#e-28954">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13352140374190652626'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.360433Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13352140374190652626">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191956,360433},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.720 ***</b><a id=e-28955 class="link-to-entry" href="#e-28955">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4488923260998011548'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.360761Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4488923260998011548">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1694,191956,360761},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.721 ***</b><a id=e-28956 class="link-to-entry" href="#e-28956">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17805826940860007874'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.360979Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17805826940860007874">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,360979},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.721 ***</b><a id=e-28957 class="link-to-entry" href="#e-28957">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5306468223388054100'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.361215Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5306468223388054100">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,361215},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.721 ***</b><a id=e-28958 class="link-to-entry" href="#e-28958">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3459134341776061241'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.454505Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"3459134341776061241">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191956,454505},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.721 ***</b><a id=e-28959 class="link-to-entry" href="#e-28959">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17573368338104479000'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17573368338104479000">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.721 ***</b><a id=e-28960 class="link-to-entry" href="#e-28960">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17621646522178731454'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17621646522178731454">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.722 ***</b><a id=e-28961 class="link-to-entry" href="#e-28961">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2777487007555974488'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"2777487007555974488">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.722 ***</b><a id=e-28962 class="link-to-entry" href="#e-28962">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7457796156710036199'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7457796156710036199">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.722 ***</b><a id=e-28963 class="link-to-entry" href="#e-28963">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7555705328673848188'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.563690Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"7555705328673848188">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191956,563690},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.722 ***</b><a id=e-28964 class="link-to-entry" href="#e-28964">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14238651550882462880'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.563872Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"14238651550882462880">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,563872},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.722 ***</b><a id=e-28965 class="link-to-entry" href="#e-28965">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5990924921027924727'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.564083Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5990924921027924727">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,564083},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.722 ***</b><a id=e-28966 class="link-to-entry" href="#e-28966">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10454600073561329140'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.658303Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10454600073561329140">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191956,658303},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.723 ***</b><a id=e-28967 class="link-to-entry" href="#e-28967">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16510191269654764855'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.658606Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"16510191269654764855">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191956,658606},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.723 ***</b><a id=e-28968 class="link-to-entry" href="#e-28968">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9226700771893056535'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.658948Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"9226700771893056535">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,658948},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.723 ***</b><a id=e-28969 class="link-to-entry" href="#e-28969">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12702946394832312381'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.660049Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"12702946394832312381">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,660049},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.723 ***</b><a id=e-28970 class="link-to-entry" href="#e-28970">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16819214516941655563'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.735328Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"16819214516941655563">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191956,735328},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.723 ***</b><a id=e-28971 class="link-to-entry" href="#e-28971">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17707281380206109681'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.735629Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"17707281380206109681">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1694,191956,735629},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.723 ***</b><a id=e-28972 class="link-to-entry" href="#e-28972">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8129438778042438025'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.735824Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"8129438778042438025">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,735824},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.724 ***</b><a id=e-28973 class="link-to-entry" href="#e-28973">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2721645444040559775'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.736019Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"2721645444040559775">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,736019},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.724 ***</b><a id=e-28974 class="link-to-entry" href="#e-28974">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10124128957853228179'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.825484Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10124128957853228179">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191956,825484},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.724 ***</b><a id=e-28975 class="link-to-entry" href="#e-28975">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3938156746263794319'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"3938156746263794319">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.724 ***</b><a id=e-28976 class="link-to-entry" href="#e-28976">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18151964998986778888'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"18151964998986778888">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.724 ***</b><a id=e-28977 class="link-to-entry" href="#e-28977">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12493251742381365179'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"12493251742381365179">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.724 ***</b><a id=e-28978 class="link-to-entry" href="#e-28978">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10574846973934168551'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10574846973934168551">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.725 ***</b><a id=e-28979 class="link-to-entry" href="#e-28979">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10727578337780525262'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.931692Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10727578337780525262">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191956,931692},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.725 ***</b><a id=e-28980 class="link-to-entry" href="#e-28980">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8409378321636480087'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.931878Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"8409378321636480087">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,931878},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.725 ***</b><a id=e-28981 class="link-to-entry" href="#e-28981">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10448108005863670263'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:36.932066Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"10448108005863670263">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191956,932066},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.725 ***</b><a id=e-28982 class="link-to-entry" href="#e-28982">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13438116637748257330'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.022307Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"13438116637748257330">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,22307},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.725 ***</b><a id=e-28983 class="link-to-entry" href="#e-28983">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4591648183514033165'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.022614Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4591648183514033165">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191957,22614},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.725 ***</b><a id=e-28984 class="link-to-entry" href="#e-28984">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9517850062237059834'>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.023849Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"9517850062237059834">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,23849},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.726 ***</b><a id=e-28985 class="link-to-entry" href="#e-28985">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11256986454368810631'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.024070Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"11256986454368810631">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,24070},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.726 ***</b><a id=e-28986 class="link-to-entry" href="#e-28986">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6083798594611415308'>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.110353Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"6083798594611415308">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,110353},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.726 ***</b><a id=e-28987 class="link-to-entry" href="#e-28987">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17111694933268818202'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.110669Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17111694933268818202">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #delay{stamp = {1694,191957,110669},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.726 ***</b><a id=e-28988 class="link-to-entry" href="#e-28988">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13018770888025196199'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.110868Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13018770888025196199">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,110868},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.726 ***</b><a id=e-28989 class="link-to-entry" href="#e-28989">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2156044552612565119'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.111171Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"2156044552612565119">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,111171},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.726 ***</b><a id=e-28990 class="link-to-entry" href="#e-28990">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6053913627002900511'>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.216440Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"6053913627002900511">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#chatstate{type = composing},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,216440},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.727 ***</b><a id=e-28991 class="link-to-entry" href="#e-28991">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12712230460946324012'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"12712230460946324012">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.727 ***</b><a id=e-28992 class="link-to-entry" href="#e-28992">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18404430666161351709'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"18404430666161351709">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.728 ***</b><a id=e-28993 class="link-to-entry" href="#e-28993">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13349592192736745626'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"13349592192736745626">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.729 ***</b><a id=e-28994 class="link-to-entry" href="#e-28994">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5455238908371841347'>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:32.973128Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"5455238908371841347">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#delay{stamp = {1694,191952,973128},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<>>},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.729 ***</b><a id=e-28995 class="link-to-entry" href="#e-28995">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16403328864520194059'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.338873Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"16403328864520194059">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191957,338873},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.729 ***</b><a id=e-28996 class="link-to-entry" href="#e-28996">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='490136575363926205'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.339054Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"490136575363926205">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,339054},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.729 ***</b><a id=e-28997 class="link-to-entry" href="#e-28997">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8513311134970419994'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.339246Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8513311134970419994">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,339246},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.729 ***</b><a id=e-28998 class="link-to-entry" href="#e-28998">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3306147728399629104'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.445439Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"3306147728399629104">>,type = normal,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,445439},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.729 ***</b><a id=e-28999 class="link-to-entry" href="#e-28999">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='600113639810402424'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.445739Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"600113639810402424">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191957,445739},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.730 ***</b><a id=e-29000 class="link-to-entry" href="#e-29000">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='15272661446492647866'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.445906Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"15272661446492647866">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,445906},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.730 ***</b><a id=e-29001 class="link-to-entry" href="#e-29001">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='14753012510278994057'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.446100Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"14753012510278994057">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,446100},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.730 ***</b><a id=e-29002 class="link-to-entry" href="#e-29002">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='2906181738779216231'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.529474Z'>Offline storage&lt;/delay>
&lt;/message>

#message{id = <<"2906181738779216231">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,529474},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.730 ***</b><a id=e-29003 class="link-to-entry" href="#e-29003">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='3760158899651085934'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.529777Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"3760158899651085934">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191957,529777},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.730 ***</b><a id=e-29004 class="link-to-entry" href="#e-29004">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='4557596314737316459'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.529948Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4557596314737316459">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,529948},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.730 ***</b><a id=e-29005 class="link-to-entry" href="#e-29005">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='17557506154686738915'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.530131Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"17557506154686738915">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,530131},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.731 ***</b><a id=e-29006 class="link-to-entry" href="#e-29006">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='115791812230823376'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.621406Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"115791812230823376">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [],thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,621406},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.731 ***</b><a id=e-29007 class="link-to-entry" href="#e-29007">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='11554490161612121817'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.621692Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"11554490161612121817">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191957,621692},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.731 ***</b><a id=e-29008 class="link-to-entry" href="#e-29008">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='5259465833752666820'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.621869Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"5259465833752666820">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,621869},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.731 ***</b><a id=e-29009 class="link-to-entry" href="#e-29009">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='16784014693285688157'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.622058Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"16784014693285688157">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,622058},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.731 ***</b><a id=e-29010 class="link-to-entry" href="#e-29010">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='1380113293965427049'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.713401Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{id = <<"1380113293965427049">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,713401},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.731 ***</b><a id=e-29011 class="link-to-entry" href="#e-29011">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='10686824373257825148'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.713699Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"10686824373257825148">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #delay{stamp = {1694,191957,713699},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.732 ***</b><a id=e-29012 class="link-to-entry" href="#e-29012">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='12566814341747920447'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.713884Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"12566814341747920447">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = false,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,713884},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.732 ***</b><a id=e-29013 class="link-to-entry" href="#e-29013">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='4820377053207826901'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.715612Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"4820377053207826901">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = undefined},
                    #delay{stamp = {1694,191957,715612},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.733 ***</b><a id=e-29014 class="link-to-entry" href="#e-29014">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='8442239876120409800'>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1447032289&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-09-08T16:52:37.817378Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{id = <<"8442239876120409800">>,type = headline,lang = <<"en">>,
         from = #jid{user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
         to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   server = <<"redis.localhost">>,resource = <<>>,
                   luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                   lserver = <<"redis.localhost">>,lresource = <<>>},
         subject = [#text{lang = <<"en">>,data = <<"subject">>}],
         body = [#text{lang = <<"en">>,data = <<"body">>}],
         thread = undefined,
         sub_els = [#hint{type = store},
                    #xevent{offline = true,delivered = false,
                            displayed = false,composing = false,
                            id = <<"1447032289">>},
                    #delay{stamp = {1694,191957,817378},
                           from = #jid{user = <<>>,
                                       server = <<"redis.localhost">>,
                                       resource = <<>>,luser = <<>>,
                                       lserver = <<"redis.localhost">>,
                                       lresource = <<>>},
                           desc = <<"Offline storage">>}],
         meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-09-08 16:52:46.733 ***</b><a id=e-29015 class="link-to-entry" href="#e-29015">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='12059327090404321606'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"12059327090404321606">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="error_logger"><pre><b>*** System report during offline_send_all in ejabberd_SUITE 2023-09-08 16:52:46.748 ***</b><a id=e-29016 class="link-to-entry" href="#e-29016">&#x1f517;</a>
=INFO REPORT==== 8-Sep-2023::16:52:46.746747 ===
(tcp|<0.37998.0>) Closing c2s session for test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~<>+-/;:_=[]{}|\: Stream reset by peer

</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2023-09-08 16:52:46
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {csi,true},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"16059683978239103677"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.122050307&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {peer,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {peer_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {user,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,slave},
                     {watchdog,&lt;0.37993.0&gt;},
                     {event_relay,&lt;0.37984.0&gt;},
                     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/ejabberd_suite.offline_send_all_slave.21523.html"},
                     {tc_group_properties,[{name,offline_send_all},parallel]},
                     {tc_group_path,
                         [[{name,offline_master_slave},sequence],
                          [{name,redis},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1694191642@566-badlop-master-7522c29.2023-09-08_16.49.06/lib.ejabberd.logs/run.2023-09-08_16.49.07/log_private/"}]
