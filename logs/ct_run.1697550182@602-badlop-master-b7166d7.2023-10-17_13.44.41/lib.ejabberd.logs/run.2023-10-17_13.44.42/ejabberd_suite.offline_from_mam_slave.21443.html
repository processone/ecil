<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Test ejabberd_SUITE:offline_from_mam_slave result</title>
<meta http-equiv="cache-control" content="no-cache"></meta>
<meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
<link rel="stylesheet" href="../../ct_default.css" type="text/css"></link>
<script type="text/javascript" src="../../jquery-latest.js"></script>
<script type="text/javascript" src="../../jquery.tablesorter.min.js"></script>
</head>
<body>

<a name="top"></a><pre>
=== Test case: <a href="ejabberd_suite.src.html#offline_from_mam_slave-1">ejabberd_SUITE:offline_from_mam_slave/1</a> (click for source code)

=== Config value:

    [{event_relay,&lt;0.5375.1&gt;},
     {watchdog,&lt;0.5374.1&gt;},
     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
     {server_port,5222},
     {server_host,"localhost"},
     {component_port,5270},
     {s2s_port,5269},
     {user,&lt;&lt;"test_single!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
     {nick,&lt;&lt;"nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_nick,&lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {room_subject,&lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {certfile,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
     {persistent_room,true},
     {anonymous,false},
     {type,client},
     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
     {stream_version,{1,0}},
     {stream_id,&lt;&lt;&gt;&gt;},
     {stream_from,&lt;&lt;&gt;&gt;},
     {db_xmlns,&lt;&lt;&gt;&gt;},
     {mechs,[]},
     {rosterver,false},
     {lang,&lt;&lt;"en"&gt;&gt;},
     {base_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
     {receiver,undefined},
     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {pubsub_node_title,&lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {master_resource,&lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {slave_resource,&lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {update_sql,false},
     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
     {tc_logfile,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1697550182@602-badlop-master-b7166d7.2023-10-17_13.44.41/lib.ejabberd.logs/run.2023-10-17_13.44.42/ejabberd_suite.offline_from_mam_slave.21443.html"},
     {tc_group_properties,[{name,offline_from_mam},parallel]},
     {tc_group_path,[[{name,offline_master_slave},sequence],
                     [{name,redis},sequence]]},
     {data_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
     {priv_dir,"/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1697550182@602-badlop-master-b7166d7.2023-10-17_13.44.41/lib.ejabberd.logs/run.2023-10-17_13.44.42/log_private/"}]

=== Current directory is "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1697550182@602-badlop-master-b7166d7.2023-10-17_13.44.41"

=== Started at 2023-10-17 13:48:06

<br />

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.242 ***</b><a id=e-29054 class="link-to-entry" href="#e-29054">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.244 ***</b><a id=e-29056 class="link-to-entry" href="#e-29056">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='13875379734464126204'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"13875379734464126204">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.244 ***</b><a id=e-29057 class="link-to-entry" href="#e-29057">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;mechanisms xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>
    &lt;mechanism>DIGEST-MD5&lt;/mechanism>
    &lt;mechanism>PLAIN&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-512&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-256&lt;/mechanism>
    &lt;mechanism>SCRAM-SHA-1&lt;/mechanism>
    &lt;mechanism>X-OAUTH2&lt;/mechanism>
  &lt;/mechanisms>
  &lt;starttls xmlns='urn:ietf:params:xml:ns:xmpp-tls'/>
  &lt;register xmlns='http://jabber.org/features/iq-register'/>
  &lt;auth xmlns='http://jabber.org/features/iq-auth'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#sasl_mechanisms{
             list =
                 [<<"DIGEST-MD5">>,<<"PLAIN">>,<<"SCRAM-SHA-512">>,
                  <<"SCRAM-SHA-256">>,<<"SCRAM-SHA-1">>,<<"X-OAUTH2">>]},
         #starttls{required = false},
         #feature_register{},
         #legacy_auth_feature{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.244 ***</b><a id=e-29058 class="link-to-entry" href="#e-29058">&#x1f517;</a>
SENT:
&lt;auth mechanism='PLAIN'
      xmlns='urn:ietf:params:xml:ns:xmpp-sasl'>dGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XEByZWRpcy5sb2NhbGhvc3QAdGVzdF9zbGF2ZSEjJCVeKigpYH4rLTtfPVtde318XABwYXNzd29yZCFAIyQlXiYqKCknImB+PD4rLS87Ol89W117fXxc&lt;/auth>

#sasl_auth{mechanism = <<"PLAIN">>,
           text = <<116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,64,114,
                    101,100,105,115,46,108,111,99,97,108,104,111,115,116,0,
                    116,101,115,116,95,115,108,97,118,101,33,35,36,37,94,42,
                    40,41,96,126,43,45,59,95,61,91,93,123,125,124,92,0,112,97,
                    115,115,119,111,114,100,33,64,35,36,37,94,38,42,40,41,39,
                    34,96,126,60,62,43,45,47,59,58,95,61,91,93,123,125,124,92>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.245 ***</b><a id=e-29062 class="link-to-entry" href="#e-29062">&#x1f517;</a>
RECV:
&lt;success xmlns='urn:ietf:params:xml:ns:xmpp-sasl'/>

#sasl_success{text = <<>>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.245 ***</b><a id=e-29063 class="link-to-entry" href="#e-29063">&#x1f517;</a>
SENT:
&lt;stream:stream version='1.0'
               xml:lang='en'
               xmlns:stream='http://etherx.jabber.org/streams'
               to='redis.localhost'
               xmlns='jabber:client'/>

#stream_start{from = undefined,
              to = #jid{user = <<>>,server = <<"redis.localhost">>,
                        resource = <<>>,luser = <<>>,
                        lserver = <<"redis.localhost">>,lresource = <<>>},
              id = <<>>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.246 ***</b><a id=e-29066 class="link-to-entry" href="#e-29066">&#x1f517;</a>
RECV:
&lt;stream:stream xmlns:stream='http://etherx.jabber.org/streams'
               xmlns='jabber:client'
               id='705800457538022958'
               version='1.0'
               xml:lang='en'
               from='redis.localhost'/>

#stream_start{from = #jid{user = <<>>,server = <<"redis.localhost">>,
                          resource = <<>>,luser = <<>>,
                          lserver = <<"redis.localhost">>,lresource = <<>>},
              to = undefined,id = <<"705800457538022958">>,
              version = {1,0},
              xmlns = <<"jabber:client">>,
              stream_xmlns = <<"http://etherx.jabber.org/streams">>,
              db_xmlns = <<>>,lang = <<"en">>}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.246 ***</b><a id=e-29068 class="link-to-entry" href="#e-29068">&#x1f517;</a>
RECV:
&lt;stream:features>
  &lt;compression xmlns='http://jabber.org/features/compress'>
    &lt;method>zlib&lt;/method>
  &lt;/compression>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'/>
  &lt;session xmlns='urn:ietf:params:xml:ns:xmpp-session'>
    &lt;optional/>
  &lt;/session>
  &lt;c xmlns='http://jabber.org/protocol/caps'
     ver='9dw1fKaE0crSfkc9KTtBadLPkJA='
     node='http://www.process-one.net/en/ejabberd/'
     hash='sha-1'/>
  &lt;sm xmlns='urn:xmpp:sm:2'/>
  &lt;sm xmlns='urn:xmpp:sm:3'/>
  &lt;ver xmlns='urn:xmpp:features:rosterver'/>
  &lt;csi xmlns='urn:xmpp:csi:0'/>
&lt;/stream:features>

#stream_features{
    sub_els =
        [#compression{methods = [<<"zlib">>]},
         #bind{jid = undefined,resource = <<>>},
         #xmpp_session{optional = true},
         #caps{
             node = <<"http://www.process-one.net/en/ejabberd/">>,
             version = <<"9dw1fKaE0crSfkc9KTtBadLPkJA=">>,hash = <<"sha-1">>,
             exts = []},
         #feature_sm{xmlns = <<"urn:xmpp:sm:2">>},
         #feature_sm{xmlns = <<"urn:xmpp:sm:3">>},
         #rosterver_feature{},
         #feature_csi{}]}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.247 ***</b><a id=e-29069 class="link-to-entry" href="#e-29069">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='5289209296370919783'
    xmlns='jabber:client'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;resource>resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/resource>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"5289209296370919783">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#bind{jid = undefined,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.249 ***</b><a id=e-29073 class="link-to-entry" href="#e-29073">&#x1f517;</a>
RECV:
&lt;iq type='result'
    id='5289209296370919783'>
  &lt;bind xmlns='urn:ietf:params:xml:ns:xmpp-bind'>
    &lt;jid>test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~&lt;>+-/;:_=[]{}|\&lt;/jid>
  &lt;/bind>
&lt;/iq>

#iq{id = <<"5289209296370919783">>,type = result,lang = <<>>,from = undefined,
    to = undefined,
    sub_els =
        [#bind{
             jid =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,
                     resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,
                     lresource =
                         <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
             resource = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.251 ***</b><a id=e-29074 class="link-to-entry" href="#e-29074">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='18119976361393441126'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:tmp'/>
&lt;/iq>

#iq{id = <<"18119976361393441126">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.252 ***</b><a id=e-29075 class="link-to-entry" href="#e-29075">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='18119976361393441126'>
  &lt;prefs xmlns='urn:xmpp:mam:tmp'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"18119976361393441126">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:tmp">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.252 ***</b><a id=e-29076 class="link-to-entry" href="#e-29076">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='3405613374894932745'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:0'/>
&lt;/iq>

#iq{id = <<"3405613374894932745">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.253 ***</b><a id=e-29077 class="link-to-entry" href="#e-29077">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='3405613374894932745'>
  &lt;prefs xmlns='urn:xmpp:mam:0'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"3405613374894932745">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:0">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.253 ***</b><a id=e-29078 class="link-to-entry" href="#e-29078">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='6237001881565450974'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:1'/>
&lt;/iq>

#iq{id = <<"6237001881565450974">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.254 ***</b><a id=e-29079 class="link-to-entry" href="#e-29079">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='6237001881565450974'>
  &lt;prefs xmlns='urn:xmpp:mam:1'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"6237001881565450974">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:1">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.254 ***</b><a id=e-29080 class="link-to-entry" href="#e-29080">&#x1f517;</a>
SENT:
&lt;iq type='set'
    id='15646147529810901660'
    xmlns='jabber:client'>
  &lt;prefs default='always'
         xmlns='urn:xmpp:mam:2'/>
&lt;/iq>

#iq{id = <<"15646147529810901660">>,type = set,lang = <<>>,from = undefined,
    to = undefined,
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = undefined,never = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.255 ***</b><a id=e-29081 class="link-to-entry" href="#e-29081">&#x1f517;</a>
RECV:
&lt;iq xml:lang='en'
    to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
    from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
    type='result'
    id='15646147529810901660'>
  &lt;prefs xmlns='urn:xmpp:mam:2'
         default='always'>
    &lt;always/>
    &lt;never/>
  &lt;/prefs>
&lt;/iq>

#iq{id = <<"15646147529810901660">>,type = result,lang = <<"en">>,
    from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                server = <<"redis.localhost">>,resource = <<>>,
                luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                lserver = <<"redis.localhost">>,lresource = <<>>},
    to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              server = <<"redis.localhost">>,
              resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
              luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
              lserver = <<"redis.localhost">>,
              lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    sub_els = [#mam_prefs{xmlns = <<"urn:xmpp:mam:2">>,default = always,
                          always = [],never = []}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.255 ***</b><a id=e-29082 class="link-to-entry" href="#e-29082">&#x1f517;</a>
SENT:
&lt;presence id='3384382692190838368'
          xmlns='jabber:client'/>

#presence{id = <<"3384382692190838368">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.256 ***</b><a id=e-29083 class="link-to-entry" href="#e-29083">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='3384382692190838368'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"3384382692190838368">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:06.256 ***</b><a id=e-29084 class="link-to-entry" href="#e-29084">&#x1f517;</a>
SENT:
&lt;presence type='unavailable'
          id='2815935050939061450'
          xmlns='jabber:client'/>

#presence{id = <<"2815935050939061450">>,type = unavailable,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.082 ***</b><a id=e-29915 class="link-to-entry" href="#e-29915">&#x1f517;</a>
SENT:
&lt;presence id='4961230351603415161'
          xmlns='jabber:client'/>

#presence{id = <<"4961230351603415161">>,type = available,lang = <<>>,
          from = undefined,to = undefined,show = undefined,status = [],
          priority = undefined,sub_els = [],meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.098 ***</b><a id=e-29916 class="link-to-entry" href="#e-29916">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16918233918826786138'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488182130'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488182130'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.182767Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"16918233918826786138">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488182130">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488182130">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550488,182767},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.098 ***</b><a id=e-29917 class="link-to-entry" href="#e-29917">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18349017416063880019'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488183049'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488183049'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.183049Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"18349017416063880019">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488183049">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488183049">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,183049},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.099 ***</b><a id=e-29918 class="link-to-entry" href="#e-29918">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16704764090391507177'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488183592'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488183592'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.183592Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"16704764090391507177">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488183592">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488183592">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,183592},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.099 ***</b><a id=e-29919 class="link-to-entry" href="#e-29919">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8233806920810668179'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488270955'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488270955'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.270955Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"8233806920810668179">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488270955">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488270955">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,270955},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.099 ***</b><a id=e-29920 class="link-to-entry" href="#e-29920">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8680007000711321322'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488274751'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488274751'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.274751Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"8680007000711321322">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488274751">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488274751">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,274751},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.100 ***</b><a id=e-29921 class="link-to-entry" href="#e-29921">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2316960858937196892'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488275870'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488275870'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.275870Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2316960858937196892">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488275870">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488275870">>},
         #delay{
             stamp = {1697,550488,275870},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.100 ***</b><a id=e-29922 class="link-to-entry" href="#e-29922">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2450200888560252180'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488278836'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488278836'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.278836Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2450200888560252180">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488278836">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488278836">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,278836},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.101 ***</b><a id=e-29923 class="link-to-entry" href="#e-29923">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9367586080123904984'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488279830'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488279830'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.279830Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9367586080123904984">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488279830">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488279830">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,279830},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.101 ***</b><a id=e-29924 class="link-to-entry" href="#e-29924">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13930694523345655312'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488372050'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488372050'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.372050Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13930694523345655312">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488372050">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488372050">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,372050},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.102 ***</b><a id=e-29925 class="link-to-entry" href="#e-29925">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14882375340110467857'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488372712'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488372712'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.372712Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14882375340110467857">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488372712">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488372712">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,372712},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.102 ***</b><a id=e-29926 class="link-to-entry" href="#e-29926">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2215256957061471086'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488373160'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488373160'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.373160Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2215256957061471086">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488373160">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488373160">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1697,550488,373160},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.102 ***</b><a id=e-29927 class="link-to-entry" href="#e-29927">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1271257175847457963'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488373731'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488373731'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.373731Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"1271257175847457963">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488373731">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488373731">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,373731},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.103 ***</b><a id=e-29928 class="link-to-entry" href="#e-29928">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7008190698819170174'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488374416'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488374416'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.374416Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7008190698819170174">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488374416">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488374416">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,374416},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.103 ***</b><a id=e-29929 class="link-to-entry" href="#e-29929">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4997684720099729042'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488493063'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488493063'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.493063Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4997684720099729042">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488493063">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488493063">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,493063},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.104 ***</b><a id=e-29930 class="link-to-entry" href="#e-29930">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15634126621507465249'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488493877'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488493877'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.493877Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15634126621507465249">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488493877">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488493877">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,493877},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.104 ***</b><a id=e-29931 class="link-to-entry" href="#e-29931">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1350773928161059657'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488494445'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488494445'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"1350773928161059657">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488494445">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488494445">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.105 ***</b><a id=e-29932 class="link-to-entry" href="#e-29932">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4320658447599578405'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488494886'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488494886'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4320658447599578405">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488494886">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488494886">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.105 ***</b><a id=e-29933 class="link-to-entry" href="#e-29933">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17237772227491592672'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488495382'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488495382'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17237772227491592672">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488495382">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488495382">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.106 ***</b><a id=e-29934 class="link-to-entry" href="#e-29934">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2965651429388180139'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488634043'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488634043'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2965651429388180139">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488634043">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488634043">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.106 ***</b><a id=e-29935 class="link-to-entry" href="#e-29935">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14955650412808660551'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488634974'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488634974'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14955650412808660551">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488634974">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488634974">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.107 ***</b><a id=e-29936 class="link-to-entry" href="#e-29936">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3772866299110547880'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488635603'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488635603'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.635603Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3772866299110547880">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488635603">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488635603">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550488,635603},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.108 ***</b><a id=e-29937 class="link-to-entry" href="#e-29937">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17926013923553415133'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488636182'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488636182'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.636182Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17926013923553415133">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488636182">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488636182">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,636182},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.109 ***</b><a id=e-29938 class="link-to-entry" href="#e-29938">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14544327999956280539'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488636805'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488636805'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.636805Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14544327999956280539">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488636805">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488636805">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,636805},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.109 ***</b><a id=e-29939 class="link-to-entry" href="#e-29939">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18251068622369090035'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488764997'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488764997'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.764997Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18251068622369090035">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488764997">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488764997">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,764997},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.109 ***</b><a id=e-29940 class="link-to-entry" href="#e-29940">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3034354613781776882'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488765978'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488765978'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.765978Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3034354613781776882">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488765978">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488765978">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,765978},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.110 ***</b><a id=e-29941 class="link-to-entry" href="#e-29941">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17571110312939452652'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488766736'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488766736'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.766736Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17571110312939452652">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488766736">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488766736">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1697,550488,766736},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.110 ***</b><a id=e-29942 class="link-to-entry" href="#e-29942">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6477797788153198425'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488767375'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488767375'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.767375Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6477797788153198425">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488767375">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488767375">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,767375},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.110 ***</b><a id=e-29943 class="link-to-entry" href="#e-29943">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13063816097128282203'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488768045'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488768045'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.768045Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13063816097128282203">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488768045">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488768045">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,768045},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.110 ***</b><a id=e-29944 class="link-to-entry" href="#e-29944">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='565755751146498276'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488911021'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488911021'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.911021Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"565755751146498276">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488911021">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488911021">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,911021},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.111 ***</b><a id=e-29945 class="link-to-entry" href="#e-29945">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16416128976930250690'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488911988'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488911988'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.911988Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16416128976930250690">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488911988">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488911988">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550488,911988},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.111 ***</b><a id=e-29946 class="link-to-entry" href="#e-29946">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10656561097457256559'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488912665'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488912665'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.912665Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"10656561097457256559">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488912665">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488912665">>},
         #delay{
             stamp = {1697,550488,912665},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.111 ***</b><a id=e-29947 class="link-to-entry" href="#e-29947">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5256233384793901893'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488913241'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488913241'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.913241Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"5256233384793901893">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488913241">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488913241">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,913241},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.112 ***</b><a id=e-29948 class="link-to-entry" href="#e-29948">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17935253213964588131'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550488913805'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550488913805'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:08.913805Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"17935253213964588131">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488913805">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550488913805">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550488,913805},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.112 ***</b><a id=e-29949 class="link-to-entry" href="#e-29949">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='169459861621351497'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489002069'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489002069'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.002069Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"169459861621351497">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489002069">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489002069">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,2069},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.112 ***</b><a id=e-29950 class="link-to-entry" href="#e-29950">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4921812911400498341'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489003109'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489003109'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.003109Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"4921812911400498341">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489003109">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489003109">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,3109},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.112 ***</b><a id=e-29951 class="link-to-entry" href="#e-29951">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7531113712983332540'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489003891'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489003891'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.003891Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"7531113712983332540">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489003891">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489003891">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1697,550489,3891},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.113 ***</b><a id=e-29952 class="link-to-entry" href="#e-29952">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13424848734570246263'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489004664'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489004664'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.004664Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13424848734570246263">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489004664">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489004664">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,4664},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.113 ***</b><a id=e-29953 class="link-to-entry" href="#e-29953">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13456231605334046565'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489005357'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489005357'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.005357Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13456231605334046565">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489005357">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489005357">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,5357},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.114 ***</b><a id=e-29954 class="link-to-entry" href="#e-29954">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1376913128424225956'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489117950'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489117950'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.117950Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1376913128424225956">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489117950">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489117950">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,117950},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.114 ***</b><a id=e-29955 class="link-to-entry" href="#e-29955">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11188801223257006815'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489119049'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489119049'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.119049Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"11188801223257006815">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489119049">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489119049">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,119049},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.114 ***</b><a id=e-29956 class="link-to-entry" href="#e-29956">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6971610275409138094'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489119917'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489119917'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6971610275409138094">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489119917">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489119917">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.114 ***</b><a id=e-29957 class="link-to-entry" href="#e-29957">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5725609929674191340'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489120651'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489120651'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"5725609929674191340">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489120651">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489120651">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.115 ***</b><a id=e-29958 class="link-to-entry" href="#e-29958">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7318914697459897471'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489121337'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489121337'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"7318914697459897471">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489121337">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489121337">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.115 ***</b><a id=e-29959 class="link-to-entry" href="#e-29959">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='929475954884878701'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489254875'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489254875'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"929475954884878701">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489254875">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489254875">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.115 ***</b><a id=e-29960 class="link-to-entry" href="#e-29960">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2721052978083549998'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489255883'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489255883'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"2721052978083549998">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489255883">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489255883">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.115 ***</b><a id=e-29961 class="link-to-entry" href="#e-29961">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4692745048660858588'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489256567'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489256567'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.256567Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"4692745048660858588">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489256567">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489256567">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550489,256567},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.116 ***</b><a id=e-29962 class="link-to-entry" href="#e-29962">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17374252014744326569'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489257373'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489257373'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.257373Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"17374252014744326569">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489257373">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489257373">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,257373},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.116 ***</b><a id=e-29963 class="link-to-entry" href="#e-29963">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9218137552684148892'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489258074'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489258074'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.258074Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"9218137552684148892">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489258074">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489258074">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,258074},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.116 ***</b><a id=e-29964 class="link-to-entry" href="#e-29964">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='957936186918048702'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489381036'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489381036'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.381036Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"957936186918048702">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489381036">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489381036">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,381036},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.116 ***</b><a id=e-29965 class="link-to-entry" href="#e-29965">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='1766641970337235829'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489381995'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489381995'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.381995Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"1766641970337235829">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489381995">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489381995">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,381995},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.117 ***</b><a id=e-29966 class="link-to-entry" href="#e-29966">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12501595627135011827'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489382771'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489382771'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.382771Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12501595627135011827">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489382771">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489382771">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1697,550489,382771},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.117 ***</b><a id=e-29967 class="link-to-entry" href="#e-29967">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13573325831783325749'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489383483'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489383483'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.383483Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13573325831783325749">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489383483">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489383483">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,383483},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.117 ***</b><a id=e-29968 class="link-to-entry" href="#e-29968">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='13723290674970244380'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489384132'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489384132'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.384132Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13723290674970244380">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489384132">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489384132">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,384132},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.117 ***</b><a id=e-29969 class="link-to-entry" href="#e-29969">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9411317114954925928'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489526962'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489526962'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.526962Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"9411317114954925928">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489526962">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489526962">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,526962},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.118 ***</b><a id=e-29970 class="link-to-entry" href="#e-29970">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='17552120422808252544'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489527967'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489527967'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.527967Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"17552120422808252544">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489527967">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489527967">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,527967},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.119 ***</b><a id=e-29971 class="link-to-entry" href="#e-29971">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='11467027474949084233'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489528750'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489528750'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.528750Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11467027474949084233">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489528750">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489528750">>},
         #delay{
             stamp = {1697,550489,528750},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.119 ***</b><a id=e-29972 class="link-to-entry" href="#e-29972">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5190229322200584299'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489529506'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489529506'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.529506Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5190229322200584299">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489529506">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489529506">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,529506},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.120 ***</b><a id=e-29973 class="link-to-entry" href="#e-29973">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6076274231162594736'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489530116'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489530116'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.530116Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6076274231162594736">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489530116">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489530116">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,530116},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.120 ***</b><a id=e-29974 class="link-to-entry" href="#e-29974">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='18425457658271189415'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489623067'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489623067'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.623067Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18425457658271189415">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489623067">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489623067">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,623067},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.121 ***</b><a id=e-29975 class="link-to-entry" href="#e-29975">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='4770254448518380799'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489623983'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489623983'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.623983Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4770254448518380799">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489623983">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489623983">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,623983},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.122 ***</b><a id=e-29976 class="link-to-entry" href="#e-29976">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7412951423040553202'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489624825'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489624825'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.624825Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7412951423040553202">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489624825">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489624825">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1697,550489,624825},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.122 ***</b><a id=e-29977 class="link-to-entry" href="#e-29977">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='15314237492510592197'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489625484'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489625484'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.625484Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15314237492510592197">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489625484">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489625484">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,625484},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.123 ***</b><a id=e-29978 class="link-to-entry" href="#e-29978">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='790413851648138064'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489626399'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489626399'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.626399Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"790413851648138064">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489626399">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489626399">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,626399},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.123 ***</b><a id=e-29979 class="link-to-entry" href="#e-29979">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='14526558786659790457'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489758954'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489758954'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.758954Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14526558786659790457">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489758954">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489758954">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,758954},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.124 ***</b><a id=e-29980 class="link-to-entry" href="#e-29980">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3914145767815973216'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489760104'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489760104'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.760104Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3914145767815973216">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489760104">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489760104">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550489,760104},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.124 ***</b><a id=e-29981 class="link-to-entry" href="#e-29981">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16463311805014830662'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489760800'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489760800'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16463311805014830662">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489760800">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489760800">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.124 ***</b><a id=e-29982 class="link-to-entry" href="#e-29982">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='3648813105351923385'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489761660'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489761660'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3648813105351923385">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489761660">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489761660">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.125 ***</b><a id=e-29983 class="link-to-entry" href="#e-29983">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='8906402849498705993'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489904974'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489904974'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"8906402849498705993">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489904974">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489904974">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.125 ***</b><a id=e-29984 class="link-to-entry" href="#e-29984">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16536195344865666469'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489916856'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489916856'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16536195344865666469">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489916856">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489916856">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.125 ***</b><a id=e-29985 class="link-to-entry" href="#e-29985">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='2276454929219319812'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489917811'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489917811'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2276454929219319812">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489917811">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489917811">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.126 ***</b><a id=e-29986 class="link-to-entry" href="#e-29986">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='12347491082263582396'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489986056'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489986056'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.986056Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12347491082263582396">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489986056">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489986056">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550489,986056},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.126 ***</b><a id=e-29987 class="link-to-entry" href="#e-29987">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='5213891614899455063'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489987145'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489987145'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.987145Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5213891614899455063">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489987145">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489987145">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,987145},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.126 ***</b><a id=e-29988 class="link-to-entry" href="#e-29988">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6862047455951840977'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550489987952'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550489987952'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:09.987952Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6862047455951840977">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489987952">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550489987952">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550489,987952},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.126 ***</b><a id=e-29989 class="link-to-entry" href="#e-29989">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='7436608162712376129'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490062992'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490062992'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.062992Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7436608162712376129">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490062992">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490062992">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,62992},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.127 ***</b><a id=e-29990 class="link-to-entry" href="#e-29990">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='16034355922707741309'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490064188'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490064188'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.064188Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16034355922707741309">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490064188">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490064188">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,64188},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.129 ***</b><a id=e-29991 class="link-to-entry" href="#e-29991">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='9200034509951442907'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490065200'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490065200'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.065200Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9200034509951442907">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490065200">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490065200">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1697,550490,65200},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.129 ***</b><a id=e-29992 class="link-to-entry" href="#e-29992">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6631291431756115297'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490066104'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490066104'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.066104Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6631291431756115297">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490066104">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490066104">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,66104},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.129 ***</b><a id=e-29993 class="link-to-entry" href="#e-29993">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10992021082137514004'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490067009'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490067009'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.067009Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10992021082137514004">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490067009">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490067009">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,67009},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.129 ***</b><a id=e-29994 class="link-to-entry" href="#e-29994">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='10993147370734560324'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490208929'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490208929'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.208929Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10993147370734560324">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490208929">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490208929">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,208929},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.130 ***</b><a id=e-29995 class="link-to-entry" href="#e-29995">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='chat'
         id='6735636401214686507'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490210269'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490210269'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.210269Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6735636401214686507">>,type = chat,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490210269">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490210269">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,210269},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.130 ***</b><a id=e-29996 class="link-to-entry" href="#e-29996">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11227671571222678414'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490211228'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490211228'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.211228Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"11227671571222678414">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490211228">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490211228">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550490,211228},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.130 ***</b><a id=e-29997 class="link-to-entry" href="#e-29997">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3496665251406228136'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490212126'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490212126'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.212126Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"3496665251406228136">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490212126">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490212126">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,212126},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.130 ***</b><a id=e-29998 class="link-to-entry" href="#e-29998">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12536049183341627555'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490213018'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490213018'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.213018Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"12536049183341627555">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490213018">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490213018">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,213018},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.131 ***</b><a id=e-29999 class="link-to-entry" href="#e-29999">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3118828020270623139'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490316971'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490316971'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.316971Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"3118828020270623139">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490316971">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490316971">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,316971},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.131 ***</b><a id=e-30000 class="link-to-entry" href="#e-30000">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2530011411249301813'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490318280'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490318280'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.318280Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"2530011411249301813">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490318280">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490318280">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,318280},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.131 ***</b><a id=e-30001 class="link-to-entry" href="#e-30001">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15795969300519145216'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490319372'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490319372'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.319372Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15795969300519145216">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490319372">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490319372">>},
         #delay{
             stamp = {1697,550490,319372},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.131 ***</b><a id=e-30002 class="link-to-entry" href="#e-30002">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12094963000233515762'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490320438'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490320438'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.320438Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12094963000233515762">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490320438">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490320438">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,320438},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.132 ***</b><a id=e-30003 class="link-to-entry" href="#e-30003">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='970151339590086270'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490321355'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490321355'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.321355Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"970151339590086270">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490321355">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490321355">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,321355},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.132 ***</b><a id=e-30004 class="link-to-entry" href="#e-30004">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17826960712161298525'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490413030'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490413030'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.413030Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17826960712161298525">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490413030">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490413030">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,413030},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.132 ***</b><a id=e-30005 class="link-to-entry" href="#e-30005">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13708288347528817188'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490414577'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490414577'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.414577Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13708288347528817188">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490414577">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490414577">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,414577},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.132 ***</b><a id=e-30006 class="link-to-entry" href="#e-30006">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7550764013256622469'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490415493'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490415493'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.415493Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7550764013256622469">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490415493">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490415493">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1697,550490,415493},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.133 ***</b><a id=e-30007 class="link-to-entry" href="#e-30007">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2059854142499891636'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490416257'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490416257'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.416257Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2059854142499891636">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490416257">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490416257">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,416257},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.133 ***</b><a id=e-30008 class="link-to-entry" href="#e-30008">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13856633378798080230'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490417050'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490417050'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.417050Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13856633378798080230">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490417050">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490417050">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,417050},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.133 ***</b><a id=e-30009 class="link-to-entry" href="#e-30009">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18343596027087073255'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490527037'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490527037'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.527037Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18343596027087073255">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490527037">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490527037">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,527037},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.134 ***</b><a id=e-30010 class="link-to-entry" href="#e-30010">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6152744387610832390'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490528312'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490528312'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.528312Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6152744387610832390">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490528312">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490528312">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,528312},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.134 ***</b><a id=e-30011 class="link-to-entry" href="#e-30011">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11751826230716508971'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490529157'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490529157'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11751826230716508971">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490529157">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490529157">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.134 ***</b><a id=e-30012 class="link-to-entry" href="#e-30012">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10044650403554743212'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490529991'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490529991'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10044650403554743212">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490529991">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490529991">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.134 ***</b><a id=e-30013 class="link-to-entry" href="#e-30013">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6483298763237104693'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490530774'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490530774'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6483298763237104693">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490530774">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490530774">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.134 ***</b><a id=e-30014 class="link-to-entry" href="#e-30014">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2235547546968961440'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490662945'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490662945'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2235547546968961440">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490662945">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490662945">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.135 ***</b><a id=e-30015 class="link-to-entry" href="#e-30015">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3965774615856891131'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490664135'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490664135'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3965774615856891131">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490664135">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490664135">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.135 ***</b><a id=e-30016 class="link-to-entry" href="#e-30016">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12991810576459357616'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490665066'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490665066'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.665066Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12991810576459357616">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490665066">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490665066">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550490,665066},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.135 ***</b><a id=e-30017 class="link-to-entry" href="#e-30017">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='964756488242381049'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490666000'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490666000'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.666000Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"964756488242381049">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490666000">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490666000">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,666000},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.136 ***</b><a id=e-30018 class="link-to-entry" href="#e-30018">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10961780169517111344'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490666959'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490666959'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.666959Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10961780169517111344">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490666959">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490666959">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,666959},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.136 ***</b><a id=e-30019 class="link-to-entry" href="#e-30019">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6349095109503207396'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490788004'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490788004'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.788004Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6349095109503207396">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490788004">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490788004">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,788004},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.136 ***</b><a id=e-30020 class="link-to-entry" href="#e-30020">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='576498071611632899'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490789672'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490789672'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.789672Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"576498071611632899">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490789672">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490789672">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,789672},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.136 ***</b><a id=e-30021 class="link-to-entry" href="#e-30021">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14890789047646852964'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490791059'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490791059'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.791059Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14890789047646852964">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490791059">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490791059">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1697,550490,791059},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.138 ***</b><a id=e-30022 class="link-to-entry" href="#e-30022">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11369779059193872810'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490792270'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490792270'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.792270Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"11369779059193872810">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490792270">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490792270">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,792270},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.138 ***</b><a id=e-30023 class="link-to-entry" href="#e-30023">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='15780045335163622241'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490793403'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490793403'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.793403Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"15780045335163622241">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490793403">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490793403">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,793403},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.139 ***</b><a id=e-30024 class="link-to-entry" href="#e-30024">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17134922922141542000'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490794470'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490794470'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.794470Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17134922922141542000">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490794470">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490794470">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,794470},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.139 ***</b><a id=e-30025 class="link-to-entry" href="#e-30025">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2338323235291009284'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490933907'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490933907'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.933907Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2338323235291009284">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490933907">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490933907">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550490,933907},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.139 ***</b><a id=e-30026 class="link-to-entry" href="#e-30026">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5366731313335446650'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490935745'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490935745'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.935745Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"5366731313335446650">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490935745">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490935745">>},
         #delay{
             stamp = {1697,550490,935745},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.140 ***</b><a id=e-30027 class="link-to-entry" href="#e-30027">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11458636716282677830'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490936910'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490936910'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.936910Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"11458636716282677830">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490936910">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490936910">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,936910},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.140 ***</b><a id=e-30028 class="link-to-entry" href="#e-30028">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11062747309695975872'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550490937854'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550490937854'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:10.937854Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"11062747309695975872">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490937854">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550490937854">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550490,937854},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.140 ***</b><a id=e-30029 class="link-to-entry" href="#e-30029">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12911152540268098617'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491012966'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491012966'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.012966Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12911152540268098617">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491012966">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491012966">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,12966},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.140 ***</b><a id=e-30030 class="link-to-entry" href="#e-30030">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12275655641553228538'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491014644'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491014644'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.014644Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12275655641553228538">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491014644">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491014644">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,14644},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.141 ***</b><a id=e-30031 class="link-to-entry" href="#e-30031">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='575548521427678263'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491015747'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491015747'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.015747Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"575548521427678263">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491015747">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491015747">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1697,550491,15747},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.141 ***</b><a id=e-30032 class="link-to-entry" href="#e-30032">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10384042502058045095'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491016760'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491016760'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.016760Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"10384042502058045095">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491016760">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491016760">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,16760},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.141 ***</b><a id=e-30033 class="link-to-entry" href="#e-30033">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8134366066324956429'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491017650'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491017650'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.017650Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"8134366066324956429">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491017650">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491017650">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,17650},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.141 ***</b><a id=e-30034 class="link-to-entry" href="#e-30034">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16790390195507587023'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491123090'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491123090'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.123090Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"16790390195507587023">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491123090">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491123090">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,123090},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.142 ***</b><a id=e-30035 class="link-to-entry" href="#e-30035">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14904764704130346601'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491124494'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491124494'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.124494Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"14904764704130346601">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491124494">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491124494">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,124494},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.142 ***</b><a id=e-30036 class="link-to-entry" href="#e-30036">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6722691279086004067'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491125680'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491125680'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6722691279086004067">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491125680">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491125680">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.142 ***</b><a id=e-30037 class="link-to-entry" href="#e-30037">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18022616916362478691'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491126763'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491126763'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"18022616916362478691">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491126763">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491126763">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.142 ***</b><a id=e-30038 class="link-to-entry" href="#e-30038">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13253902107248294126'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491127782'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491127782'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13253902107248294126">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491127782">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491127782">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.142 ***</b><a id=e-30039 class="link-to-entry" href="#e-30039">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='11875241993998736592'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491254049'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491254049'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"11875241993998736592">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491254049">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491254049">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.143 ***</b><a id=e-30040 class="link-to-entry" href="#e-30040">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13813578896204031881'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491255693'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491255693'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13813578896204031881">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491255693">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491255693">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.143 ***</b><a id=e-30041 class="link-to-entry" href="#e-30041">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2289283658341338007'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491257110'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491257110'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.257110Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"2289283658341338007">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491257110">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491257110">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550491,257110},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.143 ***</b><a id=e-30042 class="link-to-entry" href="#e-30042">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6224375598770999024'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491258284'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491258284'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.258284Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6224375598770999024">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491258284">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491258284">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,258284},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.144 ***</b><a id=e-30043 class="link-to-entry" href="#e-30043">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6516766062512266938'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491259384'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491259384'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.259384Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6516766062512266938">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491259384">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491259384">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,259384},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.144 ***</b><a id=e-30044 class="link-to-entry" href="#e-30044">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='958149699942487965'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491374040'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491374040'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.374040Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"958149699942487965">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491374040">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491374040">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,374040},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.144 ***</b><a id=e-30045 class="link-to-entry" href="#e-30045">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10100618874600096172'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491375497'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491375497'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.375497Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"10100618874600096172">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491375497">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491375497">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,375497},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.144 ***</b><a id=e-30046 class="link-to-entry" href="#e-30046">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13132273972645605394'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491376747'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491376747'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.376747Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13132273972645605394">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491376747">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491376747">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1697,550491,376747},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.145 ***</b><a id=e-30047 class="link-to-entry" href="#e-30047">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13081905648141668549'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491377932'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491377932'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.377932Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"13081905648141668549">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491377932">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491377932">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,377932},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.145 ***</b><a id=e-30048 class="link-to-entry" href="#e-30048">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16486264367313620384'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491379248'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491379248'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.379248Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"16486264367313620384">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491379248">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491379248">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,379248},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.145 ***</b><a id=e-30049 class="link-to-entry" href="#e-30049">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18250438802364173094'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491380421'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491380421'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.380421Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"18250438802364173094">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491380421">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491380421">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,380421},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.145 ***</b><a id=e-30050 class="link-to-entry" href="#e-30050">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9984928881926609903'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491520344'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491520344'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.520344Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"9984928881926609903">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491520344">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491520344">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,520344},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.145 ***</b><a id=e-30051 class="link-to-entry" href="#e-30051">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5289171117818248594'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491522270'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491522270'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.522270Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5289171117818248594">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491522270">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491522270">>},
         #delay{
             stamp = {1697,550491,522270},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.146 ***</b><a id=e-30052 class="link-to-entry" href="#e-30052">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4465885056577646787'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491523541'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491523541'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.523541Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4465885056577646787">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491523541">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491523541">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,523541},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.146 ***</b><a id=e-30053 class="link-to-entry" href="#e-30053">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2703281704488088570'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491524938'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491524938'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.524938Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2703281704488088570">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491524938">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491524938">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,524938},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.146 ***</b><a id=e-30054 class="link-to-entry" href="#e-30054">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='18266597434963290045'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491603921'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491603921'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.603921Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"18266597434963290045">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491603921">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491603921">>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,603921},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.147 ***</b><a id=e-30055 class="link-to-entry" href="#e-30055">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12792463863452550688'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491605551'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491605551'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.605551Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12792463863452550688">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491605551">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491605551">>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,605551},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.147 ***</b><a id=e-30056 class="link-to-entry" href="#e-30056">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='7525267940220960165'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491607133'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491607133'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.607133Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7525267940220960165">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491607133">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491607133">>},
         #chatstate{type = composing},
         #delay{
             stamp = {1697,550491,607133},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.147 ***</b><a id=e-30057 class="link-to-entry" href="#e-30057">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='5959484379311990598'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491608425'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491608425'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.608425Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5959484379311990598">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491608425">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491608425">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,608425},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.147 ***</b><a id=e-30058 class="link-to-entry" href="#e-30058">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='16171916240653238978'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491609528'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491609528'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.609528Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"16171916240653238978">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491609528">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491609528">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,609528},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.148 ***</b><a id=e-30059 class="link-to-entry" href="#e-30059">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9222732060185551485'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491735043'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491735043'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.735043Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9222732060185551485">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491735043">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491735043">>},
         #chatstate{type = composing},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,735043},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.148 ***</b><a id=e-30060 class="link-to-entry" href="#e-30060">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='17485327305194928403'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491737098'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491737098'/>
  &lt;composing xmlns='http://jabber.org/protocol/chatstates'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.737098Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17485327305194928403">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491737098">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491737098">>},
         #chatstate{type = composing},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550491,737098},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.148 ***</b><a id=e-30061 class="link-to-entry" href="#e-30061">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13704139919057738388'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491738361'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491738361'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13704139919057738388">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491738361">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491738361">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.148 ***</b><a id=e-30062 class="link-to-entry" href="#e-30062">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='9209553808174444074'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491739983'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491739983'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"9209553808174444074">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491739983">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491739983">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.149 ***</b><a id=e-30063 class="link-to-entry" href="#e-30063">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12656911413890844354'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491881068'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491881068'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12656911413890844354">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491881068">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491881068">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.149 ***</b><a id=e-30064 class="link-to-entry" href="#e-30064">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='3424141290706337347'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491885765'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491885765'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"3424141290706337347">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491885765">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491885765">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.149 ***</b><a id=e-30065 class="link-to-entry" href="#e-30065">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13678044306913815900'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491886958'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491886958'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:06.256953Z'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13678044306913815900">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491886958">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491886958">>},
         #delay{
             stamp = {1697,550486,256953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<>>},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.149 ***</b><a id=e-30066 class="link-to-entry" href="#e-30066">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='6505947763250988787'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491953190'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491953190'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.953190Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"6505947763250988787">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491953190">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491953190">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550491,953190},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.150 ***</b><a id=e-30067 class="link-to-entry" href="#e-30067">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8168161319421602789'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491955089'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491955089'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.955089Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"8168161319421602789">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491955089">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491955089">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,955089},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.150 ***</b><a id=e-30068 class="link-to-entry" href="#e-30068">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='592061457437760956'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550491956360'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550491956360'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:11.956360Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"592061457437760956">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491956360">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550491956360">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550491,956360},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.150 ***</b><a id=e-30069 class="link-to-entry" href="#e-30069">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='12309468759882822716'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492025972'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492025972'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.025972Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"12309468759882822716">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492025972">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492025972">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,25972},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.151 ***</b><a id=e-30070 class="link-to-entry" href="#e-30070">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='10797096744931247613'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492027618'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492027618'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.027618Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"10797096744931247613">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492027618">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492027618">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,27618},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.153 ***</b><a id=e-30071 class="link-to-entry" href="#e-30071">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='2280481471582942600'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492028740'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492028740'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.028740Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2280481471582942600">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492028740">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492028740">>},
         #offline{items = [],purge = false,fetch = false},
         #delay{
             stamp = {1697,550492,28740},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.153 ***</b><a id=e-30072 class="link-to-entry" href="#e-30072">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='8082898049197070783'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492030167'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492030167'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.030167Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"8082898049197070783">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492030167">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492030167">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,30167},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.153 ***</b><a id=e-30073 class="link-to-entry" href="#e-30073">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='14584158221447098346'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492031514'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492031514'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.031514Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14584158221447098346">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492031514">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492031514">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,31514},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.154 ***</b><a id=e-30074 class="link-to-entry" href="#e-30074">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='13615643659588231809'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492171926'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492171926'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.171926Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13615643659588231809">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492171926">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492171926">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,171926},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.154 ***</b><a id=e-30075 class="link-to-entry" href="#e-30075">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         id='4977580882667748953'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492173701'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492173701'/>
  &lt;offline xmlns='http://jabber.org/protocol/offline'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.173701Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4977580882667748953">>,type = normal,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492173701">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492173701">>},
         #offline{items = [],purge = false,fetch = false},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,173701},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.154 ***</b><a id=e-30076 class="link-to-entry" href="#e-30076">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='14042384964760165734'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492175364'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492175364'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.175364Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"14042384964760165734">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492175364">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492175364">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550492,175364},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.155 ***</b><a id=e-30077 class="link-to-entry" href="#e-30077">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='821019920211619970'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492176812'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492176812'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.176812Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"821019920211619970">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492176812">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492176812">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,176812},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.155 ***</b><a id=e-30078 class="link-to-entry" href="#e-30078">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='8970860887318020142'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492178584'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492178584'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.178584Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"8970860887318020142">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492178584">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492178584">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,178584},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.155 ***</b><a id=e-30079 class="link-to-entry" href="#e-30079">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='8829336632197167729'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492276879'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492276879'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.276879Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"8829336632197167729">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492276879">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492276879">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,276879},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.155 ***</b><a id=e-30080 class="link-to-entry" href="#e-30080">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='5358013682041617384'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492279337'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492279337'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.279337Z'>Offline storage&lt;/delay>
&lt;/message>

#message{
    id = <<"5358013682041617384">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492279337">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492279337">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,279337},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.156 ***</b><a id=e-30081 class="link-to-entry" href="#e-30081">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='7852542512578920982'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492281020'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492281020'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.281020Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"7852542512578920982">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492281020">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492281020">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550492,281020},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.156 ***</b><a id=e-30082 class="link-to-entry" href="#e-30082">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='17605332634306867651'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492282542'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492282542'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.282542Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"17605332634306867651">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492282542">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492282542">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,282542},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.156 ***</b><a id=e-30083 class="link-to-entry" href="#e-30083">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='2406945790186446653'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492283911'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492283911'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.283911Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2406945790186446653">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492283911">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492283911">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,283911},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.156 ***</b><a id=e-30084 class="link-to-entry" href="#e-30084">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='14853852974143738070'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492390020'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492390020'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.390020Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"14853852974143738070">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492390020">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492390020">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,390020},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.157 ***</b><a id=e-30085 class="link-to-entry" href="#e-30085">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='13629639397392335483'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492392378'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492392378'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.392378Z'>Offline storage&lt;/delay>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13629639397392335483">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [],thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492392378">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492392378">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,392378},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.157 ***</b><a id=e-30086 class="link-to-entry" href="#e-30086">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='12610613767457073452'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492394213'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492394213'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.394213Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"12610613767457073452">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492394213">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492394213">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550492,394213},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.157 ***</b><a id=e-30087 class="link-to-entry" href="#e-30087">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='8992908110239901986'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492395874'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492395874'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.395874Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"8992908110239901986">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492395874">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492395874">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,395874},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.157 ***</b><a id=e-30088 class="link-to-entry" href="#e-30088">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='6893643538532120955'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492397620'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492397620'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.397620Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"6893643538532120955">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492397620">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492397620">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,397620},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.157 ***</b><a id=e-30089 class="link-to-entry" href="#e-30089">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='17972747172555396753'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492507902'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492507902'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.507902Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"17972747172555396753">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492507902">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492507902">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,507902},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.158 ***</b><a id=e-30090 class="link-to-entry" href="#e-30090">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='5605310683836730169'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492510185'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492510185'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.510185Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
&lt;/message>

#message{
    id = <<"5605310683836730169">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492510185">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492510185">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,510185},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.158 ***</b><a id=e-30091 class="link-to-entry" href="#e-30091">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='4299329598479930799'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492511689'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492511689'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.511689Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"4299329598479930799">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492511689">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492511689">>},
         #hint{type = store},
         #delay{
             stamp = {1697,550492,511689},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.158 ***</b><a id=e-30092 class="link-to-entry" href="#e-30092">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='922412953677993361'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492513245'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492513245'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'/>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.513245Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"922412953677993361">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492513245">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492513245">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,513245},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.159 ***</b><a id=e-30093 class="link-to-entry" href="#e-30093">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='13256490564056966691'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492514566'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492514566'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.514566Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"13256490564056966691">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492514566">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492514566">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = undefined},
         #delay{
             stamp = {1697,550492,514566},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.159 ***</b><a id=e-30094 class="link-to-entry" href="#e-30094">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='5795762491691095529'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492635953'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492635953'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.635953Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"5795762491691095529">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492635953">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492635953">>},
         #hint{type = store},
         #xevent{
             offline = false,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,635953},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.159 ***</b><a id=e-30095 class="link-to-entry" href="#e-30095">&#x1f517;</a>
RECV:
&lt;message xml:lang='en'
         to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
         from='test_master!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
         type='headline'
         id='2194445322688039127'>
  &lt;archived xmlns='urn:xmpp:mam:tmp'
            by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
            id='1697550492638009'/>
  &lt;stanza-id xmlns='urn:xmpp:sid:0'
             by='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost'
             id='1697550492638009'/>
  &lt;store xmlns='urn:xmpp:hints'/>
  &lt;x xmlns='jabber:x:event'>
    &lt;offline/>
    &lt;id>1983333149&lt;/id>
  &lt;/x>
  &lt;delay xmlns='urn:xmpp:delay'
         from='redis.localhost'
         stamp='2023-10-17T13:48:12.638009Z'>Offline storage&lt;/delay>
  &lt;body xml:lang='en'>body&lt;/body>
  &lt;subject xml:lang='en'>subject&lt;/subject>
&lt;/message>

#message{
    id = <<"2194445322688039127">>,type = headline,lang = <<"en">>,
    from =
        #jid{
            user = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,
            resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
            luser = <<"test_master!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,
            lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
    to =
        #jid{
            user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            server = <<"redis.localhost">>,resource = <<>>,
            luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
            lserver = <<"redis.localhost">>,lresource = <<>>},
    subject = [#text{lang = <<"en">>,data = <<"subject">>}],
    body = [#text{lang = <<"en">>,data = <<"body">>}],
    thread = undefined,
    sub_els =
        [#mam_archived{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492638009">>},
         #stanza_id{
             by =
                 #jid{
                     user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     server = <<"redis.localhost">>,resource = <<>>,
                     luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             id = <<"1697550492638009">>},
         #hint{type = store},
         #xevent{
             offline = true,delivered = false,displayed = false,
             composing = false,id = <<"1983333149">>},
         #delay{
             stamp = {1697,550492,638009},
             from =
                 #jid{
                     user = <<>>,server = <<"redis.localhost">>,
                     resource = <<>>,luser = <<>>,
                     lserver = <<"redis.localhost">>,lresource = <<>>},
             desc = <<"Offline storage">>}],
    meta = #{}}
</pre></div>
<pre>

</pre>
<div class="default"><pre><b>*** User 2023-10-17 13:48:20.159 ***</b><a id=e-30096 class="link-to-entry" href="#e-30096">&#x1f517;</a>
RECV:
&lt;presence xml:lang='en'
          to='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          from='test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&amp;*()&apos;&quot;`~&lt;&gt;+-/;:_=[]{}|\'
          id='4961230351603415161'>
  &lt;x xmlns='vcard-temp:x:update'/>
&lt;/presence>

#presence{id = <<"4961230351603415161">>,type = available,lang = <<"en">>,
          from = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      server = <<"redis.localhost">>,
                      resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                      luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                      lserver = <<"redis.localhost">>,
                      lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          to = #jid{user = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    server = <<"redis.localhost">>,
                    resource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>,
                    luser = <<"test_slave!#$%^*()`~+-;_=[]{}|\\">>,
                    lserver = <<"redis.localhost">>,
                    lresource = <<"resource!@#$%^&*()'\"`~<>+-/;:_=[]{}|\\">>},
          show = undefined,status = [],priority = undefined,
          sub_els = [#vcard_xupdate{hash = undefined}],
          meta = #{}}
</pre></div>
<pre>

</pre>
<div class="error_logger"><pre><b>*** System report during offline_from_mam in ejabberd_SUITE 2023-10-17 13:48:20.170 ***</b><a id=e-30097 class="link-to-entry" href="#e-30097">&#x1f517;</a>
=INFO REPORT==== 17-Oct-2023::13:48:20.170384 ===
(tcp|<0.5388.1>) Closing c2s session for test_slave!#$%^*()`~+-;_=[]{}|\@redis.localhost/resource!@#$%^&*()'"`~<>+-/;:_=[]{}|\: Stream reset by peer

</pre></div>
<pre>
<a name="end"></a>


=== Ended at 2023-10-17 13:48:20
=== successfully completed test case
=== === Returned value: [{receiver,undefined},
                     {csi,true},
                     {rosterver,true},
                     {sm,true},
                     {compression,[&lt;&lt;"zlib"&gt;&gt;]},
                     {stream_id,&lt;&lt;"705800457538022958"&gt;&gt;},
                     {sasl,#Fun&lt;suite.6.29181985&gt;},
                     {legacy_auth,true},
                     {register,true},
                     {starttls,true},
                     {mechs,
                         [&lt;&lt;"DIGEST-MD5"&gt;&gt;,&lt;&lt;"PLAIN"&gt;&gt;,&lt;&lt;"SCRAM-SHA-512"&gt;&gt;,
                          &lt;&lt;"SCRAM-SHA-256"&gt;&gt;,&lt;&lt;"SCRAM-SHA-1"&gt;&gt;,
                          &lt;&lt;"X-OAUTH2"&gt;&gt;]},
                     {peer,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {peer_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {user,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;},
                     {slave,
                         {jid,&lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_slave!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {master,
                         {jid,&lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"test_master!#$%^*()`~+-;_=[]{}|\\"&gt;&gt;,
                             &lt;&lt;"redis.localhost"&gt;&gt;,
                             &lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;}},
                     {resource,&lt;&lt;"resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {nick,&lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {mode,slave},
                     {watchdog,&lt;0.5384.1&gt;},
                     {event_relay,&lt;0.5375.1&gt;},
                     {server,&lt;&lt;"redis.localhost"&gt;&gt;},
                     {server_port,5222},
                     {server_host,"localhost"},
                     {component_port,5270},
                     {s2s_port,5269},
                     {master_nick,
                         &lt;&lt;"master_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_nick,
                         &lt;&lt;"slave_nick!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {room_subject,
                         &lt;&lt;"hello, world!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {certfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/cert.pem"},
                     {persistent_room,true},
                     {anonymous,false},
                     {type,client},
                     {xmlns,&lt;&lt;"jabber:client"&gt;&gt;},
                     {ns_stream,&lt;&lt;"http://etherx.jabber.org/streams"&gt;&gt;},
                     {stream_version,{1,0}},
                     {stream_from,&lt;&lt;&gt;&gt;},
                     {db_xmlns,&lt;&lt;&gt;&gt;},
                     {lang,&lt;&lt;"en"&gt;&gt;},
                     {base_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd"},
                     {pubsub_node,&lt;&lt;"node!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {pubsub_node_title,
                         &lt;&lt;"title!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {master_resource,
                         &lt;&lt;"master_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {slave_resource,
                         &lt;&lt;"slave_resource!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {update_sql,false},
                     {password,&lt;&lt;"password!@#$%^&amp;*()'\"`~&lt;&gt;+-/;:_=[]{}|\\"&gt;&gt;},
                     {backends,[mnesia,redis,mysql,pgsql,sqlite,ldap,extauth]},
                     {tc_logfile,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1697550182@602-badlop-master-b7166d7.2023-10-17_13.44.41/lib.ejabberd.logs/run.2023-10-17_13.44.42/ejabberd_suite.offline_from_mam_slave.21443.html"},
                     {tc_group_properties,[{name,offline_from_mam},parallel]},
                     {tc_group_path,
                         [[{name,offline_master_slave},sequence],
                          [{name,redis},sequence]]},
                     {data_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/lib/ejabberd/test/ejabberd_SUITE_data/"},
                     {priv_dir,
                         "/home/runner/work/ejabberd/ejabberd/_build/test/logs/ct_run.1697550182@602-badlop-master-b7166d7.2023-10-17_13.44.41/lib.ejabberd.logs/run.2023-10-17_13.44.42/log_private/"}]
